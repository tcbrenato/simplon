"use strict";var yG=Object.create;var Dm=Object.defineProperty;var vG=Object.getOwnPropertyDescriptor;var xG=Object.getOwnPropertyNames;var _G=Object.getPrototypeOf,bG=Object.prototype.hasOwnProperty;var CG=(e,t,r)=>t in e?Dm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var s=(e,t)=>Dm(e,"name",{value:t,configurable:!0});var C0=(e,t)=>()=>(e&&(t=e(e=0)),t);var ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var TG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of xG(t))!bG.call(e,i)&&i!==r&&Dm(e,i,{get:()=>t[i],enumerable:!(n=vG(t,i))||n.enumerable});return e};var U0=(e,t,r)=>(r=e!=null?yG(_G(e)):{},TG(t||!e||!e.__esModule?Dm(r,"default",{value:e,enumerable:!0}):r,e));var tn=(e,t,r)=>(CG(e,typeof t!="symbol"?t+"":t,r),r),Lx=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var We=(e,t,r)=>(Lx(e,t,"read from private field"),r?r.call(e):t.get(e)),H0=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},L0=(e,t,r,n)=>(Lx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Xi=(e,t,r)=>(Lx(e,t,"access private method"),r);var ws=ae(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.Type=ee.JsonType=ee.JavaScriptTypeBuilder=ee.JsonTypeBuilder=ee.TypeBuilder=ee.TypeBuilderError=ee.TransformEncodeBuilder=ee.TransformDecodeBuilder=ee.TemplateLiteralDslParser=ee.TemplateLiteralGenerator=ee.TemplateLiteralGeneratorError=ee.TemplateLiteralFinite=ee.TemplateLiteralFiniteError=ee.TemplateLiteralParser=ee.TemplateLiteralParserError=ee.TemplateLiteralResolver=ee.TemplateLiteralPattern=ee.TemplateLiteralPatternError=ee.UnionResolver=ee.KeyArrayResolver=ee.KeyArrayResolverError=ee.KeyResolver=ee.ObjectMap=ee.Intrinsic=ee.IndexedAccessor=ee.TypeClone=ee.TypeExtends=ee.TypeExtendsResult=ee.TypeExtendsError=ee.ExtendsUndefined=ee.TypeGuard=ee.TypeGuardUnknownTypeError=ee.ValueGuard=ee.FormatRegistry=ee.TypeBoxError=ee.TypeRegistry=ee.PatternStringExact=ee.PatternNumberExact=ee.PatternBooleanExact=ee.PatternString=ee.PatternNumber=ee.PatternBoolean=ee.Kind=ee.Hint=ee.Optional=ee.Readonly=ee.Transform=void 0;ee.Transform=Symbol.for("TypeBox.Transform");ee.Readonly=Symbol.for("TypeBox.Readonly");ee.Optional=Symbol.for("TypeBox.Optional");ee.Hint=Symbol.for("TypeBox.Hint");ee.Kind=Symbol.for("TypeBox.Kind");ee.PatternBoolean="(true|false)";ee.PatternNumber="(0|[1-9][0-9]*)";ee.PatternString="(.*)";ee.PatternBooleanExact=`^${ee.PatternBoolean}$`;ee.PatternNumberExact=`^${ee.PatternNumber}$`;ee.PatternStringExact=`^${ee.PatternString}$`;var Bx;(function(e){let t=new Map;function r(){return new Map(t)}s(r,"Entries"),e.Entries=r;function n(){return t.clear()}s(n,"Clear"),e.Clear=n;function i(f){return t.delete(f)}s(i,"Delete"),e.Delete=i;function o(f){return t.has(f)}s(o,"Has"),e.Has=o;function a(f,c){t.set(f,c)}s(a,"Set"),e.Set=a;function l(f){return t.get(f)}s(l,"Get"),e.Get=l})(Bx||(ee.TypeRegistry=Bx={}));var qx=class qx extends Error{constructor(t){super(t)}};s(qx,"TypeBoxError");var jo=qx;ee.TypeBoxError=jo;var kk;(function(e){let t=new Map;function r(){return new Map(t)}s(r,"Entries"),e.Entries=r;function n(){return t.clear()}s(n,"Clear"),e.Clear=n;function i(f){return t.delete(f)}s(i,"Delete"),e.Delete=i;function o(f){return t.has(f)}s(o,"Has"),e.Has=o;function a(f,c){t.set(f,c)}s(a,"Set"),e.Set=a;function l(f){return t.get(f)}s(l,"Get"),e.Get=l})(kk||(ee.FormatRegistry=kk={}));var ct;(function(e){function t(d){return Array.isArray(d)}s(t,"IsArray"),e.IsArray=t;function r(d){return typeof d=="bigint"}s(r,"IsBigInt"),e.IsBigInt=r;function n(d){return typeof d=="boolean"}s(n,"IsBoolean"),e.IsBoolean=n;function i(d){return d instanceof globalThis.Date}s(i,"IsDate"),e.IsDate=i;function o(d){return d===null}s(o,"IsNull"),e.IsNull=o;function a(d){return typeof d=="number"}s(a,"IsNumber"),e.IsNumber=a;function l(d){return typeof d=="object"&&d!==null}s(l,"IsObject"),e.IsObject=l;function f(d){return typeof d=="string"}s(f,"IsString"),e.IsString=f;function c(d){return d instanceof globalThis.Uint8Array}s(c,"IsUint8Array"),e.IsUint8Array=c;function u(d){return d===void 0}s(u,"IsUndefined"),e.IsUndefined=u})(ct||(ee.ValueGuard=ct={}));var jx=class jx extends jo{};s(jx,"TypeGuardUnknownTypeError");var Ox=jx;ee.TypeGuardUnknownTypeError=Ox;var re;(function(e){function t(H){try{return new RegExp(H),!0}catch{return!1}}s(t,"IsPattern");function r(H){if(!ct.IsString(H))return!1;for(let $t=0;$t<H.length;$t++){let vt=H.charCodeAt($t);if(vt>=7&&vt<=13||vt===27||vt===127)return!1}return!0}s(r,"IsControlCharacterFree");function n(H){return a(H)||Lt(H)}s(n,"IsAdditionalProperties");function i(H){return ct.IsUndefined(H)||ct.IsBigInt(H)}s(i,"IsOptionalBigInt");function o(H){return ct.IsUndefined(H)||ct.IsNumber(H)}s(o,"IsOptionalNumber");function a(H){return ct.IsUndefined(H)||ct.IsBoolean(H)}s(a,"IsOptionalBoolean");function l(H){return ct.IsUndefined(H)||ct.IsString(H)}s(l,"IsOptionalString");function f(H){return ct.IsUndefined(H)||ct.IsString(H)&&r(H)&&t(H)}s(f,"IsOptionalPattern");function c(H){return ct.IsUndefined(H)||ct.IsString(H)&&r(H)}s(c,"IsOptionalFormat");function u(H){return ct.IsUndefined(H)||Lt(H)}s(u,"IsOptionalSchema");function d(H){return L(H,"Any")&&l(H.$id)}s(d,"TAny"),e.TAny=d;function g(H){return L(H,"Array")&&H.type==="array"&&l(H.$id)&&Lt(H.items)&&o(H.minItems)&&o(H.maxItems)&&a(H.uniqueItems)&&u(H.contains)&&o(H.minContains)&&o(H.maxContains)}s(g,"TArray"),e.TArray=g;function p(H){return L(H,"AsyncIterator")&&H.type==="AsyncIterator"&&l(H.$id)&&Lt(H.items)}s(p,"TAsyncIterator"),e.TAsyncIterator=p;function y(H){return L(H,"BigInt")&&H.type==="bigint"&&l(H.$id)&&i(H.exclusiveMaximum)&&i(H.exclusiveMinimum)&&i(H.maximum)&&i(H.minimum)&&i(H.multipleOf)}s(y,"TBigInt"),e.TBigInt=y;function _(H){return L(H,"Boolean")&&H.type==="boolean"&&l(H.$id)}s(_,"TBoolean"),e.TBoolean=_;function S(H){return L(H,"Constructor")&&H.type==="Constructor"&&l(H.$id)&&ct.IsArray(H.parameters)&&H.parameters.every($t=>Lt($t))&&Lt(H.returns)}s(S,"TConstructor"),e.TConstructor=S;function T(H){return L(H,"Date")&&H.type==="Date"&&l(H.$id)&&o(H.exclusiveMaximumTimestamp)&&o(H.exclusiveMinimumTimestamp)&&o(H.maximumTimestamp)&&o(H.minimumTimestamp)&&o(H.multipleOfTimestamp)}s(T,"TDate"),e.TDate=T;function I(H){return L(H,"Function")&&H.type==="Function"&&l(H.$id)&&ct.IsArray(H.parameters)&&H.parameters.every($t=>Lt($t))&&Lt(H.returns)}s(I,"TFunction"),e.TFunction=I;function P(H){return L(H,"Integer")&&H.type==="integer"&&l(H.$id)&&o(H.exclusiveMaximum)&&o(H.exclusiveMinimum)&&o(H.maximum)&&o(H.minimum)&&o(H.multipleOf)}s(P,"TInteger"),e.TInteger=P;function U(H){return L(H,"Intersect")&&!(ct.IsString(H.type)&&H.type!=="object")&&ct.IsArray(H.allOf)&&H.allOf.every($t=>Lt($t)&&!dt($t))&&l(H.type)&&(a(H.unevaluatedProperties)||u(H.unevaluatedProperties))&&l(H.$id)}s(U,"TIntersect"),e.TIntersect=U;function k(H){return L(H,"Iterator")&&H.type==="Iterator"&&l(H.$id)&&Lt(H.items)}s(k,"TIterator"),e.TIterator=k;function L(H,$t){return Q(H)&&H[ee.Kind]===$t}s(L,"TKindOf"),e.TKindOf=L;function Q(H){return ct.IsObject(H)&&ee.Kind in H&&ct.IsString(H[ee.Kind])}s(Q,"TKind"),e.TKind=Q;function te(H){return pe(H)&&ct.IsString(H.const)}s(te,"TLiteralString"),e.TLiteralString=te;function Ce(H){return pe(H)&&ct.IsNumber(H.const)}s(Ce,"TLiteralNumber"),e.TLiteralNumber=Ce;function De(H){return pe(H)&&ct.IsBoolean(H.const)}s(De,"TLiteralBoolean"),e.TLiteralBoolean=De;function pe(H){return L(H,"Literal")&&l(H.$id)&&(ct.IsBoolean(H.const)||ct.IsNumber(H.const)||ct.IsString(H.const))}s(pe,"TLiteral"),e.TLiteral=pe;function Ie(H){return L(H,"Never")&&ct.IsObject(H.not)&&Object.getOwnPropertyNames(H.not).length===0}s(Ie,"TNever"),e.TNever=Ie;function ie(H){return L(H,"Not")&&Lt(H.not)}s(ie,"TNot"),e.TNot=ie;function Z(H){return L(H,"Null")&&H.type==="null"&&l(H.$id)}s(Z,"TNull"),e.TNull=Z;function _e(H){return L(H,"Number")&&H.type==="number"&&l(H.$id)&&o(H.exclusiveMaximum)&&o(H.exclusiveMinimum)&&o(H.maximum)&&o(H.minimum)&&o(H.multipleOf)}s(_e,"TNumber"),e.TNumber=_e;function Ae(H){return L(H,"Object")&&H.type==="object"&&l(H.$id)&&ct.IsObject(H.properties)&&n(H.additionalProperties)&&o(H.minProperties)&&o(H.maxProperties)&&Object.entries(H.properties).every(([$t,vt])=>r($t)&&Lt(vt))}s(Ae,"TObject"),e.TObject=Ae;function be(H){return L(H,"Promise")&&H.type==="Promise"&&l(H.$id)&&Lt(H.item)}s(be,"TPromise"),e.TPromise=be;function ze(H){return L(H,"Record")&&H.type==="object"&&l(H.$id)&&n(H.additionalProperties)&&ct.IsObject(H.patternProperties)&&($t=>{let vt=Object.getOwnPropertyNames($t.patternProperties);return vt.length===1&&t(vt[0])&&ct.IsObject($t.patternProperties)&&Lt($t.patternProperties[vt[0]])})(H)}s(ze,"TRecord"),e.TRecord=ze;function ce(H){return ct.IsObject(H)&&ee.Hint in H&&H[ee.Hint]==="Recursive"}s(ce,"TRecursive"),e.TRecursive=ce;function ve(H){return L(H,"Ref")&&l(H.$id)&&ct.IsString(H.$ref)}s(ve,"TRef"),e.TRef=ve;function le(H){return L(H,"String")&&H.type==="string"&&l(H.$id)&&o(H.minLength)&&o(H.maxLength)&&f(H.pattern)&&c(H.format)}s(le,"TString"),e.TString=le;function Ee(H){return L(H,"Symbol")&&H.type==="symbol"&&l(H.$id)}s(Ee,"TSymbol"),e.TSymbol=Ee;function mt(H){return L(H,"TemplateLiteral")&&H.type==="string"&&ct.IsString(H.pattern)&&H.pattern[0]==="^"&&H.pattern[H.pattern.length-1]==="$"}s(mt,"TTemplateLiteral"),e.TTemplateLiteral=mt;function Et(H){return L(H,"This")&&l(H.$id)&&ct.IsString(H.$ref)}s(Et,"TThis"),e.TThis=Et;function dt(H){return ct.IsObject(H)&&ee.Transform in H}s(dt,"TTransform"),e.TTransform=dt;function Ve(H){return L(H,"Tuple")&&H.type==="array"&&l(H.$id)&&ct.IsNumber(H.minItems)&&ct.IsNumber(H.maxItems)&&H.minItems===H.maxItems&&(ct.IsUndefined(H.items)&&ct.IsUndefined(H.additionalItems)&&H.minItems===0||ct.IsArray(H.items)&&H.items.every($t=>Lt($t)))}s(Ve,"TTuple"),e.TTuple=Ve;function n0(H){return L(H,"Undefined")&&H.type==="undefined"&&l(H.$id)}s(n0,"TUndefined"),e.TUndefined=n0;function W(H){return Xe(H)&&H.anyOf.every($t=>te($t)||Ce($t))}s(W,"TUnionLiteral"),e.TUnionLiteral=W;function Xe(H){return L(H,"Union")&&l(H.$id)&&ct.IsObject(H)&&ct.IsArray(H.anyOf)&&H.anyOf.every($t=>Lt($t))}s(Xe,"TUnion"),e.TUnion=Xe;function he(H){return L(H,"Uint8Array")&&H.type==="Uint8Array"&&l(H.$id)&&o(H.minByteLength)&&o(H.maxByteLength)}s(he,"TUint8Array"),e.TUint8Array=he;function Je(H){return L(H,"Unknown")&&l(H.$id)}s(Je,"TUnknown"),e.TUnknown=Je;function He(H){return L(H,"Unsafe")}s(He,"TUnsafe"),e.TUnsafe=He;function nt(H){return L(H,"Void")&&H.type==="void"&&l(H.$id)}s(nt,"TVoid"),e.TVoid=nt;function wt(H){return ct.IsObject(H)&&H[ee.Readonly]==="Readonly"}s(wt,"TReadonly"),e.TReadonly=wt;function Mt(H){return ct.IsObject(H)&&H[ee.Optional]==="Optional"}s(Mt,"TOptional"),e.TOptional=Mt;function Lt(H){return ct.IsObject(H)&&(d(H)||g(H)||_(H)||y(H)||p(H)||S(H)||T(H)||I(H)||P(H)||U(H)||k(H)||pe(H)||Ie(H)||ie(H)||Z(H)||_e(H)||Ae(H)||be(H)||ze(H)||ve(H)||le(H)||Ee(H)||mt(H)||Et(H)||Ve(H)||n0(H)||Xe(H)||he(H)||Je(H)||He(H)||nt(H)||Q(H)&&Bx.Has(H[ee.Kind]))}s(Lt,"TSchema"),e.TSchema=Lt})(re||(ee.TypeGuard=re={}));var Nk;(function(e){function t(r){return r[ee.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[ee.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[ee.Kind]==="Undefined"?!0:r[ee.Kind]==="Not"?!t(r.not):!1}s(t,"Check"),e.Check=t})(Nk||(ee.ExtendsUndefined=Nk={}));var $x=class $x extends jo{};s($x,"TypeExtendsError");var Lm=$x;ee.TypeExtendsError=Lm;var Oe;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(Oe||(ee.TypeExtendsResult=Oe={}));var Iu;(function(e){function t(N){return N===Oe.False?N:Oe.True}s(t,"IntoBooleanResult");function r(N){throw new Lm(N)}s(r,"Throw");function n(N){return re.TNever(N)||re.TIntersect(N)||re.TUnion(N)||re.TUnknown(N)||re.TAny(N)}s(n,"IsStructuralRight");function i(N,B){return re.TNever(B)?L(N,B):re.TIntersect(B)?I(N,B):re.TUnion(B)?pr(N,B):re.TUnknown(B)?Gr(N,B):re.TAny(B)?o(N,B):r("StructuralRight")}s(i,"StructuralRight");function o(N,B){return Oe.True}s(o,"TAnyRight");function a(N,B){return re.TIntersect(B)?I(N,B):re.TUnion(B)&&B.anyOf.some(Ye=>re.TAny(Ye)||re.TUnknown(Ye))?Oe.True:re.TUnion(B)?Oe.Union:re.TUnknown(B)||re.TAny(B)?Oe.True:Oe.Union}s(a,"TAny");function l(N,B){return re.TUnknown(N)?Oe.False:re.TAny(N)?Oe.Union:re.TNever(N)?Oe.True:Oe.False}s(l,"TArrayRight");function f(N,B){return re.TObject(B)&&mt(B)?Oe.True:n(B)?i(N,B):re.TArray(B)?t(Jt(N.items,B.items)):Oe.False}s(f,"TArray");function c(N,B){return n(B)?i(N,B):re.TAsyncIterator(B)?t(Jt(N.items,B.items)):Oe.False}s(c,"TAsyncIterator");function u(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TBigInt(B)?Oe.True:Oe.False}s(u,"TBigInt");function d(N,B){return re.TLiteral(N)&&ct.IsBoolean(N.const)||re.TBoolean(N)?Oe.True:Oe.False}s(d,"TBooleanRight");function g(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TBoolean(B)?Oe.True:Oe.False}s(g,"TBoolean");function p(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TConstructor(B)?N.parameters.length>B.parameters.length?Oe.False:N.parameters.every((Ye,Vt)=>t(Jt(B.parameters[Vt],Ye))===Oe.True)?t(Jt(N.returns,B.returns)):Oe.False:Oe.False}s(p,"TConstructor");function y(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TDate(B)?Oe.True:Oe.False}s(y,"TDate");function _(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TFunction(B)?N.parameters.length>B.parameters.length?Oe.False:N.parameters.every((Ye,Vt)=>t(Jt(B.parameters[Vt],Ye))===Oe.True)?t(Jt(N.returns,B.returns)):Oe.False:Oe.False}s(_,"TFunction");function S(N,B){return re.TLiteral(N)&&ct.IsNumber(N.const)||re.TNumber(N)||re.TInteger(N)?Oe.True:Oe.False}s(S,"TIntegerRight");function T(N,B){return re.TInteger(B)||re.TNumber(B)?Oe.True:n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):Oe.False}s(T,"TInteger");function I(N,B){return B.allOf.every(Ye=>Jt(N,Ye)===Oe.True)?Oe.True:Oe.False}s(I,"TIntersectRight");function P(N,B){return N.allOf.some(Ye=>Jt(Ye,B)===Oe.True)?Oe.True:Oe.False}s(P,"TIntersect");function U(N,B){return n(B)?i(N,B):re.TIterator(B)?t(Jt(N.items,B.items)):Oe.False}s(U,"TIterator");function k(N,B){return re.TLiteral(B)&&B.const===N.const?Oe.True:n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TString(B)?nt(N,B):re.TNumber(B)?pe(N,B):re.TInteger(B)?S(N,B):re.TBoolean(B)?d(N,B):Oe.False}s(k,"TLiteral");function L(N,B){return Oe.False}s(L,"TNeverRight");function Q(N,B){return Oe.True}s(Q,"TNever");function te(N){let[B,Ye]=[N,0];for(;re.TNot(B);)B=B.not,Ye+=1;return Ye%2===0?B:ee.Type.Unknown()}s(te,"UnwrapTNot");function Ce(N,B){return re.TNot(N)?Jt(te(N),B):re.TNot(B)?Jt(N,te(B)):r("Invalid fallthrough for Not")}s(Ce,"TNot");function De(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TNull(B)?Oe.True:Oe.False}s(De,"TNull");function pe(N,B){return re.TLiteralNumber(N)||re.TNumber(N)||re.TInteger(N)?Oe.True:Oe.False}s(pe,"TNumberRight");function Ie(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TInteger(B)||re.TNumber(B)?Oe.True:Oe.False}s(Ie,"TNumber");function ie(N,B){return Object.getOwnPropertyNames(N.properties).length===B}s(ie,"IsObjectPropertyCount");function Z(N){return mt(N)}s(Z,"IsObjectStringLike");function _e(N){return ie(N,0)||ie(N,1)&&"description"in N.properties&&re.TUnion(N.properties.description)&&N.properties.description.anyOf.length===2&&(re.TString(N.properties.description.anyOf[0])&&re.TUndefined(N.properties.description.anyOf[1])||re.TString(N.properties.description.anyOf[1])&&re.TUndefined(N.properties.description.anyOf[0]))}s(_e,"IsObjectSymbolLike");function Ae(N){return ie(N,0)}s(Ae,"IsObjectNumberLike");function be(N){return ie(N,0)}s(be,"IsObjectBooleanLike");function ze(N){return ie(N,0)}s(ze,"IsObjectBigIntLike");function ce(N){return ie(N,0)}s(ce,"IsObjectDateLike");function ve(N){return mt(N)}s(ve,"IsObjectUint8ArrayLike");function le(N){let B=ee.Type.Number();return ie(N,0)||ie(N,1)&&"length"in N.properties&&t(Jt(N.properties.length,B))===Oe.True}s(le,"IsObjectFunctionLike");function Ee(N){return ie(N,0)}s(Ee,"IsObjectConstructorLike");function mt(N){let B=ee.Type.Number();return ie(N,0)||ie(N,1)&&"length"in N.properties&&t(Jt(N.properties.length,B))===Oe.True}s(mt,"IsObjectArrayLike");function Et(N){let B=ee.Type.Function([ee.Type.Any()],ee.Type.Any());return ie(N,0)||ie(N,1)&&"then"in N.properties&&t(Jt(N.properties.then,B))===Oe.True}s(Et,"IsObjectPromiseLike");function dt(N,B){return Jt(N,B)===Oe.False||re.TOptional(N)&&!re.TOptional(B)?Oe.False:Oe.True}s(dt,"Property");function Ve(N,B){return re.TUnknown(N)?Oe.False:re.TAny(N)?Oe.Union:re.TNever(N)||re.TLiteralString(N)&&Z(B)||re.TLiteralNumber(N)&&Ae(B)||re.TLiteralBoolean(N)&&be(B)||re.TSymbol(N)&&_e(B)||re.TBigInt(N)&&ze(B)||re.TString(N)&&Z(B)||re.TSymbol(N)&&_e(B)||re.TNumber(N)&&Ae(B)||re.TInteger(N)&&Ae(B)||re.TBoolean(N)&&be(B)||re.TUint8Array(N)&&ve(B)||re.TDate(N)&&ce(B)||re.TConstructor(N)&&Ee(B)||re.TFunction(N)&&le(B)?Oe.True:re.TRecord(N)&&re.TString(Xe(N))?B[ee.Hint]==="Record"?Oe.True:Oe.False:re.TRecord(N)&&re.TNumber(Xe(N))?ie(B,0)?Oe.True:Oe.False:Oe.False}s(Ve,"TObjectRight");function n0(N,B){return n(B)?i(N,B):re.TRecord(B)?Je(N,B):re.TObject(B)?(()=>{for(let Ye of Object.getOwnPropertyNames(B.properties)){if(!(Ye in N.properties)&&!re.TOptional(B.properties[Ye]))return Oe.False;if(re.TOptional(B.properties[Ye]))return Oe.True;if(dt(N.properties[Ye],B.properties[Ye])===Oe.False)return Oe.False}return Oe.True})():Oe.False}s(n0,"TObject");function W(N,B){return n(B)?i(N,B):re.TObject(B)&&Et(B)?Oe.True:re.TPromise(B)?t(Jt(N.item,B.item)):Oe.False}s(W,"TPromise");function Xe(N){return ee.PatternNumberExact in N.patternProperties?ee.Type.Number():ee.PatternStringExact in N.patternProperties?ee.Type.String():r("Unknown record key pattern")}s(Xe,"RecordKey");function he(N){return ee.PatternNumberExact in N.patternProperties?N.patternProperties[ee.PatternNumberExact]:ee.PatternStringExact in N.patternProperties?N.patternProperties[ee.PatternStringExact]:r("Unable to get record value schema")}s(he,"RecordValue");function Je(N,B){let[Ye,Vt]=[Xe(B),he(B)];return re.TLiteralString(N)&&re.TNumber(Ye)&&t(Jt(N,Vt))===Oe.True?Oe.True:re.TUint8Array(N)&&re.TNumber(Ye)||re.TString(N)&&re.TNumber(Ye)||re.TArray(N)&&re.TNumber(Ye)?Jt(N,Vt):re.TObject(N)?(()=>{for(let E0 of Object.getOwnPropertyNames(N.properties))if(dt(Vt,N.properties[E0])===Oe.False)return Oe.False;return Oe.True})():Oe.False}s(Je,"TRecordRight");function He(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Jt(he(N),he(B)):Oe.False}s(He,"TRecord");function nt(N,B){return re.TLiteral(N)&&ct.IsString(N.const)||re.TString(N)?Oe.True:Oe.False}s(nt,"TStringRight");function wt(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TString(B)?Oe.True:Oe.False}s(wt,"TString");function Mt(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TSymbol(B)?Oe.True:Oe.False}s(Mt,"TSymbol");function Lt(N,B){return re.TTemplateLiteral(N)?Jt(Ll.Resolve(N),B):re.TTemplateLiteral(B)?Jt(N,Ll.Resolve(B)):r("Invalid fallthrough for TemplateLiteral")}s(Lt,"TTemplateLiteral");function H(N,B){return re.TArray(B)&&N.items!==void 0&&N.items.every(Ye=>Jt(Ye,B.items)===Oe.True)}s(H,"IsArrayOfTuple");function $t(N,B){return re.TNever(N)?Oe.True:re.TUnknown(N)?Oe.False:re.TAny(N)?Oe.Union:Oe.False}s($t,"TTupleRight");function vt(N,B){return n(B)?i(N,B):re.TObject(B)&&mt(B)||re.TArray(B)&&H(N,B)?Oe.True:re.TTuple(B)?ct.IsUndefined(N.items)&&!ct.IsUndefined(B.items)||!ct.IsUndefined(N.items)&&ct.IsUndefined(B.items)?Oe.False:ct.IsUndefined(N.items)&&!ct.IsUndefined(B.items)||N.items.every((Ye,Vt)=>Jt(Ye,B.items[Vt])===Oe.True)?Oe.True:Oe.False:Oe.False}s(vt,"TTuple");function sr(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TUint8Array(B)?Oe.True:Oe.False}s(sr,"TUint8Array");function J0(N,B){return n(B)?i(N,B):re.TObject(B)?Ve(N,B):re.TRecord(B)?Je(N,B):re.TVoid(B)?Fn(N,B):re.TUndefined(B)?Oe.True:Oe.False}s(J0,"TUndefined");function pr(N,B){return B.anyOf.some(Ye=>Jt(N,Ye)===Oe.True)?Oe.True:Oe.False}s(pr,"TUnionRight");function X0(N,B){return N.anyOf.every(Ye=>Jt(Ye,B)===Oe.True)?Oe.True:Oe.False}s(X0,"TUnion");function Gr(N,B){return Oe.True}s(Gr,"TUnknownRight");function hn(N,B){return re.TNever(B)?L(N,B):re.TIntersect(B)?I(N,B):re.TUnion(B)?pr(N,B):re.TAny(B)?o(N,B):re.TString(B)?nt(N,B):re.TNumber(B)?pe(N,B):re.TInteger(B)?S(N,B):re.TBoolean(B)?d(N,B):re.TArray(B)?l(N,B):re.TTuple(B)?$t(N,B):re.TObject(B)?Ve(N,B):re.TUnknown(B)?Oe.True:Oe.False}s(hn,"TUnknown");function Fn(N,B){return re.TUndefined(N)||re.TUndefined(N)?Oe.True:Oe.False}s(Fn,"VoidRight");function mn(N,B){return re.TIntersect(B)?I(N,B):re.TUnion(B)?pr(N,B):re.TUnknown(B)?Gr(N,B):re.TAny(B)?o(N,B):re.TObject(B)?Ve(N,B):re.TVoid(B)?Oe.True:Oe.False}s(mn,"TVoid");function Jt(N,B){return re.TTemplateLiteral(N)||re.TTemplateLiteral(B)?Lt(N,B):re.TNot(N)||re.TNot(B)?Ce(N,B):re.TAny(N)?a(N,B):re.TArray(N)?f(N,B):re.TBigInt(N)?u(N,B):re.TBoolean(N)?g(N,B):re.TAsyncIterator(N)?c(N,B):re.TConstructor(N)?p(N,B):re.TDate(N)?y(N,B):re.TFunction(N)?_(N,B):re.TInteger(N)?T(N,B):re.TIntersect(N)?P(N,B):re.TIterator(N)?U(N,B):re.TLiteral(N)?k(N,B):re.TNever(N)?Q(N,B):re.TNull(N)?De(N,B):re.TNumber(N)?Ie(N,B):re.TObject(N)?n0(N,B):re.TRecord(N)?He(N,B):re.TString(N)?wt(N,B):re.TSymbol(N)?Mt(N,B):re.TTuple(N)?vt(N,B):re.TPromise(N)?W(N,B):re.TUint8Array(N)?sr(N,B):re.TUndefined(N)?J0(N,B):re.TUnion(N)?X0(N,B):re.TUnknown(N)?hn(N,B):re.TVoid(N)?mn(N,B):r(`Unknown left type operand '${N[ee.Kind]}'`)}s(Jt,"Visit");function Y(N,B){return Jt(N,B)}s(Y,"Extends"),e.Extends=Y})(Iu||(ee.TypeExtends=Iu={}));var Ft;(function(e){function t(f){return f.map(c=>o(c))}s(t,"ArrayType");function r(f){return new Date(f.getTime())}s(r,"DateType");function n(f){return new Uint8Array(f)}s(n,"Uint8ArrayType");function i(f){let c=Object.getOwnPropertyNames(f).reduce((d,g)=>({...d,[g]:o(f[g])}),{}),u=Object.getOwnPropertySymbols(f).reduce((d,g)=>({...d,[g]:o(f[g])}),{});return{...c,...u}}s(i,"ObjectType");function o(f){return ct.IsArray(f)?t(f):ct.IsDate(f)?r(f):ct.IsUint8Array(f)?n(f):ct.IsObject(f)?i(f):f}s(o,"Visit");function a(f){return f.map(c=>l(c))}s(a,"Rest"),e.Rest=a;function l(f,c={}){return{...o(f),...c}}s(l,"Type"),e.Type=l})(Ft||(ee.TypeClone=Ft={}));var Fx;(function(e){function t(p){return p.map(y=>{let{[ee.Optional]:_,...S}=Ft.Type(y);return S})}s(t,"OptionalUnwrap");function r(p){return p.every(y=>re.TOptional(y))}s(r,"IsIntersectOptional");function n(p){return p.some(y=>re.TOptional(y))}s(n,"IsUnionOptional");function i(p){return r(p.allOf)?ee.Type.Optional(ee.Type.Intersect(t(p.allOf))):p}s(i,"ResolveIntersect");function o(p){return n(p.anyOf)?ee.Type.Optional(ee.Type.Union(t(p.anyOf))):p}s(o,"ResolveUnion");function a(p){return p[ee.Kind]==="Intersect"?i(p):p[ee.Kind]==="Union"?o(p):p}s(a,"ResolveOptional");function l(p,y){let _=p.allOf.reduce((S,T)=>{let I=d(T,y);return I[ee.Kind]==="Never"?S:[...S,I]},[]);return a(ee.Type.Intersect(_))}s(l,"TIntersect");function f(p,y){let _=p.anyOf.map(S=>d(S,y));return a(ee.Type.Union(_))}s(f,"TUnion");function c(p,y){let _=p.properties[y];return ct.IsUndefined(_)?ee.Type.Never():ee.Type.Union([_])}s(c,"TObject");function u(p,y){let _=p.items;if(ct.IsUndefined(_))return ee.Type.Never();let S=_[y];return ct.IsUndefined(S)?ee.Type.Never():S}s(u,"TTuple");function d(p,y){return p[ee.Kind]==="Intersect"?l(p,y):p[ee.Kind]==="Union"?f(p,y):p[ee.Kind]==="Object"?c(p,y):p[ee.Kind]==="Tuple"?u(p,y):ee.Type.Never()}s(d,"Visit");function g(p,y,_={}){let S=y.map(T=>d(p,T.toString()));return a(ee.Type.Union(S,_))}s(g,"Resolve"),e.Resolve=g})(Fx||(ee.IndexedAccessor=Fx={}));var F5;(function(e){function t(u){let[d,g]=[u.slice(0,1),u.slice(1)];return`${d.toLowerCase()}${g}`}s(t,"Uncapitalize");function r(u){let[d,g]=[u.slice(0,1),u.slice(1)];return`${d.toUpperCase()}${g}`}s(r,"Capitalize");function n(u){return u.toUpperCase()}s(n,"Uppercase");function i(u){return u.toLowerCase()}s(i,"Lowercase");function o(u,d){let g=U5.ParseExact(u.pattern);if(!q5.Check(g))return{...u,pattern:a(u.pattern,d)};let _=[...j5.Generate(g)].map(I=>ee.Type.Literal(I)),S=l(_,d),T=ee.Type.Union(S);return ee.Type.TemplateLiteral([T])}s(o,"IntrinsicTemplateLiteral");function a(u,d){return typeof u=="string"?d==="Uncapitalize"?t(u):d==="Capitalize"?r(u):d==="Uppercase"?n(u):d==="Lowercase"?i(u):u:u.toString()}s(a,"IntrinsicLiteral");function l(u,d){if(u.length===0)return[];let[g,...p]=u;return[c(g,d),...l(p,d)]}s(l,"IntrinsicRest");function f(u,d){return re.TTemplateLiteral(u)?o(u,d):re.TUnion(u)?ee.Type.Union(l(u.anyOf,d)):re.TLiteral(u)?ee.Type.Literal(a(u.const,d)):u}s(f,"Visit");function c(u,d){return f(u,d)}s(c,"Map"),e.Map=c})(F5||(ee.Intrinsic=F5={}));var M5;(function(e){function t(a,l){return ee.Type.Intersect(a.allOf.map(f=>i(f,l)),{...a})}s(t,"TIntersect");function r(a,l){return ee.Type.Union(a.anyOf.map(f=>i(f,l)),{...a})}s(r,"TUnion");function n(a,l){return l(a)}s(n,"TObject");function i(a,l){return a[ee.Kind]==="Intersect"?t(a,l):a[ee.Kind]==="Union"?r(a,l):a[ee.Kind]==="Object"?n(a,l):a}s(i,"Visit");function o(a,l,f){return{...i(Ft.Type(a),l),...f}}s(o,"Map"),e.Map=o})(M5||(ee.ObjectMap=M5={}));var Bm;(function(e){function t(c){return c[0]==="^"&&c[c.length-1]==="$"?c.slice(1,c.length-1):c}s(t,"UnwrapPattern");function r(c,u){return c.allOf.reduce((d,g)=>[...d,...a(g,u)],[])}s(r,"TIntersect");function n(c,u){let d=c.anyOf.map(g=>a(g,u));return[...d.reduce((g,p)=>p.map(y=>d.every(_=>_.includes(y))?g.add(y):g)[0],new Set)]}s(n,"TUnion");function i(c,u){return Object.getOwnPropertyNames(c.properties)}s(i,"TObject");function o(c,u){return u.includePatterns?Object.getOwnPropertyNames(c.patternProperties):[]}s(o,"TRecord");function a(c,u){return re.TIntersect(c)?r(c,u):re.TUnion(c)?n(c,u):re.TObject(c)?i(c,u):re.TRecord(c)?o(c,u):[]}s(a,"Visit");function l(c,u){return[...new Set(a(c,u))]}s(l,"ResolveKeys"),e.ResolveKeys=l;function f(c){return`^(${l(c,{includePatterns:!0}).map(g=>`(${t(g)})`).join("|")})$`}s(f,"ResolvePattern"),e.ResolvePattern=f})(Bm||(ee.KeyResolver=Bm={}));var Hx=class Hx extends jo{};s(Hx,"KeyArrayResolverError");var Om=Hx;ee.KeyArrayResolverError=Om;var dh;(function(e){function t(r){return Array.isArray(r)?r:re.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):re.TLiteral(r)?[r.const]:re.TTemplateLiteral(r)?(()=>{let n=U5.ParseExact(r.pattern);if(!q5.Check(n))throw new Om("Cannot resolve keys from infinite template expression");return[...j5.Generate(n)]})():[]}s(t,"Resolve"),e.Resolve=t})(dh||(ee.KeyArrayResolver=dh={}));var Mx;(function(e){function*t(n){for(let i of n.anyOf)i[ee.Kind]==="Union"?yield*t(i):yield i}s(t,"TUnion");function r(n){return ee.Type.Union([...t(n)],{...n})}s(r,"Resolve"),e.Resolve=r})(Mx||(ee.UnionResolver=Mx={}));var Vx=class Vx extends jo{};s(Vx,"TemplateLiteralPatternError");var Fm=Vx;ee.TemplateLiteralPatternError=Fm;var Mm;(function(e){function t(o){throw new Fm(o)}s(t,"Throw");function r(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(r,"Escape");function n(o,a){return re.TTemplateLiteral(o)?o.pattern.slice(1,o.pattern.length-1):re.TUnion(o)?`(${o.anyOf.map(l=>n(l,a)).join("|")})`:re.TNumber(o)?`${a}${ee.PatternNumber}`:re.TInteger(o)?`${a}${ee.PatternNumber}`:re.TBigInt(o)?`${a}${ee.PatternNumber}`:re.TString(o)?`${a}${ee.PatternString}`:re.TLiteral(o)?`${a}${r(o.const.toString())}`:re.TBoolean(o)?`${a}${ee.PatternBoolean}`:t(`Unexpected Kind '${o[ee.Kind]}'`)}s(n,"Visit");function i(o){return`^${o.map(a=>n(a,"")).join("")}$`}s(i,"Create"),e.Create=i})(Mm||(ee.TemplateLiteralPattern=Mm={}));var Ll;(function(e){function t(r){let n=U5.ParseExact(r.pattern);if(!q5.Check(n))return ee.Type.String();let i=[...j5.Generate(n)].map(o=>ee.Type.Literal(o));return ee.Type.Union(i)}s(t,"Resolve"),e.Resolve=t})(Ll||(ee.TemplateLiteralResolver=Ll={}));var zx=class zx extends jo{};s(zx,"TemplateLiteralParserError");var hh=zx;ee.TemplateLiteralParserError=hh;var U5;(function(e){function t(p,y,_){return p[y]===_&&p.charCodeAt(y-1)!==92}s(t,"IsNonEscaped");function r(p,y){return t(p,y,"(")}s(r,"IsOpenParen");function n(p,y){return t(p,y,")")}s(n,"IsCloseParen");function i(p,y){return t(p,y,"|")}s(i,"IsSeparator");function o(p){if(!(r(p,0)&&n(p,p.length-1)))return!1;let y=0;for(let _=0;_<p.length;_++)if(r(p,_)&&(y+=1),n(p,_)&&(y-=1),y===0&&_!==p.length-1)return!1;return!0}s(o,"IsGroup");function a(p){return p.slice(1,p.length-1)}s(a,"InGroup");function l(p){let y=0;for(let _=0;_<p.length;_++)if(r(p,_)&&(y+=1),n(p,_)&&(y-=1),i(p,_)&&y===0)return!0;return!1}s(l,"IsPrecedenceOr");function f(p){for(let y=0;y<p.length;y++)if(r(p,y))return!0;return!1}s(f,"IsPrecedenceAnd");function c(p){let[y,_]=[0,0],S=[];for(let I=0;I<p.length;I++)if(r(p,I)&&(y+=1),n(p,I)&&(y-=1),i(p,I)&&y===0){let P=p.slice(_,I);P.length>0&&S.push(d(P)),_=I+1}let T=p.slice(_);return T.length>0&&S.push(d(T)),S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"or",expr:S}}s(c,"Or");function u(p){function y(T,I){if(!r(T,I))throw new hh("TemplateLiteralParser: Index must point to open parens");let P=0;for(let U=I;U<T.length;U++)if(r(T,U)&&(P+=1),n(T,U)&&(P-=1),P===0)return[I,U];throw new hh("TemplateLiteralParser: Unclosed group parens in expression")}s(y,"Group");function _(T,I){for(let P=I;P<T.length;P++)if(r(T,P))return[I,P];return[I,T.length]}s(_,"Range");let S=[];for(let T=0;T<p.length;T++)if(r(p,T)){let[I,P]=y(p,T),U=p.slice(I,P+1);S.push(d(U)),T=P}else{let[I,P]=_(p,T),U=p.slice(I,P);U.length>0&&S.push(d(U)),T=P-1}return S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"and",expr:S}}s(u,"And");function d(p){return o(p)?d(a(p)):l(p)?c(p):f(p)?u(p):{type:"const",const:p}}s(d,"Parse"),e.Parse=d;function g(p){return d(p.slice(1,p.length-1))}s(g,"ParseExact"),e.ParseExact=g})(U5||(ee.TemplateLiteralParser=U5={}));var Kx=class Kx extends jo{};s(Kx,"TemplateLiteralFiniteError");var Um=Kx;ee.TemplateLiteralFiniteError=Um;var q5;(function(e){function t(a){throw new Um(a)}s(t,"Throw");function r(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="0"&&a.expr[1].type==="const"&&a.expr[1].const==="[1-9][0-9]*"}s(r,"IsNumber");function n(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="true"&&a.expr[1].type==="const"&&a.expr[1].const==="false"}s(n,"IsBoolean");function i(a){return a.type==="const"&&a.const===".*"}s(i,"IsString");function o(a){return n(a)?!0:r(a)||i(a)?!1:a.type==="and"?a.expr.every(l=>o(l)):a.type==="or"?a.expr.every(l=>o(l)):a.type==="const"?!0:t("Unknown expression type")}s(o,"Check"),e.Check=o})(q5||(ee.TemplateLiteralFinite=q5={}));var Wx=class Wx extends jo{};s(Wx,"TemplateLiteralGeneratorError");var qm=Wx;ee.TemplateLiteralGeneratorError=qm;var j5;(function(e){function*t(a){if(a.length===1)return yield*a[0];for(let l of a[0])for(let f of t(a.slice(1)))yield`${l}${f}`}s(t,"Reduce");function*r(a){return yield*t(a.expr.map(l=>[...o(l)]))}s(r,"And");function*n(a){for(let l of a.expr)yield*o(l)}s(n,"Or");function*i(a){return yield a.const}s(i,"Const");function*o(a){return a.type==="and"?yield*r(a):a.type==="or"?yield*n(a):a.type==="const"?yield*i(a):(()=>{throw new qm("Unknown expression")})()}s(o,"Generate"),e.Generate=o})(j5||(ee.TemplateLiteralGenerator=j5={}));var Ux;(function(e){function*t(o){let a=o.trim().replace(/"|'/g,"");return a==="boolean"?yield ee.Type.Boolean():a==="number"?yield ee.Type.Number():a==="bigint"?yield ee.Type.BigInt():a==="string"?yield ee.Type.String():yield(()=>{let l=a.split("|").map(f=>ee.Type.Literal(f.trim()));return l.length===0?ee.Type.Never():l.length===1?l[0]:ee.Type.Union(l)})()}s(t,"ParseUnion");function*r(o){if(o[1]!=="{"){let a=ee.Type.Literal("$"),l=n(o.slice(1));return yield*[a,...l]}for(let a=2;a<o.length;a++)if(o[a]==="}"){let l=t(o.slice(2,a)),f=n(o.slice(a+1));return yield*[...l,...f]}yield ee.Type.Literal(o)}s(r,"ParseTerminal");function*n(o){for(let a=0;a<o.length;a++)if(o[a]==="$"){let l=ee.Type.Literal(o.slice(0,a)),f=r(o.slice(a));return yield*[l,...f]}yield ee.Type.Literal(o)}s(n,"ParseLiteral");function i(o){return[...n(o)]}s(i,"Parse"),e.Parse=i})(Ux||(ee.TemplateLiteralDslParser=Ux={}));var Gx=class Gx{constructor(t){this.schema=t}Decode(t){return new $m(this.schema,t)}};s(Gx,"TransformDecodeBuilder");var jm=Gx;ee.TransformDecodeBuilder=jm;var Yx=class Yx{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=Ft.Type(this.schema);return re.TTransform(r)?(()=>{let o={Encode:s(a=>r[ee.Transform].Encode(t(a)),"Encode"),Decode:s(a=>this.decode(r[ee.Transform].Decode(a)),"Decode")};return{...r,[ee.Transform]:o}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[ee.Transform]:n}})()}};s(Yx,"TransformEncodeBuilder");var $m=Yx;ee.TransformEncodeBuilder=$m;var EG=0,Jx=class Jx extends jo{};s(Jx,"TypeBuilderError");var Hm=Jx;ee.TypeBuilderError=Hm;var Xx=class Xx{Create(t){return t}Throw(t){throw new Hm(t)}Discard(t,r){return r.reduce((n,i)=>{let{[i]:o,...a}=n;return a},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};s(Xx,"TypeBuilder");var Vm=Xx;ee.TypeBuilder=Vm;var Qx=class Qx extends Vm{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...Ft.Type(t),[ee.Readonly]:"Readonly"}}Optional(t){return{...Ft.Type(t),[ee.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[ee.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[ee.Kind]:"Array",type:"array",items:Ft.Type(t)})}Boolean(t={}){return this.Create({...t,[ee.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...F5.Map(Ft.Type(t),"Capitalize"),...r}}Composite(t,r){let n=ee.Type.Intersect(t,{}),o=Bm.ResolveKeys(n,{includePatterns:!1}).reduce((a,l)=>({...a,[l]:ee.Type.Index(n,[l])}),{});return ee.Type.Object(o,r)}Enum(t,r={}){if(ct.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),o=[...new Set(n)].map(a=>ee.Type.Literal(a));return this.Union(o,{...r,[ee.Hint]:"Enum"})}Extends(t,r,n,i,o={}){switch(Iu.Extends(t,r)){case Oe.Union:return this.Union([Ft.Type(n,o),Ft.Type(i,o)]);case Oe.True:return Ft.Type(n,o);case Oe.False:return Ft.Type(i,o)}}Exclude(t,r,n={}){return re.TTemplateLiteral(t)?this.Exclude(Ll.Resolve(t),r,n):re.TTemplateLiteral(r)?this.Exclude(t,Ll.Resolve(r),n):re.TUnion(t)?(()=>{let i=t.anyOf.filter(o=>Iu.Extends(o,r)===Oe.False);return i.length===1?Ft.Type(i[0],n):this.Union(i,n)})():Iu.Extends(t,r)!==Oe.False?this.Never(n):Ft.Type(t,n)}Extract(t,r,n={}){return re.TTemplateLiteral(t)?this.Extract(Ll.Resolve(t),r,n):re.TTemplateLiteral(r)?this.Extract(t,Ll.Resolve(r),n):re.TUnion(t)?(()=>{let i=t.anyOf.filter(o=>Iu.Extends(o,r)!==Oe.False);return i.length===1?Ft.Type(i[0],n):this.Union(i,n)})():Iu.Extends(t,r)!==Oe.False?Ft.Type(t,n):this.Never(n)}Index(t,r,n={}){return re.TArray(t)&&re.TNumber(r)?Ft.Type(t.items,n):re.TTuple(t)&&re.TNumber(r)?(()=>{let o=(ct.IsUndefined(t.items)?[]:t.items).map(a=>Ft.Type(a));return this.Union(o,n)})():(()=>{let i=dh.Resolve(r),o=Ft.Type(t);return Fx.Resolve(o,i,n)})()}Integer(t={}){return this.Create({...t,[ee.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return ee.Type.Never();if(t.length===1)return Ft.Type(t[0],r);t.some(a=>re.TTransform(a))&&this.Throw("Cannot intersect transform types");let n=t.every(a=>re.TObject(a)),i=Ft.Rest(t),o=re.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:Ft.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||re.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...o,[ee.Kind]:"Intersect",type:"object",allOf:i}):this.Create({...r,...o,[ee.Kind]:"Intersect",allOf:i})}KeyOf(t,r={}){return re.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===ee.PatternNumberExact?this.Number(r):n===ee.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():re.TTuple(t)?(()=>{let i=(ct.IsUndefined(t.items)?[]:t.items).map((o,a)=>ee.Type.Literal(a.toString()));return this.Union(i,r)})():re.TArray(t)?this.Number(r):(()=>{let n=Bm.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let i=n.map(o=>this.Literal(o));return this.Union(i,r)})()}Literal(t,r={}){return this.Create({...r,[ee.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...F5.Map(Ft.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[ee.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[ee.Kind]:"Not",not:Ft.Type(t)})}Null(t={}){return this.Create({...t,[ee.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[ee.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),i=n.filter(f=>re.TOptional(t[f])),o=n.filter(f=>!i.includes(f)),a=re.TSchema(r.additionalProperties)?{additionalProperties:Ft.Type(r.additionalProperties)}:{},l=n.reduce((f,c)=>({...f,[c]:Ft.Type(t[c])}),{});return o.length>0?this.Create({...r,...a,[ee.Kind]:"Object",type:"object",properties:l,required:o}):this.Create({...r,...a,[ee.Kind]:"Object",type:"object",properties:l})}Omit(t,r,n={}){let i=dh.Resolve(r);return M5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),o=>{ct.IsArray(o.required)&&(o.required=o.required.filter(a=>!i.includes(a)),o.required.length===0&&delete o.required);for(let a of Object.getOwnPropertyNames(o.properties))i.includes(a)&&delete o.properties[a];return this.Create(o)},n)}Partial(t,r={}){return M5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),n=>{let i=Object.getOwnPropertyNames(n.properties).reduce((o,a)=>({...o,[a]:this.Optional(n.properties[a])}),{});return this.Object(i,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let i=dh.Resolve(r);return M5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),o=>{ct.IsArray(o.required)&&(o.required=o.required.filter(a=>i.includes(a)),o.required.length===0&&delete o.required);for(let a of Object.getOwnPropertyNames(o.properties))i.includes(a)||delete o.properties[a];return this.Create(o)},n)}Record(t,r,n={}){return re.TTemplateLiteral(t)?(()=>{let i=U5.ParseExact(t.pattern);return q5.Check(i)?this.Object([...j5.Generate(i)].reduce((o,a)=>({...o,[a]:Ft.Type(r)}),{}),n):this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:Ft.Type(r)}})})():re.TUnion(t)?(()=>{let i=Mx.Resolve(t);if(re.TUnionLiteral(i)){let o=i.anyOf.reduce((a,l)=>({...a,[l.const]:Ft.Type(r)}),{});return this.Object(o,{...n,[ee.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():re.TLiteral(t)?ct.IsString(t.const)||ct.IsNumber(t.const)?this.Object({[t.const]:Ft.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):re.TInteger(t)||re.TNumber(t)?this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[ee.PatternNumberExact]:Ft.Type(r)}}):re.TString(t)?(()=>{let i=ct.IsUndefined(t.pattern)?ee.PatternStringExact:t.pattern;return this.Create({...n,[ee.Kind]:"Record",type:"object",patternProperties:{[i]:Ft.Type(r)}})})():this.Never()}Recursive(t,r={}){ct.IsUndefined(r.$id)&&(r.$id=`T${EG++}`);let n=t({[ee.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[ee.Hint]:"Recursive",...n})}Ref(t,r={}){return ct.IsString(t)?this.Create({...r,[ee.Kind]:"Ref",$ref:t}):(ct.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[ee.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return M5.Map(this.Discard(Ft.Type(t),["$id",ee.Transform]),n=>{let i=Object.getOwnPropertyNames(n.properties).reduce((o,a)=>({...o,[a]:this.Discard(n.properties[a],[ee.Optional])}),{});return this.Object(i,n)},r)}Rest(t){return re.TTuple(t)&&!ct.IsUndefined(t.items)?Ft.Rest(t.items):re.TIntersect(t)?Ft.Rest(t.allOf):re.TUnion(t)?Ft.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[ee.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=ct.IsString(t)?Mm.Create(Ux.Parse(t)):Mm.Create(t);return this.Create({...r,[ee.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new jm(t)}Tuple(t,r={}){let[n,i,o]=[!1,t.length,t.length],a=Ft.Rest(t),l=t.length>0?{...r,[ee.Kind]:"Tuple",type:"array",items:a,additionalItems:n,minItems:i,maxItems:o}:{...r,[ee.Kind]:"Tuple",type:"array",minItems:i,maxItems:o};return this.Create(l)}Uncapitalize(t,r={}){return{...F5.Map(Ft.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return re.TTemplateLiteral(t)?Ll.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(Ft.Type(n[0],r));let i=Ft.Rest(n);return this.Create({...r,[ee.Kind]:"Union",anyOf:i})})()}Unknown(t={}){return this.Create({...t,[ee.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[ee.Kind]:t[ee.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...F5.Map(Ft.Type(t),"Uppercase"),...r}}};s(Qx,"JsonTypeBuilder");var mh=Qx;ee.JsonTypeBuilder=mh;var Zx=class Zx extends mh{AsyncIterator(t,r={}){return this.Create({...r,[ee.Kind]:"AsyncIterator",type:"AsyncIterator",items:Ft.Type(t)})}Awaited(t,r={}){let n=s(i=>i.length>0?(()=>{let[o,...a]=i;return[this.Awaited(o),...n(a)]})():i,"Unwrap");return re.TIntersect(t)?ee.Type.Intersect(n(t.allOf)):re.TUnion(t)?ee.Type.Union(n(t.anyOf)):re.TPromise(t)?this.Awaited(t.item):Ft.Type(t,r)}BigInt(t={}){return this.Create({...t,[ee.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[i,o]=[Ft.Rest(t),Ft.Type(r)];return this.Create({...n,[ee.Kind]:"Constructor",type:"Constructor",parameters:i,returns:o})}Date(t={}){return this.Create({...t,[ee.Kind]:"Date",type:"Date"})}Function(t,r,n){let[i,o]=[Ft.Rest(t),Ft.Type(r)];return this.Create({...n,[ee.Kind]:"Function",type:"Function",parameters:i,returns:o})}InstanceType(t,r={}){return Ft.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[ee.Kind]:"Iterator",type:"Iterator",items:Ft.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[ee.Kind]:"Promise",type:"Promise",item:Ft.Type(t)})}RegExp(t,r={}){let n=ct.IsString(t)?t:t.source;return this.Create({...r,[ee.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return Ft.Type(t.returns,r)}Symbol(t){return this.Create({...t,[ee.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[ee.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[ee.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[ee.Kind]:"Void",type:"void"})}};s(Zx,"JavaScriptTypeBuilder");var zm=Zx;ee.JavaScriptTypeBuilder=zm;ee.JsonType=new mh;ee.Type=new zm});var Qi=ae(d0=>{"use strict";Object.defineProperty(d0,"__esModule",{value:!0});d0.IsValueType=d0.IsSymbol=d0.IsFunction=d0.IsString=d0.IsBigInt=d0.IsInteger=d0.IsNumber=d0.IsBoolean=d0.IsNull=d0.IsUndefined=d0.IsArray=d0.IsObject=d0.IsPlainObject=d0.HasPropertyKey=d0.IsDate=d0.IsUint8Array=d0.IsPromise=d0.IsTypedArray=d0.IsIterator=d0.IsAsyncIterator=void 0;function SG(e){return Km(e)&&Symbol.asyncIterator in e}s(SG,"IsAsyncIterator");d0.IsAsyncIterator=SG;function wG(e){return Km(e)&&Symbol.iterator in e}s(wG,"IsIterator");d0.IsIterator=wG;function IG(e){return ArrayBuffer.isView(e)}s(IG,"IsTypedArray");d0.IsTypedArray=IG;function AG(e){return e instanceof Promise}s(AG,"IsPromise");d0.IsPromise=AG;function PG(e){return e instanceof Uint8Array}s(PG,"IsUint8Array");d0.IsUint8Array=PG;function RG(e){return e instanceof Date&&Number.isFinite(e.getTime())}s(RG,"IsDate");d0.IsDate=RG;function kG(e,t){return t in e}s(kG,"HasPropertyKey");d0.HasPropertyKey=kG;function NG(e){return Km(e)&&Mk(e.constructor)&&e.constructor.name==="Object"}s(NG,"IsPlainObject");d0.IsPlainObject=NG;function Km(e){return e!==null&&typeof e=="object"}s(Km,"IsObject");d0.IsObject=Km;function DG(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}s(DG,"IsArray");d0.IsArray=DG;function Dk(e){return e===void 0}s(Dk,"IsUndefined");d0.IsUndefined=Dk;function Lk(e){return e===null}s(Lk,"IsNull");d0.IsNull=Lk;function Bk(e){return typeof e=="boolean"}s(Bk,"IsBoolean");d0.IsBoolean=Bk;function e_(e){return typeof e=="number"}s(e_,"IsNumber");d0.IsNumber=e_;function LG(e){return e_(e)&&Number.isInteger(e)}s(LG,"IsInteger");d0.IsInteger=LG;function Ok(e){return typeof e=="bigint"}s(Ok,"IsBigInt");d0.IsBigInt=Ok;function Fk(e){return typeof e=="string"}s(Fk,"IsString");d0.IsString=Fk;function Mk(e){return typeof e=="function"}s(Mk,"IsFunction");d0.IsFunction=Mk;function Uk(e){return typeof e=="symbol"}s(Uk,"IsSymbol");d0.IsSymbol=Uk;function BG(e){return Ok(e)||Bk(e)||Lk(e)||e_(e)||Fk(e)||Uk(e)||Dk(e)}s(BG,"IsValueType");d0.IsValueType=BG});var i_=ae(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.DefaultErrorFunction=Zi.TypeSystemPolicy=Zi.TypeSystemErrorFunction=Zi.TypeSystem=Zi.TypeSystemDuplicateFormat=Zi.TypeSystemDuplicateTypeKind=void 0;var Wm=Qi(),Pt=gh(),Bl=ws(),r_=class r_ extends Bl.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};s(r_,"TypeSystemDuplicateTypeKind");var Gm=r_;Zi.TypeSystemDuplicateTypeKind=Gm;var n_=class n_ extends Bl.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};s(n_,"TypeSystemDuplicateFormat");var Ym=n_;Zi.TypeSystemDuplicateFormat=Ym;var qk;(function(e){function t(n,i){if(Bl.TypeRegistry.Has(n))throw new Gm(n);return Bl.TypeRegistry.Set(n,i),(o={})=>Bl.Type.Unsafe({...o,[Bl.Kind]:n})}s(t,"Type"),e.Type=t;function r(n,i){if(Bl.FormatRegistry.Has(n))throw new Ym(n);return Bl.FormatRegistry.Set(n,i),n}s(r,"Format"),e.Format=r})(qk||(Zi.TypeSystem=qk={}));var jk;(function(e){let t=t_;function r(){t=t_}s(r,"Reset"),e.Reset=r;function n(o){t=o}s(n,"Set"),e.Set=n;function i(){return t}s(i,"Get"),e.Get=i})(jk||(Zi.TypeSystemErrorFunction=jk={}));var $k;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=(0,Wm.IsObject)(a);return e.AllowArrayObject?l:l&&!(0,Wm.IsArray)(a)}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){let l=(0,Wm.IsNumber)(a);return e.AllowNaN?l:l&&Number.isFinite(a)}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){let l=(0,Wm.IsUndefined)(a);return e.AllowNullVoid?l||a===null:l}s(o,"IsVoidLike"),e.IsVoidLike=o})($k||(Zi.TypeSystemPolicy=$k={}));function t_(e,t){switch(t){case Pt.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case Pt.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case Pt.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case Pt.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case Pt.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case Pt.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case Pt.ValueErrorType.Array:return"Expected array";case Pt.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case Pt.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.BigInt:return"Expected bigint";case Pt.ValueErrorType.Boolean:return"Expected boolean";case Pt.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case Pt.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case Pt.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case Pt.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case Pt.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case Pt.ValueErrorType.Date:return"Expected Date";case Pt.ValueErrorType.Function:return"Expected function";case Pt.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.Integer:return"Expected integer";case Pt.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case Pt.ValueErrorType.Intersect:return"Expected all values to match";case Pt.ValueErrorType.Iterator:return"Expected Iterator";case Pt.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case Pt.ValueErrorType.Never:return"Never";case Pt.ValueErrorType.Not:return"Value should not match";case Pt.ValueErrorType.Null:return"Expected null";case Pt.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case Pt.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case Pt.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case Pt.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case Pt.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case Pt.ValueErrorType.Number:return"Expected number";case Pt.ValueErrorType.Object:return"Expected object";case Pt.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case Pt.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case Pt.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case Pt.ValueErrorType.ObjectRequiredProperty:return"Required property";case Pt.ValueErrorType.Promise:return"Expected Promise";case Pt.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case Pt.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case Pt.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case Pt.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case Pt.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case Pt.ValueErrorType.String:return"Expected string";case Pt.ValueErrorType.Symbol:return"Expected symbol";case Pt.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case Pt.ValueErrorType.Tuple:return"Expected tuple";case Pt.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case Pt.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case Pt.ValueErrorType.Uint8Array:return"Expected Uint8Array";case Pt.ValueErrorType.Undefined:return"Expected undefined";case Pt.ValueErrorType.Union:return"Expected union value";case Pt.ValueErrorType.Void:return"Expected void";case Pt.ValueErrorType.Kind:return`Expected kind '${e[Bl.Kind]}'`;default:return"Unknown error type"}}s(t_,"DefaultErrorFunction");Zi.DefaultErrorFunction=t_});var uc=ae($5=>{"use strict";Object.defineProperty($5,"__esModule",{value:!0});$5.Deref=$5.TypeDereferenceError=void 0;var OG=ws(),s_=class s_ extends OG.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};s(s_,"TypeDereferenceError");var Jm=s_;$5.TypeDereferenceError=Jm;function FG(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new Jm(e);return t[r]}s(FG,"Deref");$5.Deref=FG});var ph=ae(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.Hash=dc.ByteMarker=dc.ValueHashError=void 0;var $o=Qi(),o_=class o_ extends Error{constructor(t){super("Unable to hash value"),this.value=t}};s(o_,"ValueHashError");var Xm=o_;dc.ValueHashError=Xm;var Is;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Is||(dc.ByteMarker=Is={}));var H5=BigInt("14695981039346656037"),[MG,UG]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],qG=Array.from({length:256}).map((e,t)=>BigInt(t)),Hk=new Float64Array(1),Vk=new DataView(Hk.buffer),zk=new Uint8Array(Hk.buffer);function*jG(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}s(jG,"NumberToBytes");function $G(e){vi(Is.Array);for(let t of e)V5(t)}s($G,"ArrayType");function HG(e){vi(Is.Boolean),vi(e?1:0)}s(HG,"BooleanType");function VG(e){vi(Is.BigInt),Vk.setBigInt64(0,e);for(let t of zk)vi(t)}s(VG,"BigIntType");function zG(e){vi(Is.Date),V5(e.getTime())}s(zG,"DateType");function KG(e){vi(Is.Null)}s(KG,"NullType");function WG(e){vi(Is.Number),Vk.setFloat64(0,e);for(let t of zk)vi(t)}s(WG,"NumberType");function GG(e){vi(Is.Object);for(let t of globalThis.Object.keys(e).sort())V5(t),V5(e[t])}s(GG,"ObjectType");function YG(e){vi(Is.String);for(let t=0;t<e.length;t++)for(let r of jG(e.charCodeAt(t)))vi(r)}s(YG,"StringType");function JG(e){vi(Is.Symbol),V5(e.description)}s(JG,"SymbolType");function XG(e){vi(Is.Uint8Array);for(let t=0;t<e.length;t++)vi(e[t])}s(XG,"Uint8ArrayType");function QG(e){return vi(Is.Undefined)}s(QG,"UndefinedType");function V5(e){if((0,$o.IsArray)(e))return $G(e);if((0,$o.IsBoolean)(e))return HG(e);if((0,$o.IsBigInt)(e))return VG(e);if((0,$o.IsDate)(e))return zG(e);if((0,$o.IsNull)(e))return KG(e);if((0,$o.IsNumber)(e))return WG(e);if((0,$o.IsPlainObject)(e))return GG(e);if((0,$o.IsString)(e))return YG(e);if((0,$o.IsSymbol)(e))return JG(e);if((0,$o.IsUint8Array)(e))return XG(e);if((0,$o.IsUndefined)(e))return QG(e);throw new Xm(e)}s(V5,"Visit");function vi(e){H5=H5^qG[e],H5=H5*MG%UG}s(vi,"FNV1A64");function ZG(e){return H5=BigInt("14695981039346656037"),V5(e),H5}s(ZG,"Hash");dc.Hash=ZG});var gh=ae(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.Errors=Qs.ValueErrorIterator=Qs.EscapeKey=Qs.ValueErrorsUnknownTypeError=Qs.ValueErrorType=void 0;var rn=Qi(),z5=i_(),Kk=uc(),eY=ph(),Zs=ws(),_t;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(_t||(Qs.ValueErrorType=_t={}));var a_=class a_ extends Zs.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(a_,"ValueErrorsUnknownTypeError");var Qm=a_;Qs.ValueErrorsUnknownTypeError=Qm;function ka(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}s(ka,"EscapeKey");Qs.EscapeKey=ka;function q0(e){return e!==void 0}s(q0,"IsDefined");var l_=class l_{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};s(l_,"ValueErrorIterator");var Zm=l_;Qs.ValueErrorIterator=Zm;function Tt(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:z5.TypeSystemErrorFunction.Get()(t,e)}}s(Tt,"Create");function*tY(e,t,r,n){}s(tY,"TAny");function*rY(e,t,r,n){if(!(0,rn.IsArray)(n))return yield Tt(_t.Array,e,r,n);q0(e.minItems)&&!(n.length>=e.minItems)&&(yield Tt(_t.ArrayMinItems,e,r,n)),q0(e.maxItems)&&!(n.length<=e.maxItems)&&(yield Tt(_t.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*Gn(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let f=(0,eY.Hash)(l);if(a.has(f))return!1;a.add(f)}return!0}()&&(yield Tt(_t.ArrayUniqueItems,e,r,n)),!(q0(e.contains)||q0(e.minContains)||q0(e.maxContains)))return;let i=q0(e.contains)?e.contains:Zs.Type.Never(),o=n.reduce((a,l,f)=>Gn(i,t,`${r}${f}`,l).next().done===!0?a+1:a,0);o===0&&(yield Tt(_t.ArrayContains,e,r,n)),(0,rn.IsNumber)(e.minContains)&&o<e.minContains&&(yield Tt(_t.ArrayMinContains,e,r,n)),(0,rn.IsNumber)(e.maxContains)&&o>e.maxContains&&(yield Tt(_t.ArrayMaxContains,e,r,n))}s(rY,"TArray");function*nY(e,t,r,n){(0,rn.IsAsyncIterator)(n)||(yield Tt(_t.AsyncIterator,e,r,n))}s(nY,"TAsyncIterator");function*iY(e,t,r,n){if(!(0,rn.IsBigInt)(n))return yield Tt(_t.BigInt,e,r,n);q0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.BigIntExclusiveMaximum,e,r,n)),q0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.BigIntExclusiveMinimum,e,r,n)),q0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.BigIntMaximum,e,r,n)),q0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.BigIntMinimum,e,r,n)),q0(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield Tt(_t.BigIntMultipleOf,e,r,n))}s(iY,"TBigInt");function*sY(e,t,r,n){(0,rn.IsBoolean)(n)||(yield Tt(_t.Boolean,e,r,n))}s(sY,"TBoolean");function*oY(e,t,r,n){yield*Gn(e.returns,t,r,n.prototype)}s(oY,"TConstructor");function*aY(e,t,r,n){if(!(0,rn.IsDate)(n))return yield Tt(_t.Date,e,r,n);q0(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield Tt(_t.DateExclusiveMaximumTimestamp,e,r,n)),q0(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield Tt(_t.DateExclusiveMinimumTimestamp,e,r,n)),q0(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield Tt(_t.DateMaximumTimestamp,e,r,n)),q0(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield Tt(_t.DateMinimumTimestamp,e,r,n)),q0(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield Tt(_t.DateMultipleOfTimestamp,e,r,n))}s(aY,"TDate");function*lY(e,t,r,n){(0,rn.IsFunction)(n)||(yield Tt(_t.Function,e,r,n))}s(lY,"TFunction");function*fY(e,t,r,n){if(!(0,rn.IsInteger)(n))return yield Tt(_t.Integer,e,r,n);q0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.IntegerExclusiveMaximum,e,r,n)),q0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.IntegerExclusiveMinimum,e,r,n)),q0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.IntegerMaximum,e,r,n)),q0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.IntegerMinimum,e,r,n)),q0(e.multipleOf)&&n%e.multipleOf!==0&&(yield Tt(_t.IntegerMultipleOf,e,r,n))}s(fY,"TInteger");function*cY(e,t,r,n){for(let i of e.allOf){let o=Gn(i,t,r,n).next();o.done||(yield Tt(_t.Intersect,e,r,n),yield o.value)}if(e.unevaluatedProperties===!1){let i=new RegExp(Zs.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(n))i.test(o)||(yield Tt(_t.IntersectUnevaluatedProperties,e,`${r}/${o}`,n))}if(typeof e.unevaluatedProperties=="object"){let i=new RegExp(Zs.KeyResolver.ResolvePattern(e));for(let o of Object.getOwnPropertyNames(n))if(!i.test(o)){let a=Gn(e.unevaluatedProperties,t,`${r}/${o}`,n[o]).next();a.done||(yield a.value)}}}s(cY,"TIntersect");function*uY(e,t,r,n){(0,rn.IsIterator)(n)||(yield Tt(_t.Iterator,e,r,n))}s(uY,"TIterator");function*dY(e,t,r,n){n!==e.const&&(yield Tt(_t.Literal,e,r,n))}s(dY,"TLiteral");function*hY(e,t,r,n){yield Tt(_t.Never,e,r,n)}s(hY,"TNever");function*mY(e,t,r,n){Gn(e.not,t,r,n).next().done===!0&&(yield Tt(_t.Not,e,r,n))}s(mY,"TNot");function*gY(e,t,r,n){(0,rn.IsNull)(n)||(yield Tt(_t.Null,e,r,n))}s(gY,"TNull");function*pY(e,t,r,n){if(!z5.TypeSystemPolicy.IsNumberLike(n))return yield Tt(_t.Number,e,r,n);q0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Tt(_t.NumberExclusiveMaximum,e,r,n)),q0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Tt(_t.NumberExclusiveMinimum,e,r,n)),q0(e.maximum)&&!(n<=e.maximum)&&(yield Tt(_t.NumberMaximum,e,r,n)),q0(e.minimum)&&!(n>=e.minimum)&&(yield Tt(_t.NumberMinimum,e,r,n)),q0(e.multipleOf)&&n%e.multipleOf!==0&&(yield Tt(_t.NumberMultipleOf,e,r,n))}s(pY,"TNumber");function*yY(e,t,r,n){if(!z5.TypeSystemPolicy.IsObjectLike(n))return yield Tt(_t.Object,e,r,n);q0(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Tt(_t.ObjectMinProperties,e,r,n)),q0(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Tt(_t.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],o=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield Tt(_t.ObjectRequiredProperty,e.properties[l],`${r}/${ka(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)o.includes(l)||(yield Tt(_t.ObjectAdditionalProperties,e,`${r}/${ka(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)o.includes(l)||(yield*Gn(e.additionalProperties,t,`${r}/${ka(l)}`,n[l]));for(let l of o){let f=e.properties[l];e.required&&e.required.includes(l)?(yield*Gn(f,t,`${r}/${ka(l)}`,n[l]),Zs.ExtendsUndefined.Check(e)&&!(l in n)&&(yield Tt(_t.ObjectRequiredProperty,f,`${r}/${ka(l)}`,void 0))):z5.TypeSystemPolicy.IsExactOptionalProperty(n,l)&&(yield*Gn(f,t,`${r}/${ka(l)}`,n[l]))}}s(yY,"TObject");function*vY(e,t,r,n){(0,rn.IsPromise)(n)||(yield Tt(_t.Promise,e,r,n))}s(vY,"TPromise");function*xY(e,t,r,n){if(!z5.TypeSystemPolicy.IsRecordLike(n))return yield Tt(_t.Object,e,r,n);q0(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Tt(_t.ObjectMinProperties,e,r,n)),q0(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Tt(_t.ObjectMaxProperties,e,r,n));let[i,o]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,f]of Object.entries(n))a.test(l)&&(yield*Gn(o,t,`${r}/${ka(l)}`,f));if(typeof e.additionalProperties=="object")for(let[l,f]of Object.entries(n))a.test(l)||(yield*Gn(e.additionalProperties,t,`${r}/${ka(l)}`,f));if(e.additionalProperties===!1){for(let[l,f]of Object.entries(n))if(!a.test(l))return yield Tt(_t.ObjectAdditionalProperties,e,`${r}/${ka(l)}`,f)}}s(xY,"TRecord");function*_Y(e,t,r,n){yield*Gn((0,Kk.Deref)(e,t),t,r,n)}s(_Y,"TRef");function*bY(e,t,r,n){if(!(0,rn.IsString)(n))return yield Tt(_t.String,e,r,n);q0(e.minLength)&&!(n.length>=e.minLength)&&(yield Tt(_t.StringMinLength,e,r,n)),q0(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Tt(_t.StringMaxLength,e,r,n)),(0,rn.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield Tt(_t.StringPattern,e,r,n))),(0,rn.IsString)(e.format)&&(Zs.FormatRegistry.Has(e.format)?Zs.FormatRegistry.Get(e.format)(n)||(yield Tt(_t.StringFormat,e,r,n)):yield Tt(_t.StringFormatUnknown,e,r,n))}s(bY,"TString");function*CY(e,t,r,n){(0,rn.IsSymbol)(n)||(yield Tt(_t.Symbol,e,r,n))}s(CY,"TSymbol");function*TY(e,t,r,n){if(!(0,rn.IsString)(n))return yield Tt(_t.String,e,r,n);new RegExp(e.pattern).test(n)||(yield Tt(_t.StringPattern,e,r,n))}s(TY,"TTemplateLiteral");function*EY(e,t,r,n){yield*Gn((0,Kk.Deref)(e,t),t,r,n)}s(EY,"TThis");function*SY(e,t,r,n){if(!(0,rn.IsArray)(n))return yield Tt(_t.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield Tt(_t.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield Tt(_t.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*Gn(e.items[i],t,`${r}/${i}`,n[i])}s(SY,"TTuple");function*wY(e,t,r,n){(0,rn.IsUndefined)(n)||(yield Tt(_t.Undefined,e,r,n))}s(wY,"TUndefined");function*IY(e,t,r,n){let i=0;for(let o of e.anyOf){let a=[...Gn(o,t,r,n)];if(a.length===0)return;i+=a.length}i>0&&(yield Tt(_t.Union,e,r,n))}s(IY,"TUnion");function*AY(e,t,r,n){if(!(0,rn.IsUint8Array)(n))return yield Tt(_t.Uint8Array,e,r,n);q0(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield Tt(_t.Uint8ArrayMaxByteLength,e,r,n)),q0(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield Tt(_t.Uint8ArrayMinByteLength,e,r,n))}s(AY,"TUint8Array");function*PY(e,t,r,n){}s(PY,"TUnknown");function*RY(e,t,r,n){z5.TypeSystemPolicy.IsVoidLike(n)||(yield Tt(_t.Void,e,r,n))}s(RY,"TVoid");function*kY(e,t,r,n){Zs.TypeRegistry.Get(e[Zs.Kind])(e,n)||(yield Tt(_t.Kind,e,r,n))}s(kY,"TKind");function*Gn(e,t,r,n){let i=q0(e.$id)?[...t,e]:t,o=e;switch(o[Zs.Kind]){case"Any":return yield*tY(o,i,r,n);case"Array":return yield*rY(o,i,r,n);case"AsyncIterator":return yield*nY(o,i,r,n);case"BigInt":return yield*iY(o,i,r,n);case"Boolean":return yield*sY(o,i,r,n);case"Constructor":return yield*oY(o,i,r,n);case"Date":return yield*aY(o,i,r,n);case"Function":return yield*lY(o,i,r,n);case"Integer":return yield*fY(o,i,r,n);case"Intersect":return yield*cY(o,i,r,n);case"Iterator":return yield*uY(o,i,r,n);case"Literal":return yield*dY(o,i,r,n);case"Never":return yield*hY(o,i,r,n);case"Not":return yield*mY(o,i,r,n);case"Null":return yield*gY(o,i,r,n);case"Number":return yield*pY(o,i,r,n);case"Object":return yield*yY(o,i,r,n);case"Promise":return yield*vY(o,i,r,n);case"Record":return yield*xY(o,i,r,n);case"Ref":return yield*_Y(o,i,r,n);case"String":return yield*bY(o,i,r,n);case"Symbol":return yield*CY(o,i,r,n);case"TemplateLiteral":return yield*TY(o,i,r,n);case"This":return yield*EY(o,i,r,n);case"Tuple":return yield*SY(o,i,r,n);case"Undefined":return yield*wY(o,i,r,n);case"Union":return yield*IY(o,i,r,n);case"Uint8Array":return yield*AY(o,i,r,n);case"Unknown":return yield*PY(o,i,r,n);case"Void":return yield*RY(o,i,r,n);default:if(!Zs.TypeRegistry.Has(o[Zs.Kind]))throw new Qm(e);return yield*kY(o,i,r,n)}}s(Gn,"Visit");function NY(...e){let t=e.length===3?Gn(e[0],e[1],"",e[2]):Gn(e[0],[],"",e[1]);return new Zm(t)}s(NY,"Errors");Qs.Errors=NY});var eg=ae(Au=>{"use strict";var DY=Au&&Au.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LY=Au&&Au.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DY(t,e,r)};Object.defineProperty(Au,"__esModule",{value:!0});LY(gh(),Au)});var f_=ae(Ol=>{"use strict";var BY=Ol&&Ol.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OY=Ol&&Ol.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BY(t,e,r)};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.ValueErrorType=void 0;var FY=gh();Object.defineProperty(Ol,"ValueErrorType",{enumerable:!0,get:function(){return FY.ValueErrorType}});OY(i_(),Ol)});var W5=ae(K5=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});K5.Check=K5.ValueCheckUnknownTypeError=void 0;var nn=Qi(),yh=f_(),Wk=uc(),MY=ph(),Yn=ws(),c_=class c_ extends Yn.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(c_,"ValueCheckUnknownTypeError");var tg=c_;K5.ValueCheckUnknownTypeError=tg;function UY(e){return e[Yn.Kind]==="Any"||e[Yn.Kind]==="Unknown"}s(UY,"IsAnyOrUnknown");function j0(e){return e!==void 0}s(j0,"IsDefined");function qY(e,t,r){return!0}s(qY,"TAny");function jY(e,t,r){if(!(0,nn.IsArray)(r)||j0(e.minItems)&&!(r.length>=e.minItems)||j0(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(o=>Jn(e.items,t,o))||e.uniqueItems===!0&&!function(){let o=new Set;for(let a of r){let l=(0,MY.Hash)(a);if(o.has(l))return!1;o.add(l)}return!0}())return!1;if(!(j0(e.contains)||(0,nn.IsNumber)(e.minContains)||(0,nn.IsNumber)(e.maxContains)))return!0;let n=j0(e.contains)?e.contains:Yn.Type.Never(),i=r.reduce((o,a)=>Jn(n,t,a)?o+1:o,0);return!(i===0||(0,nn.IsNumber)(e.minContains)&&i<e.minContains||(0,nn.IsNumber)(e.maxContains)&&i>e.maxContains)}s(jY,"TArray");function $Y(e,t,r){return(0,nn.IsAsyncIterator)(r)}s($Y,"TAsyncIterator");function HY(e,t,r){return!(!(0,nn.IsBigInt)(r)||j0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||j0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||j0(e.maximum)&&!(r<=e.maximum)||j0(e.minimum)&&!(r>=e.minimum)||j0(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}s(HY,"TBigInt");function VY(e,t,r){return(0,nn.IsBoolean)(r)}s(VY,"TBoolean");function zY(e,t,r){return Jn(e.returns,t,r.prototype)}s(zY,"TConstructor");function KY(e,t,r){return!(!(0,nn.IsDate)(r)||j0(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||j0(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||j0(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||j0(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||j0(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}s(KY,"TDate");function WY(e,t,r){return(0,nn.IsFunction)(r)}s(WY,"TFunction");function GY(e,t,r){return!(!(0,nn.IsInteger)(r)||j0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||j0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||j0(e.maximum)&&!(r<=e.maximum)||j0(e.minimum)&&!(r>=e.minimum)||j0(e.multipleOf)&&r%e.multipleOf!==0)}s(GY,"TInteger");function YY(e,t,r){let n=e.allOf.every(i=>Jn(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(Yn.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&o}else if(Yn.TypeGuard.TSchema(e.unevaluatedProperties)){let i=new RegExp(Yn.KeyResolver.ResolvePattern(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a)||Jn(e.unevaluatedProperties,t,r[a]));return n&&o}else return n}s(YY,"TIntersect");function JY(e,t,r){return(0,nn.IsIterator)(r)}s(JY,"TIterator");function XY(e,t,r){return r===e.const}s(XY,"TLiteral");function QY(e,t,r){return!1}s(QY,"TNever");function ZY(e,t,r){return!Jn(e.not,t,r)}s(ZY,"TNot");function eJ(e,t,r){return(0,nn.IsNull)(r)}s(eJ,"TNull");function tJ(e,t,r){return!(!yh.TypeSystemPolicy.IsNumberLike(r)||j0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||j0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||j0(e.minimum)&&!(r>=e.minimum)||j0(e.maximum)&&!(r<=e.maximum)||j0(e.multipleOf)&&r%e.multipleOf!==0)}s(tJ,"TNumber");function rJ(e,t,r){if(!yh.TypeSystemPolicy.IsObjectLike(r)||j0(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||j0(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let o=e.properties[i];if(e.required&&e.required.includes(i)){if(!Jn(o,t,r[i])||(Yn.ExtendsUndefined.Check(o)||UY(o))&&!(i in r))return!1}else if(yh.TypeSystemPolicy.IsExactOptionalProperty(r,i)&&!Jn(o,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(o=>n.includes(o))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(o=>n.includes(o)||Jn(e.additionalProperties,t,r[o])):!0}s(rJ,"TObject");function nJ(e,t,r){return(0,nn.IsPromise)(r)}s(nJ,"TPromise");function iJ(e,t,r){if(!yh.TypeSystemPolicy.IsRecordLike(r)||j0(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||j0(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],o=new RegExp(n),a=Object.entries(r).every(([c,u])=>o.test(c)?Jn(i,t,u):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([c,u])=>o.test(c)?!0:Jn(e.additionalProperties,t,u)):!0,f=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(c=>o.test(c)):!0;return a&&l&&f}s(iJ,"TRecord");function sJ(e,t,r){return Jn((0,Wk.Deref)(e,t),t,r)}s(sJ,"TRef");function oJ(e,t,r){return!(0,nn.IsString)(r)||j0(e.minLength)&&!(r.length>=e.minLength)||j0(e.maxLength)&&!(r.length<=e.maxLength)||j0(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:j0(e.format)?Yn.FormatRegistry.Has(e.format)?Yn.FormatRegistry.Get(e.format)(r):!1:!0}s(oJ,"TString");function aJ(e,t,r){return(0,nn.IsSymbol)(r)}s(aJ,"TSymbol");function lJ(e,t,r){return(0,nn.IsString)(r)&&new RegExp(e.pattern).test(r)}s(lJ,"TTemplateLiteral");function fJ(e,t,r){return Jn((0,Wk.Deref)(e,t),t,r)}s(fJ,"TThis");function cJ(e,t,r){if(!(0,nn.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Jn(e.items[n],t,r[n]))return!1;return!0}s(cJ,"TTuple");function uJ(e,t,r){return(0,nn.IsUndefined)(r)}s(uJ,"TUndefined");function dJ(e,t,r){return e.anyOf.some(n=>Jn(n,t,r))}s(dJ,"TUnion");function hJ(e,t,r){return!(!(0,nn.IsUint8Array)(r)||j0(e.maxByteLength)&&!(r.length<=e.maxByteLength)||j0(e.minByteLength)&&!(r.length>=e.minByteLength))}s(hJ,"TUint8Array");function mJ(e,t,r){return!0}s(mJ,"TUnknown");function gJ(e,t,r){return yh.TypeSystemPolicy.IsVoidLike(r)}s(gJ,"TVoid");function pJ(e,t,r){return Yn.TypeRegistry.Has(e[Yn.Kind])?Yn.TypeRegistry.Get(e[Yn.Kind])(e,r):!1}s(pJ,"TKind");function Jn(e,t,r){let n=j0(e.$id)?[...t,e]:t,i=e;switch(i[Yn.Kind]){case"Any":return qY(i,n,r);case"Array":return jY(i,n,r);case"AsyncIterator":return $Y(i,n,r);case"BigInt":return HY(i,n,r);case"Boolean":return VY(i,n,r);case"Constructor":return zY(i,n,r);case"Date":return KY(i,n,r);case"Function":return WY(i,n,r);case"Integer":return GY(i,n,r);case"Intersect":return YY(i,n,r);case"Iterator":return JY(i,n,r);case"Literal":return XY(i,n,r);case"Never":return QY(i,n,r);case"Not":return ZY(i,n,r);case"Null":return eJ(i,n,r);case"Number":return tJ(i,n,r);case"Object":return rJ(i,n,r);case"Promise":return nJ(i,n,r);case"Record":return iJ(i,n,r);case"Ref":return sJ(i,n,r);case"String":return oJ(i,n,r);case"Symbol":return aJ(i,n,r);case"TemplateLiteral":return lJ(i,n,r);case"This":return fJ(i,n,r);case"Tuple":return cJ(i,n,r);case"Undefined":return uJ(i,n,r);case"Union":return dJ(i,n,r);case"Uint8Array":return hJ(i,n,r);case"Unknown":return mJ(i,n,r);case"Void":return gJ(i,n,r);default:if(!Yn.TypeRegistry.Has(i[Yn.Kind]))throw new tg(i);return pJ(i,n,r)}}s(Jn,"Visit");function yJ(...e){return e.length===3?Jn(e[0],e[1],e[2]):Jn(e[0],[],e[1])}s(yJ,"Check");K5.Check=yJ});var v_=ae(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.EncodeTransform=xi.DecodeTransform=xi.HasTransform=xi.TransformEncodeError=xi.TransformDecodeError=xi.TransformEncodeCheckError=xi.TransformDecodeCheckError=void 0;var ki=Qi(),G5=uc(),u_=W5(),h0=ws(),m_=class m_ extends h0.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};s(m_,"TransformDecodeCheckError");var d_=m_;xi.TransformDecodeCheckError=d_;var g_=class g_ extends h0.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};s(g_,"TransformEncodeCheckError");var h_=g_;xi.TransformEncodeCheckError=h_;var p_=class p_ extends h0.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};s(p_,"TransformDecodeError");var rg=p_;xi.TransformDecodeError=rg;var y_=class y_ extends h0.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};s(y_,"TransformEncodeError");var ng=y_;xi.TransformEncodeError=ng;var Gk;(function(e){function t(I,P){return h0.TypeGuard.TTransform(I)||_(I.items,P)}s(t,"TArray");function r(I,P){return h0.TypeGuard.TTransform(I)||_(I.items,P)}s(r,"TAsyncIterator");function n(I,P){return h0.TypeGuard.TTransform(I)||_(I.returns,P)||I.parameters.some(U=>_(U,P))}s(n,"TConstructor");function i(I,P){return h0.TypeGuard.TTransform(I)||_(I.returns,P)||I.parameters.some(U=>_(U,P))}s(i,"TFunction");function o(I,P){return h0.TypeGuard.TTransform(I)||h0.TypeGuard.TTransform(I.unevaluatedProperties)||I.allOf.some(U=>_(U,P))}s(o,"TIntersect");function a(I,P){return h0.TypeGuard.TTransform(I)||_(I.items,P)}s(a,"TIterator");function l(I,P){return h0.TypeGuard.TTransform(I)||_(I.not,P)}s(l,"TNot");function f(I,P){return h0.TypeGuard.TTransform(I)||Object.values(I.properties).some(U=>_(U,P))||h0.TypeGuard.TSchema(I.additionalProperties)&&_(I.additionalProperties,P)}s(f,"TObject");function c(I,P){return h0.TypeGuard.TTransform(I)||_(I.item,P)}s(c,"TPromise");function u(I,P){let U=Object.getOwnPropertyNames(I.patternProperties)[0],k=I.patternProperties[U];return h0.TypeGuard.TTransform(I)||_(k,P)||h0.TypeGuard.TSchema(I.additionalProperties)&&h0.TypeGuard.TTransform(I.additionalProperties)}s(u,"TRecord");function d(I,P){return h0.TypeGuard.TTransform(I)?!0:_((0,G5.Deref)(I,P),P)}s(d,"TRef");function g(I,P){return h0.TypeGuard.TTransform(I)?!0:_((0,G5.Deref)(I,P),P)}s(g,"TThis");function p(I,P){return h0.TypeGuard.TTransform(I)||!(0,ki.IsUndefined)(I.items)&&I.items.some(U=>_(U,P))}s(p,"TTuple");function y(I,P){return h0.TypeGuard.TTransform(I)||I.anyOf.some(U=>_(U,P))}s(y,"TUnion");function _(I,P){let U=(0,ki.IsString)(I.$id)?[...P,I]:P,k=I;if(I.$id&&S.has(I.$id))return!1;switch(I.$id&&S.add(I.$id),I[h0.Kind]){case"Array":return t(k,U);case"AsyncIterator":return r(k,U);case"Constructor":return n(k,U);case"Function":return i(k,U);case"Intersect":return o(k,U);case"Iterator":return a(k,U);case"Not":return l(k,U);case"Object":return f(k,U);case"Promise":return c(k,U);case"Record":return u(k,U);case"Ref":return d(k,U);case"This":return g(k,U);case"Tuple":return p(k,U);case"Union":return y(k,U);default:return h0.TypeGuard.TTransform(I)}}s(_,"Visit");let S=new Set;function T(I,P){return S.clear(),_(I,P)}s(T,"Has"),e.Has=T})(Gk||(xi.HasTransform=Gk={}));var Yk;(function(e){function t(p,y){try{return h0.TypeGuard.TTransform(p)?p[h0.Transform].Decode(y):y}catch(_){throw new rg(p,y,_)}}s(t,"Default");function r(p,y,_){return(0,ki.IsArray)(_)?t(p,_.map(S=>d(p.items,y,S))):t(p,_)}s(r,"TArray");function n(p,y,_){if(!(0,ki.IsPlainObject)(_)||(0,ki.IsValueType)(_))return t(p,_);let S=h0.KeyResolver.ResolveKeys(p,{includePatterns:!1}),T=S.reduce((k,L)=>L in k?{...k,[L]:d(h0.IndexedAccessor.Resolve(p,[L]),y,k[L])}:k,_);if(!h0.TypeGuard.TTransform(p.unevaluatedProperties))return t(p,T);let I=Object.getOwnPropertyNames(T),P=p.unevaluatedProperties,U=I.reduce((k,L)=>S.includes(L)?k:{...k,[L]:t(P,k[L])},T);return t(p,U)}s(n,"TIntersect");function i(p,y,_){return t(p,d(p.not,y,_))}s(i,"TNot");function o(p,y,_){if(!(0,ki.IsPlainObject)(_))return t(p,_);let S=h0.KeyResolver.ResolveKeys(p,{includePatterns:!1}),T=S.reduce((k,L)=>L in k?{...k,[L]:d(p.properties[L],y,k[L])}:k,_);if(!h0.TypeGuard.TSchema(p.additionalProperties))return t(p,T);let I=Object.getOwnPropertyNames(T),P=p.additionalProperties,U=I.reduce((k,L)=>S.includes(L)?k:{...k,[L]:t(P,k[L])},T);return t(p,U)}s(o,"TObject");function a(p,y,_){if(!(0,ki.IsPlainObject)(_))return t(p,_);let S=Object.getOwnPropertyNames(p.patternProperties)[0],T=new RegExp(S),I=Object.getOwnPropertyNames(_).reduce((L,Q)=>T.test(Q)?{...L,[Q]:d(p.patternProperties[S],y,L[Q])}:L,_);if(!h0.TypeGuard.TSchema(p.additionalProperties))return t(p,I);let P=Object.getOwnPropertyNames(I),U=p.additionalProperties,k=P.reduce((L,Q)=>T.test(Q)?L:{...L,[Q]:t(U,L[Q])},I);return t(p,k)}s(a,"TRecord");function l(p,y,_){let S=(0,G5.Deref)(p,y);return t(p,d(S,y,_))}s(l,"TRef");function f(p,y,_){let S=(0,G5.Deref)(p,y);return t(p,d(S,y,_))}s(f,"TThis");function c(p,y,_){return(0,ki.IsArray)(_)&&(0,ki.IsArray)(p.items)?t(p,p.items.map((S,T)=>d(S,y,_[T]))):t(p,_)}s(c,"TTuple");function u(p,y,_){let S=t(p,_);for(let T of p.anyOf)if((0,u_.Check)(T,y,S))return d(T,y,S);return S}s(u,"TUnion");function d(p,y,_){let S=typeof p.$id=="string"?[...y,p]:y,T=p;switch(p[h0.Kind]){case"Array":return r(T,S,_);case"Intersect":return n(T,S,_);case"Not":return i(T,S,_);case"Object":return o(T,S,_);case"Record":return a(T,S,_);case"Ref":return l(T,S,_);case"Symbol":return t(T,_);case"This":return f(T,S,_);case"Tuple":return c(T,S,_);case"Union":return u(T,S,_);default:return t(T,_)}}s(d,"Visit");function g(p,y,_){return d(p,y,_)}s(g,"Decode"),e.Decode=g})(Yk||(xi.DecodeTransform=Yk={}));var Jk;(function(e){function t(p,y){try{return h0.TypeGuard.TTransform(p)?p[h0.Transform].Encode(y):y}catch(_){throw new ng(p,y,_)}}s(t,"Default");function r(p,y,_){let S=t(p,_);return(0,ki.IsArray)(S)?S.map(T=>d(p.items,y,T)):S}s(r,"TArray");function n(p,y,_){let S=t(p,_);if(!(0,ki.IsPlainObject)(_)||(0,ki.IsValueType)(_))return S;let T=h0.KeyResolver.ResolveKeys(p,{includePatterns:!1}),I=T.reduce((k,L)=>L in S?{...k,[L]:d(h0.IndexedAccessor.Resolve(p,[L]),y,k[L])}:k,S);if(!h0.TypeGuard.TTransform(p.unevaluatedProperties))return t(p,I);let P=Object.getOwnPropertyNames(I),U=p.unevaluatedProperties;return P.reduce((k,L)=>T.includes(L)?k:{...k,[L]:t(U,k[L])},I)}s(n,"TIntersect");function i(p,y,_){return t(p.not,t(p,_))}s(i,"TNot");function o(p,y,_){let S=t(p,_);if(!(0,ki.IsPlainObject)(_))return S;let T=h0.KeyResolver.ResolveKeys(p,{includePatterns:!1}),I=T.reduce((k,L)=>L in k?{...k,[L]:d(p.properties[L],y,k[L])}:k,S);if(!h0.TypeGuard.TSchema(p.additionalProperties))return I;let P=Object.getOwnPropertyNames(I),U=p.additionalProperties;return P.reduce((k,L)=>T.includes(L)?k:{...k,[L]:t(U,k[L])},I)}s(o,"TObject");function a(p,y,_){let S=t(p,_);if(!(0,ki.IsPlainObject)(_))return S;let T=Object.getOwnPropertyNames(p.patternProperties)[0],I=new RegExp(T),P=Object.getOwnPropertyNames(_).reduce((L,Q)=>I.test(Q)?{...L,[Q]:d(p.patternProperties[T],y,L[Q])}:L,S);if(!h0.TypeGuard.TSchema(p.additionalProperties))return t(p,P);let U=Object.getOwnPropertyNames(P),k=p.additionalProperties;return U.reduce((L,Q)=>I.test(Q)?L:{...L,[Q]:t(k,L[Q])},P)}s(a,"TRecord");function l(p,y,_){let S=(0,G5.Deref)(p,y),T=d(S,y,_);return t(p,T)}s(l,"TRef");function f(p,y,_){let S=(0,G5.Deref)(p,y),T=d(S,y,_);return t(p,T)}s(f,"TThis");function c(p,y,_){let S=t(p,_);return(0,ki.IsArray)(p.items)?p.items.map((T,I)=>d(T,y,S[I])):[]}s(c,"TTuple");function u(p,y,_){for(let S of p.anyOf){if(!(0,u_.Check)(S,y,_))continue;let T=d(S,y,_);return t(p,T)}for(let S of p.anyOf){let T=d(S,y,_);if((0,u_.Check)(p,y,T))return t(p,T)}return t(p,_)}s(u,"TUnion");function d(p,y,_){let S=typeof p.$id=="string"?[...y,p]:y,T=p;switch(p[h0.Kind]){case"Array":return r(T,S,_);case"Intersect":return n(T,S,_);case"Not":return i(T,S,_);case"Object":return o(T,S,_);case"Record":return a(T,S,_);case"Ref":return l(T,S,_);case"This":return f(T,S,_);case"Tuple":return c(T,S,_);case"Union":return u(T,S,_);default:return t(T,_)}}s(d,"Visit");function g(p,y,_){return d(p,y,_)}s(g,"Encode"),e.Encode=g})(Jk||(xi.EncodeTransform=Jk={}))});var Qk=ae(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.TypeCompiler=eo.Policy=eo.TypeCompilerTypeGuardError=eo.TypeCompilerUnknownTypeError=eo.TypeCheck=void 0;var vh=v_(),T0=Qi(),vJ=gh(),xh=f_(),xJ=uc(),_J=ph(),qr=ws(),b_=class b_{constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=vh.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,vJ.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new vh.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?vh.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?vh.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new vh.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};s(b_,"TypeCheck");var ig=b_;eo.TypeCheck=ig;var Fl;(function(e){function t(o){return o===36}s(t,"DollarSign"),e.DollarSign=t;function r(o){return o===95}s(r,"IsUnderscore"),e.IsUnderscore=r;function n(o){return o>=65&&o<=90||o>=97&&o<=122}s(n,"IsAlpha"),e.IsAlpha=n;function i(o){return o>=48&&o<=57}s(i,"IsNumeric"),e.IsNumeric=i})(Fl||(Fl={}));var sg;(function(e){function t(o){return o.length===0?!1:Fl.IsNumeric(o.charCodeAt(0))}s(t,"IsFirstCharacterNumeric");function r(o){if(t(o))return!1;for(let a=0;a<o.length;a++){let l=o.charCodeAt(a);if(!(Fl.IsAlpha(l)||Fl.IsNumeric(l)||Fl.DollarSign(l)||Fl.IsUnderscore(l)))return!1}return!0}s(r,"IsAccessor");function n(o){return o.replace(/'/g,"\\'")}s(n,"EscapeHyphen");function i(o,a){return r(a)?`${o}.${a}`:`${o}['${n(a)}']`}s(i,"Encode"),e.Encode=i})(sg||(sg={}));var x_;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);Fl.IsNumeric(o)||Fl.IsAlpha(o)?n.push(r.charAt(i)):n.push(`_${o}_`)}return n.join("").replace(/__/g,"_")}s(t,"Encode"),e.Encode=t})(x_||(x_={}));var __;(function(e){function t(r){return r.replace(/'/g,"\\'")}s(t,"Escape"),e.Escape=t})(__||(__={}));var C_=class C_ extends qr.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(C_,"TypeCompilerUnknownTypeError");var og=C_;eo.TypeCompilerUnknownTypeError=og;var T_=class T_ extends qr.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};s(T_,"TypeCompilerTypeGuardError");var _h=T_;eo.TypeCompilerTypeGuardError=_h;var Pu;(function(e){function t(a,l,f){return xh.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${f} : true)`:`(${sg.Encode(a,l)} !== undefined ? ${f} : true)`}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return xh.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return xh.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return xh.TypeSystemPolicy.AllowNaN?`typeof ${a} === 'number'`:`(typeof ${a} === 'number' && Number.isFinite(${a}))`}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){return xh.TypeSystemPolicy.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}s(o,"IsVoidLike"),e.IsVoidLike=o})(Pu||(eo.Policy=Pu={}));var Xk;(function(e){function t(W){return W[qr.Kind]==="Any"||W[qr.Kind]==="Unknown"}s(t,"IsAnyOrUnknown");function*r(W,Xe,he){yield"true"}s(r,"TAny");function*n(W,Xe,he){yield`Array.isArray(${he})`;let[Je,He]=[mt("value","any"),mt("acc","number")];(0,T0.IsNumber)(W.maxItems)&&(yield`${he}.length <= ${W.maxItems}`),(0,T0.IsNumber)(W.minItems)&&(yield`${he}.length >= ${W.minItems}`);let nt=ce(W.items,Xe,"value");if(yield`${he}.every((${Je}) => ${nt})`,qr.TypeGuard.TSchema(W.contains)||(0,T0.IsNumber)(W.minContains)||(0,T0.IsNumber)(W.maxContains)){let wt=qr.TypeGuard.TSchema(W.contains)?W.contains:qr.Type.Never(),Mt=ce(wt,Xe,"value"),Lt=(0,T0.IsNumber)(W.minContains)?[`(count >= ${W.minContains})`]:[],H=(0,T0.IsNumber)(W.maxContains)?[`(count <= ${W.maxContains})`]:[],$t=`const count = value.reduce((${He}, ${Je}) => ${Mt} ? acc + 1 : acc, 0)`,vt=["(count > 0)",...Lt,...H].join(" && ");yield`((${Je}) => { ${$t}; return ${vt}})(${he})`}W.uniqueItems===!0&&(yield`((${Je}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${he})`)}s(n,"TArray");function*i(W,Xe,he){yield`(typeof value === 'object' && Symbol.asyncIterator in ${he})`}s(i,"TAsyncIterator");function*o(W,Xe,he){yield`(typeof ${he} === 'bigint')`,(0,T0.IsBigInt)(W.exclusiveMaximum)&&(yield`${he} < BigInt(${W.exclusiveMaximum})`),(0,T0.IsBigInt)(W.exclusiveMinimum)&&(yield`${he} > BigInt(${W.exclusiveMinimum})`),(0,T0.IsBigInt)(W.maximum)&&(yield`${he} <= BigInt(${W.maximum})`),(0,T0.IsBigInt)(W.minimum)&&(yield`${he} >= BigInt(${W.minimum})`),(0,T0.IsBigInt)(W.multipleOf)&&(yield`(${he} % BigInt(${W.multipleOf})) === 0`)}s(o,"TBigInt");function*a(W,Xe,he){yield`(typeof ${he} === 'boolean')`}s(a,"TBoolean");function*l(W,Xe,he){yield*be(W.returns,Xe,`${he}.prototype`)}s(l,"TConstructor");function*f(W,Xe,he){yield`(${he} instanceof Date) && Number.isFinite(${he}.getTime())`,(0,T0.IsNumber)(W.exclusiveMaximumTimestamp)&&(yield`${he}.getTime() < ${W.exclusiveMaximumTimestamp}`),(0,T0.IsNumber)(W.exclusiveMinimumTimestamp)&&(yield`${he}.getTime() > ${W.exclusiveMinimumTimestamp}`),(0,T0.IsNumber)(W.maximumTimestamp)&&(yield`${he}.getTime() <= ${W.maximumTimestamp}`),(0,T0.IsNumber)(W.minimumTimestamp)&&(yield`${he}.getTime() >= ${W.minimumTimestamp}`),(0,T0.IsNumber)(W.multipleOfTimestamp)&&(yield`(${he}.getTime() % ${W.multipleOfTimestamp}) === 0`)}s(f,"TDate");function*c(W,Xe,he){yield`(typeof ${he} === 'function')`}s(c,"TFunction");function*u(W,Xe,he){yield`(typeof ${he} === 'number' && Number.isInteger(${he}))`,(0,T0.IsNumber)(W.exclusiveMaximum)&&(yield`${he} < ${W.exclusiveMaximum}`),(0,T0.IsNumber)(W.exclusiveMinimum)&&(yield`${he} > ${W.exclusiveMinimum}`),(0,T0.IsNumber)(W.maximum)&&(yield`${he} <= ${W.maximum}`),(0,T0.IsNumber)(W.minimum)&&(yield`${he} >= ${W.minimum}`),(0,T0.IsNumber)(W.multipleOf)&&(yield`(${he} % ${W.multipleOf}) === 0`)}s(u,"TInteger");function*d(W,Xe,he){let Je=W.allOf.map(He=>ce(He,Xe,he)).join(" && ");if(W.unevaluatedProperties===!1){let He=le(`${new RegExp(qr.KeyResolver.ResolvePattern(W))};`),nt=`Object.getOwnPropertyNames(${he}).every(key => ${He}.test(key))`;yield`(${Je} && ${nt})`}else if(qr.TypeGuard.TSchema(W.unevaluatedProperties)){let He=le(`${new RegExp(qr.KeyResolver.ResolvePattern(W))};`),nt=`Object.getOwnPropertyNames(${he}).every(key => ${He}.test(key) || ${ce(W.unevaluatedProperties,Xe,`${he}[key]`)})`;yield`(${Je} && ${nt})`}else yield`(${Je})`}s(d,"TIntersect");function*g(W,Xe,he){yield`(typeof value === 'object' && Symbol.iterator in ${he})`}s(g,"TIterator");function*p(W,Xe,he){typeof W.const=="number"||typeof W.const=="boolean"?yield`(${he} === ${W.const})`:yield`(${he} === '${__.Escape(W.const)}')`}s(p,"TLiteral");function*y(W,Xe,he){yield"false"}s(y,"TNever");function*_(W,Xe,he){yield`(!${ce(W.not,Xe,he)})`}s(_,"TNot");function*S(W,Xe,he){yield`(${he} === null)`}s(S,"TNull");function*T(W,Xe,he){yield Pu.IsNumberLike(he),(0,T0.IsNumber)(W.exclusiveMaximum)&&(yield`${he} < ${W.exclusiveMaximum}`),(0,T0.IsNumber)(W.exclusiveMinimum)&&(yield`${he} > ${W.exclusiveMinimum}`),(0,T0.IsNumber)(W.maximum)&&(yield`${he} <= ${W.maximum}`),(0,T0.IsNumber)(W.minimum)&&(yield`${he} >= ${W.minimum}`),(0,T0.IsNumber)(W.multipleOf)&&(yield`(${he} % ${W.multipleOf}) === 0`)}s(T,"TNumber");function*I(W,Xe,he){yield Pu.IsObjectLike(he),(0,T0.IsNumber)(W.minProperties)&&(yield`Object.getOwnPropertyNames(${he}).length >= ${W.minProperties}`),(0,T0.IsNumber)(W.maxProperties)&&(yield`Object.getOwnPropertyNames(${he}).length <= ${W.maxProperties}`);let Je=Object.getOwnPropertyNames(W.properties);for(let He of Je){let nt=sg.Encode(he,He),wt=W.properties[He];if(W.required&&W.required.includes(He))yield*be(wt,Xe,nt),(qr.ExtendsUndefined.Check(wt)||t(wt))&&(yield`('${He}' in ${he})`);else{let Mt=ce(wt,Xe,nt);yield Pu.IsExactOptionalProperty(he,He,Mt)}}if(W.additionalProperties===!1)if(W.required&&W.required.length===Je.length)yield`Object.getOwnPropertyNames(${he}).length === ${Je.length}`;else{let He=`[${Je.map(nt=>`'${nt}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${he}).every(key => ${He}.includes(key))`}if(typeof W.additionalProperties=="object"){let He=ce(W.additionalProperties,Xe,`${he}[key]`),nt=`[${Je.map(wt=>`'${wt}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${he}).every(key => ${nt}.includes(key) || ${He}))`}}s(I,"TObject");function*P(W,Xe,he){yield`(typeof value === 'object' && typeof ${he}.then === 'function')`}s(P,"TPromise");function*U(W,Xe,he){yield Pu.IsRecordLike(he),(0,T0.IsNumber)(W.minProperties)&&(yield`Object.getOwnPropertyNames(${he}).length >= ${W.minProperties}`),(0,T0.IsNumber)(W.maxProperties)&&(yield`Object.getOwnPropertyNames(${he}).length <= ${W.maxProperties}`);let[Je,He]=Object.entries(W.patternProperties)[0],nt=le(`${new RegExp(Je)}`),wt=ce(He,Xe,"value"),Mt=qr.TypeGuard.TSchema(W.additionalProperties)?ce(W.additionalProperties,Xe,he):W.additionalProperties===!1?"false":"true",Lt=`(${nt}.test(key) ? ${wt} : ${Mt})`;yield`(Object.entries(${he}).every(([key, value]) => ${Lt}))`}s(U,"TRecord");function*k(W,Xe,he){let Je=(0,xJ.Deref)(W,Xe);if(ze.functions.has(W.$ref))return yield`${ve(W.$ref)}(${he})`;yield*be(Je,Xe,he)}s(k,"TRef");function*L(W,Xe,he){yield`(typeof ${he} === 'string')`,(0,T0.IsNumber)(W.maxLength)&&(yield`${he}.length <= ${W.maxLength}`),(0,T0.IsNumber)(W.minLength)&&(yield`${he}.length >= ${W.minLength}`),W.pattern!==void 0&&(yield`${le(`${new RegExp(W.pattern)};`)}.test(${he})`),W.format!==void 0&&(yield`format('${W.format}', ${he})`)}s(L,"TString");function*Q(W,Xe,he){yield`(typeof ${he} === 'symbol')`}s(Q,"TSymbol");function*te(W,Xe,he){yield`(typeof ${he} === 'string')`,yield`${le(`${new RegExp(W.pattern)};`)}.test(${he})`}s(te,"TTemplateLiteral");function*Ce(W,Xe,he){yield`${ve(W.$ref)}(${he})`}s(Ce,"TThis");function*De(W,Xe,he){if(yield`Array.isArray(${he})`,W.items===void 0)return yield`${he}.length === 0`;yield`(${he}.length === ${W.maxItems})`;for(let Je=0;Je<W.items.length;Je++)yield`${ce(W.items[Je],Xe,`${he}[${Je}]`)}`}s(De,"TTuple");function*pe(W,Xe,he){yield`${he} === undefined`}s(pe,"TUndefined");function*Ie(W,Xe,he){yield`(${W.anyOf.map(He=>ce(He,Xe,he)).join(" || ")})`}s(Ie,"TUnion");function*ie(W,Xe,he){yield`${he} instanceof Uint8Array`,(0,T0.IsNumber)(W.maxByteLength)&&(yield`(${he}.length <= ${W.maxByteLength})`),(0,T0.IsNumber)(W.minByteLength)&&(yield`(${he}.length >= ${W.minByteLength})`)}s(ie,"TUint8Array");function*Z(W,Xe,he){yield"true"}s(Z,"TUnknown");function*_e(W,Xe,he){yield Pu.IsVoidLike(he)}s(_e,"TVoid");function*Ae(W,Xe,he){let Je=ze.instances.size;ze.instances.set(Je,W),yield`kind('${W[qr.Kind]}', ${Je}, ${he})`}s(Ae,"TKind");function*be(W,Xe,he,Je=!0){let He=(0,T0.IsString)(W.$id)?[...Xe,W]:Xe,nt=W;if(Je&&(0,T0.IsString)(W.$id)){let wt=ve(W.$id);if(ze.functions.has(wt))return yield`${wt}(${he})`;{let Mt=Ee(wt,W,Xe,"value",!1);return ze.functions.set(wt,Mt),yield`${wt}(${he})`}}switch(nt[qr.Kind]){case"Any":return yield*r(nt,He,he);case"Array":return yield*n(nt,He,he);case"AsyncIterator":return yield*i(nt,He,he);case"BigInt":return yield*o(nt,He,he);case"Boolean":return yield*a(nt,He,he);case"Constructor":return yield*l(nt,He,he);case"Date":return yield*f(nt,He,he);case"Function":return yield*c(nt,He,he);case"Integer":return yield*u(nt,He,he);case"Intersect":return yield*d(nt,He,he);case"Iterator":return yield*g(nt,He,he);case"Literal":return yield*p(nt,He,he);case"Never":return yield*y(nt,He,he);case"Not":return yield*_(nt,He,he);case"Null":return yield*S(nt,He,he);case"Number":return yield*T(nt,He,he);case"Object":return yield*I(nt,He,he);case"Promise":return yield*P(nt,He,he);case"Record":return yield*U(nt,He,he);case"Ref":return yield*k(nt,He,he);case"String":return yield*L(nt,He,he);case"Symbol":return yield*Q(nt,He,he);case"TemplateLiteral":return yield*te(nt,He,he);case"This":return yield*Ce(nt,He,he);case"Tuple":return yield*De(nt,He,he);case"Undefined":return yield*pe(nt,He,he);case"Union":return yield*Ie(nt,He,he);case"Uint8Array":return yield*ie(nt,He,he);case"Unknown":return yield*Z(nt,He,he);case"Void":return yield*_e(nt,He,he);default:if(!qr.TypeRegistry.Has(nt[qr.Kind]))throw new og(W);return yield*Ae(nt,He,he)}}s(be,"Visit");let ze={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(W,Xe,he,Je=!0){return`(${[...be(W,Xe,he,Je)].join(" && ")})`}s(ce,"CreateExpression");function ve(W){return`check_${x_.Encode(W)}`}s(ve,"CreateFunctionName");function le(W){let Xe=`local_${ze.variables.size}`;return ze.variables.set(Xe,`const ${Xe} = ${W}`),Xe}s(le,"CreateVariable");function Ee(W,Xe,he,Je,He=!0){let[nt,wt]=[`
`,$t=>"".padStart($t," ")],Mt=mt("value","any"),Lt=Et("boolean"),H=[...be(Xe,he,Je,He)].map($t=>`${wt(4)}${$t}`).join(` &&${nt}`);return`function ${W}(${Mt})${Lt} {${nt}${wt(2)}return (${nt}${H}${nt}${wt(2)})
}`}s(Ee,"CreateFunction");function mt(W,Xe){let he=ze.language==="typescript"?`: ${Xe}`:"";return`${W}${he}`}s(mt,"CreateParameter");function Et(W){return ze.language==="typescript"?`: ${W}`:""}s(Et,"CreateReturns");function dt(W,Xe,he){let Je=Ee("check",W,Xe,"value"),He=mt("value","any"),nt=Et("boolean"),wt=[...ze.functions.values()],Mt=[...ze.variables.values()],Lt=(0,T0.IsString)(W.$id)?`return function check(${He})${nt} {
  return ${ve(W.$id)}(value)
}`:`return ${Je}`;return[...Mt,...wt,Lt].join(`
`)}s(dt,"Build");function Ve(...W){let Xe={language:"javascript"},[he,Je,He]=W.length===2&&(0,T0.IsArray)(W[1])?[W[0],W[1],Xe]:W.length===2&&!(0,T0.IsArray)(W[1])?[W[0],[],W[1]]:W.length===3?[W[0],W[1],W[2]]:W.length===1?[W[0],[],Xe]:[null,[],Xe];if(ze.language=He.language,ze.variables.clear(),ze.functions.clear(),ze.instances.clear(),!qr.TypeGuard.TSchema(he))throw new _h(he);for(let nt of Je)if(!qr.TypeGuard.TSchema(nt))throw new _h(nt);return dt(he,Je,He)}s(Ve,"Code"),e.Code=Ve;function n0(W,Xe=[]){let he=Ve(W,Xe,{language:"javascript"}),Je=globalThis.Function("kind","format","hash",he),He=new Map(ze.instances);function nt(H,$t,vt){if(!qr.TypeRegistry.Has(H)||!He.has($t))return!1;let sr=qr.TypeRegistry.Get(H),J0=He.get($t);return sr(J0,vt)}s(nt,"typeRegistryFunction");function wt(H,$t){return qr.FormatRegistry.Has(H)?qr.FormatRegistry.Get(H)($t):!1}s(wt,"formatRegistryFunction");function Mt(H){return(0,_J.Hash)(H)}s(Mt,"hashFunction");let Lt=Je(nt,wt,Mt);return new ig(W,Xe,Lt,he)}s(n0,"Compile"),e.Compile=n0})(Xk||(eo.TypeCompiler=Xk={}))});var eN=ae(Ho=>{"use strict";var bJ=Ho&&Ho.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CJ=Ho&&Ho.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bJ(t,e,r)};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.ValueErrorIterator=Ho.ValueErrorType=void 0;var Zk=eg();Object.defineProperty(Ho,"ValueErrorType",{enumerable:!0,get:function(){return Zk.ValueErrorType}});Object.defineProperty(Ho,"ValueErrorIterator",{enumerable:!0,get:function(){return Zk.ValueErrorIterator}});CJ(Qk(),Ho)});var B0=ae((ag,tN)=>{(function(e,t){typeof ag=="object"?tN.exports=ag=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(ag,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=s(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),o=Object.create||function(){function T(){}return s(T,"F"),function(I){var P;return T.prototype=I,P=new T,T.prototype=null,P}}(),a={},l=a.lib={},f=l.Base=function(){return{extend:function(T){var I=o(this);return T&&I.mixIn(T),(!I.hasOwnProperty("init")||this.init===I.init)&&(I.init=function(){I.$super.init.apply(this,arguments)}),I.init.prototype=I,I.$super=this,I},create:function(){var T=this.extend();return T.init.apply(T,arguments),T},init:function(){},mixIn:function(T){for(var I in T)T.hasOwnProperty(I)&&(this[I]=T[I]);T.hasOwnProperty("toString")&&(this.toString=T.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=l.WordArray=f.extend({init:function(T,I){T=this.words=T||[],I!=r?this.sigBytes=I:this.sigBytes=T.length*4},toString:function(T){return(T||d).stringify(this)},concat:function(T){var I=this.words,P=T.words,U=this.sigBytes,k=T.sigBytes;if(this.clamp(),U%4)for(var L=0;L<k;L++){var Q=P[L>>>2]>>>24-L%4*8&255;I[U+L>>>2]|=Q<<24-(U+L)%4*8}else for(var te=0;te<k;te+=4)I[U+te>>>2]=P[te>>>2];return this.sigBytes+=k,this},clamp:function(){var T=this.words,I=this.sigBytes;T[I>>>2]&=4294967295<<32-I%4*8,T.length=t.ceil(I/4)},clone:function(){var T=f.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var I=[],P=0;P<T;P+=4)I.push(i());return new c.init(I,T)}}),u=a.enc={},d=u.Hex={stringify:function(T){for(var I=T.words,P=T.sigBytes,U=[],k=0;k<P;k++){var L=I[k>>>2]>>>24-k%4*8&255;U.push((L>>>4).toString(16)),U.push((L&15).toString(16))}return U.join("")},parse:function(T){for(var I=T.length,P=[],U=0;U<I;U+=2)P[U>>>3]|=parseInt(T.substr(U,2),16)<<24-U%8*4;return new c.init(P,I/2)}},g=u.Latin1={stringify:function(T){for(var I=T.words,P=T.sigBytes,U=[],k=0;k<P;k++){var L=I[k>>>2]>>>24-k%4*8&255;U.push(String.fromCharCode(L))}return U.join("")},parse:function(T){for(var I=T.length,P=[],U=0;U<I;U++)P[U>>>2]|=(T.charCodeAt(U)&255)<<24-U%4*8;return new c.init(P,I)}},p=u.Utf8={stringify:function(T){try{return decodeURIComponent(escape(g.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return g.parse(unescape(encodeURIComponent(T)))}},y=l.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=p.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var I,P=this._data,U=P.words,k=P.sigBytes,L=this.blockSize,Q=L*4,te=k/Q;T?te=t.ceil(te):te=t.max((te|0)-this._minBufferSize,0);var Ce=te*L,De=t.min(Ce*4,k);if(Ce){for(var pe=0;pe<Ce;pe+=L)this._doProcessBlock(U,pe);I=U.splice(0,Ce),P.sigBytes-=De}return new c.init(I,De)},clone:function(){var T=f.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),_=l.Hasher=y.extend({cfg:f.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){T&&this._append(T);var I=this._doFinalize();return I},blockSize:512/32,_createHelper:function(T){return function(I,P){return new T.init(P).finalize(I)}},_createHmacHelper:function(T){return function(I,P){return new S.HMAC.init(T,P).finalize(I)}}}),S=a.algo={};return a}(Math);return e})});var bh=ae((lg,rN)=>{(function(e,t){typeof lg=="object"?rN.exports=lg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(lg,function(e){return function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:function(c,u){this.high=c,this.low=u}}),f=a.WordArray=i.extend({init:function(c,u){c=this.words=c||[],u!=t?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,d=[],g=0;g<u;g++){var p=c[g];d.push(p.high),d.push(p.low)}return o.create(d,this.sigBytes)},clone:function(){for(var c=i.clone.call(this),u=c.words=this.words.slice(0),d=u.length,g=0;g<d;g++)u[g]=u[g].clone();return c}})}(),e})});var iN=ae((fg,nN)=>{(function(e,t){typeof fg=="object"?nN.exports=fg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(fg,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,o=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,f=[],c=0;c<l;c++)f[c>>>2]|=a[c]<<24-c%4*8;i.call(this,f,l)}else i.apply(this,arguments)};o.prototype=n}}(),e.lib.WordArray})});var oN=ae((cg,sN)=>{(function(e,t){typeof cg=="object"?sN.exports=cg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(cg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Utf16=i.Utf16BE={stringify:function(l){for(var f=l.words,c=l.sigBytes,u=[],d=0;d<c;d+=2){var g=f[d>>>2]>>>16-d%4*8&65535;u.push(String.fromCharCode(g))}return u.join("")},parse:function(l){for(var f=l.length,c=[],u=0;u<f;u++)c[u>>>1]|=l.charCodeAt(u)<<16-u%2*16;return n.create(c,f*2)}};i.Utf16LE={stringify:function(l){for(var f=l.words,c=l.sigBytes,u=[],d=0;d<c;d+=2){var g=a(f[d>>>2]>>>16-d%4*8&65535);u.push(String.fromCharCode(g))}return u.join("")},parse:function(l){for(var f=l.length,c=[],u=0;u<f;u++)c[u>>>1]|=a(l.charCodeAt(u)<<16-u%2*16);return n.create(c,f*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}s(a,"swapEndian")}(),e.enc.Utf16})});var hc=ae((ug,aN)=>{(function(e,t){typeof ug=="object"?aN.exports=ug=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ug,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64={stringify:function(l){var f=l.words,c=l.sigBytes,u=this._map;l.clamp();for(var d=[],g=0;g<c;g+=3)for(var p=f[g>>>2]>>>24-g%4*8&255,y=f[g+1>>>2]>>>24-(g+1)%4*8&255,_=f[g+2>>>2]>>>24-(g+2)%4*8&255,S=p<<16|y<<8|_,T=0;T<4&&g+T*.75<c;T++)d.push(u.charAt(S>>>6*(3-T)&63));var I=u.charAt(64);if(I)for(;d.length%4;)d.push(I);return d.join("")},parse:function(l){var f=l.length,c=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<c.length;d++)u[c.charCodeAt(d)]=d}var g=c.charAt(64);if(g){var p=l.indexOf(g);p!==-1&&(f=p)}return a(l,f,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,f,c){for(var u=[],d=0,g=0;g<f;g++)if(g%4){var p=c[l.charCodeAt(g-1)]<<g%4*2,y=c[l.charCodeAt(g)]>>>6-g%4*2,_=p|y;u[d>>>2]|=_<<24-d%4*8,d++}return n.create(u,d)}s(a,"parseLoop")}(),e.enc.Base64})});var fN=ae((dg,lN)=>{(function(e,t){typeof dg=="object"?lN.exports=dg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(dg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64url={stringify:function(l,f){f===void 0&&(f=!0);var c=l.words,u=l.sigBytes,d=f?this._safe_map:this._map;l.clamp();for(var g=[],p=0;p<u;p+=3)for(var y=c[p>>>2]>>>24-p%4*8&255,_=c[p+1>>>2]>>>24-(p+1)%4*8&255,S=c[p+2>>>2]>>>24-(p+2)%4*8&255,T=y<<16|_<<8|S,I=0;I<4&&p+I*.75<u;I++)g.push(d.charAt(T>>>6*(3-I)&63));var P=d.charAt(64);if(P)for(;g.length%4;)g.push(P);return g.join("")},parse:function(l,f){f===void 0&&(f=!0);var c=l.length,u=f?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var g=0;g<u.length;g++)d[u.charCodeAt(g)]=g}var p=u.charAt(64);if(p){var y=l.indexOf(p);y!==-1&&(c=y)}return a(l,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,f,c){for(var u=[],d=0,g=0;g<f;g++)if(g%4){var p=c[l.charCodeAt(g-1)]<<g%4*2,y=c[l.charCodeAt(g)]>>>6-g%4*2,_=p|y;u[d>>>2]|=_<<24-d%4*8,d++}return n.create(u,d)}s(a,"parseLoop")}(),e.enc.Base64url})});var mc=ae((hg,cN)=>{(function(e,t){typeof hg=="object"?cN.exports=hg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(hg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var f=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,y){for(var _=0;_<16;_++){var S=y+_,T=p[S];p[S]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var I=this._hash.words,P=p[y+0],U=p[y+1],k=p[y+2],L=p[y+3],Q=p[y+4],te=p[y+5],Ce=p[y+6],De=p[y+7],pe=p[y+8],Ie=p[y+9],ie=p[y+10],Z=p[y+11],_e=p[y+12],Ae=p[y+13],be=p[y+14],ze=p[y+15],ce=I[0],ve=I[1],le=I[2],Ee=I[3];ce=c(ce,ve,le,Ee,P,7,l[0]),Ee=c(Ee,ce,ve,le,U,12,l[1]),le=c(le,Ee,ce,ve,k,17,l[2]),ve=c(ve,le,Ee,ce,L,22,l[3]),ce=c(ce,ve,le,Ee,Q,7,l[4]),Ee=c(Ee,ce,ve,le,te,12,l[5]),le=c(le,Ee,ce,ve,Ce,17,l[6]),ve=c(ve,le,Ee,ce,De,22,l[7]),ce=c(ce,ve,le,Ee,pe,7,l[8]),Ee=c(Ee,ce,ve,le,Ie,12,l[9]),le=c(le,Ee,ce,ve,ie,17,l[10]),ve=c(ve,le,Ee,ce,Z,22,l[11]),ce=c(ce,ve,le,Ee,_e,7,l[12]),Ee=c(Ee,ce,ve,le,Ae,12,l[13]),le=c(le,Ee,ce,ve,be,17,l[14]),ve=c(ve,le,Ee,ce,ze,22,l[15]),ce=u(ce,ve,le,Ee,U,5,l[16]),Ee=u(Ee,ce,ve,le,Ce,9,l[17]),le=u(le,Ee,ce,ve,Z,14,l[18]),ve=u(ve,le,Ee,ce,P,20,l[19]),ce=u(ce,ve,le,Ee,te,5,l[20]),Ee=u(Ee,ce,ve,le,ie,9,l[21]),le=u(le,Ee,ce,ve,ze,14,l[22]),ve=u(ve,le,Ee,ce,Q,20,l[23]),ce=u(ce,ve,le,Ee,Ie,5,l[24]),Ee=u(Ee,ce,ve,le,be,9,l[25]),le=u(le,Ee,ce,ve,L,14,l[26]),ve=u(ve,le,Ee,ce,pe,20,l[27]),ce=u(ce,ve,le,Ee,Ae,5,l[28]),Ee=u(Ee,ce,ve,le,k,9,l[29]),le=u(le,Ee,ce,ve,De,14,l[30]),ve=u(ve,le,Ee,ce,_e,20,l[31]),ce=d(ce,ve,le,Ee,te,4,l[32]),Ee=d(Ee,ce,ve,le,pe,11,l[33]),le=d(le,Ee,ce,ve,Z,16,l[34]),ve=d(ve,le,Ee,ce,be,23,l[35]),ce=d(ce,ve,le,Ee,U,4,l[36]),Ee=d(Ee,ce,ve,le,Q,11,l[37]),le=d(le,Ee,ce,ve,De,16,l[38]),ve=d(ve,le,Ee,ce,ie,23,l[39]),ce=d(ce,ve,le,Ee,Ae,4,l[40]),Ee=d(Ee,ce,ve,le,P,11,l[41]),le=d(le,Ee,ce,ve,L,16,l[42]),ve=d(ve,le,Ee,ce,Ce,23,l[43]),ce=d(ce,ve,le,Ee,Ie,4,l[44]),Ee=d(Ee,ce,ve,le,_e,11,l[45]),le=d(le,Ee,ce,ve,ze,16,l[46]),ve=d(ve,le,Ee,ce,k,23,l[47]),ce=g(ce,ve,le,Ee,P,6,l[48]),Ee=g(Ee,ce,ve,le,De,10,l[49]),le=g(le,Ee,ce,ve,be,15,l[50]),ve=g(ve,le,Ee,ce,te,21,l[51]),ce=g(ce,ve,le,Ee,_e,6,l[52]),Ee=g(Ee,ce,ve,le,L,10,l[53]),le=g(le,Ee,ce,ve,ie,15,l[54]),ve=g(ve,le,Ee,ce,U,21,l[55]),ce=g(ce,ve,le,Ee,pe,6,l[56]),Ee=g(Ee,ce,ve,le,ze,10,l[57]),le=g(le,Ee,ce,ve,Ce,15,l[58]),ve=g(ve,le,Ee,ce,Ae,21,l[59]),ce=g(ce,ve,le,Ee,Q,6,l[60]),Ee=g(Ee,ce,ve,le,Z,10,l[61]),le=g(le,Ee,ce,ve,k,15,l[62]),ve=g(ve,le,Ee,ce,Ie,21,l[63]),I[0]=I[0]+ce|0,I[1]=I[1]+ve|0,I[2]=I[2]+le|0,I[3]=I[3]+Ee|0},_doFinalize:function(){var p=this._data,y=p.words,_=this._nDataBytes*8,S=p.sigBytes*8;y[S>>>5]|=128<<24-S%32;var T=t.floor(_/4294967296),I=_;y[(S+64>>>9<<4)+15]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,y[(S+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,p.sigBytes=(y.length+1)*4,this._process();for(var P=this._hash,U=P.words,k=0;k<4;k++){var L=U[k];U[k]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return P},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});function c(p,y,_,S,T,I,P){var U=p+(y&_|~y&S)+T+P;return(U<<I|U>>>32-I)+y}s(c,"FF");function u(p,y,_,S,T,I,P){var U=p+(y&S|_&~S)+T+P;return(U<<I|U>>>32-I)+y}s(u,"GG");function d(p,y,_,S,T,I,P){var U=p+(y^_^S)+T+P;return(U<<I|U>>>32-I)+y}s(d,"HH");function g(p,y,_,S,T,I,P){var U=p+(_^(y|~S))+T+P;return(U<<I|U>>>32-I)+y}s(g,"II"),r.MD5=o._createHelper(f),r.HmacMD5=o._createHmacHelper(f)}(Math),e.MD5})});var E_=ae((mg,uN)=>{(function(e,t){typeof mg=="object"?uN.exports=mg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(mg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,a=[],l=o.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,c){for(var u=this._hash.words,d=u[0],g=u[1],p=u[2],y=u[3],_=u[4],S=0;S<80;S++){if(S<16)a[S]=f[c+S]|0;else{var T=a[S-3]^a[S-8]^a[S-14]^a[S-16];a[S]=T<<1|T>>>31}var I=(d<<5|d>>>27)+_+a[S];S<20?I+=(g&p|~g&y)+1518500249:S<40?I+=(g^p^y)+1859775393:S<60?I+=(g&p|g&y|p&y)-1894007588:I+=(g^p^y)-899497514,_=y,y=p,p=g<<30|g>>>2,g=d,d=I}u[0]=u[0]+d|0,u[1]=u[1]+g|0,u[2]=u[2]+p|0,u[3]=u[3]+y|0,u[4]=u[4]+_|0},_doFinalize:function(){var f=this._data,c=f.words,u=this._nDataBytes*8,d=f.sigBytes*8;return c[d>>>5]|=128<<24-d%32,c[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),c[(d+64>>>9<<4)+15]=u,f.sigBytes=c.length*4,this._process(),this._hash},clone:function(){var f=i.clone.call(this);return f._hash=this._hash.clone(),f}});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var pg=ae((gg,dN)=>{(function(e,t){typeof gg=="object"?dN.exports=gg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[],f=[];(function(){function d(_){for(var S=t.sqrt(_),T=2;T<=S;T++)if(!(_%T))return!1;return!0}s(d,"isPrime");function g(_){return(_-(_|0))*4294967296|0}s(g,"getFractionalBits");for(var p=2,y=0;y<64;)d(p)&&(y<8&&(l[y]=g(t.pow(p,1/2))),f[y]=g(t.pow(p,1/3)),y++),p++})();var c=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(l.slice(0))},_doProcessBlock:function(d,g){for(var p=this._hash.words,y=p[0],_=p[1],S=p[2],T=p[3],I=p[4],P=p[5],U=p[6],k=p[7],L=0;L<64;L++){if(L<16)c[L]=d[g+L]|0;else{var Q=c[L-15],te=(Q<<25|Q>>>7)^(Q<<14|Q>>>18)^Q>>>3,Ce=c[L-2],De=(Ce<<15|Ce>>>17)^(Ce<<13|Ce>>>19)^Ce>>>10;c[L]=te+c[L-7]+De+c[L-16]}var pe=I&P^~I&U,Ie=y&_^y&S^_&S,ie=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),Z=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),_e=k+Z+pe+f[L]+c[L],Ae=ie+Ie;k=U,U=P,P=I,I=T+_e|0,T=S,S=_,_=y,y=_e+Ae|0}p[0]=p[0]+y|0,p[1]=p[1]+_|0,p[2]=p[2]+S|0,p[3]=p[3]+T|0,p[4]=p[4]+I|0,p[5]=p[5]+P|0,p[6]=p[6]+U|0,p[7]=p[7]+k|0},_doFinalize:function(){var d=this._data,g=d.words,p=this._nDataBytes*8,y=d.sigBytes*8;return g[y>>>5]|=128<<24-y%32,g[(y+64>>>9<<4)+14]=t.floor(p/4294967296),g[(y+64>>>9<<4)+15]=p,d.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA256=o._createHelper(u),r.HmacSHA256=o._createHmacHelper(u)}(Math),e.SHA256})});var mN=ae((yg,hN)=>{(function(e,t,r){typeof yg=="object"?hN.exports=yg=t(B0(),pg()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(yg,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,o=i.SHA256,a=i.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l}});t.SHA224=o._createHelper(a),t.HmacSHA224=o._createHmacHelper(a)}(),e.SHA224})});var S_=ae((vg,gN)=>{(function(e,t,r){typeof vg=="object"?gN.exports=vg=t(B0(),bh()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(vg,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,o=i.Word,a=i.WordArray,l=t.algo;function f(){return o.create.apply(o,arguments)}s(f,"X64Word_create");var c=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],u=[];(function(){for(var g=0;g<80;g++)u[g]=f()})();var d=l.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(g,p){for(var y=this._hash.words,_=y[0],S=y[1],T=y[2],I=y[3],P=y[4],U=y[5],k=y[6],L=y[7],Q=_.high,te=_.low,Ce=S.high,De=S.low,pe=T.high,Ie=T.low,ie=I.high,Z=I.low,_e=P.high,Ae=P.low,be=U.high,ze=U.low,ce=k.high,ve=k.low,le=L.high,Ee=L.low,mt=Q,Et=te,dt=Ce,Ve=De,n0=pe,W=Ie,Xe=ie,he=Z,Je=_e,He=Ae,nt=be,wt=ze,Mt=ce,Lt=ve,H=le,$t=Ee,vt=0;vt<80;vt++){var sr,J0,pr=u[vt];if(vt<16)J0=pr.high=g[p+vt*2]|0,sr=pr.low=g[p+vt*2+1]|0;else{var X0=u[vt-15],Gr=X0.high,hn=X0.low,Fn=(Gr>>>1|hn<<31)^(Gr>>>8|hn<<24)^Gr>>>7,mn=(hn>>>1|Gr<<31)^(hn>>>8|Gr<<24)^(hn>>>7|Gr<<25),Jt=u[vt-2],Y=Jt.high,N=Jt.low,B=(Y>>>19|N<<13)^(Y<<3|N>>>29)^Y>>>6,Ye=(N>>>19|Y<<13)^(N<<3|Y>>>29)^(N>>>6|Y<<26),Vt=u[vt-7],E0=Vt.high,w0=Vt.low,Wt=u[vt-16],W0=Wt.high,u0=Wt.low;sr=mn+w0,J0=Fn+E0+(sr>>>0<mn>>>0?1:0),sr=sr+Ye,J0=J0+B+(sr>>>0<Ye>>>0?1:0),sr=sr+u0,J0=J0+W0+(sr>>>0<u0>>>0?1:0),pr.high=J0,pr.low=sr}var er=Je&nt^~Je&Mt,S0=He&wt^~He&Lt,Q0=mt&dt^mt&n0^dt&n0,kt=Et&Ve^Et&W^Ve&W,hs=(mt>>>28|Et<<4)^(mt<<30|Et>>>2)^(mt<<25|Et>>>7),tl=(Et>>>28|mt<<4)^(Et<<30|mt>>>2)^(Et<<25|mt>>>7),Mn=(Je>>>14|He<<18)^(Je>>>18|He<<14)^(Je<<23|He>>>9),Ms=(He>>>14|Je<<18)^(He>>>18|Je<<14)^(He<<23|Je>>>9),ji=c[vt],Co=ji.high,ye=ji.low,M=$t+Ms,se=H+Mn+(M>>>0<$t>>>0?1:0),M=M+S0,se=se+er+(M>>>0<S0>>>0?1:0),M=M+ye,se=se+Co+(M>>>0<ye>>>0?1:0),M=M+sr,se=se+J0+(M>>>0<sr>>>0?1:0),fe=tl+kt,K=hs+Q0+(fe>>>0<tl>>>0?1:0);H=Mt,$t=Lt,Mt=nt,Lt=wt,nt=Je,wt=He,He=he+M|0,Je=Xe+se+(He>>>0<he>>>0?1:0)|0,Xe=n0,he=W,n0=dt,W=Ve,dt=mt,Ve=Et,Et=M+fe|0,mt=se+K+(Et>>>0<M>>>0?1:0)|0}te=_.low=te+Et,_.high=Q+mt+(te>>>0<Et>>>0?1:0),De=S.low=De+Ve,S.high=Ce+dt+(De>>>0<Ve>>>0?1:0),Ie=T.low=Ie+W,T.high=pe+n0+(Ie>>>0<W>>>0?1:0),Z=I.low=Z+he,I.high=ie+Xe+(Z>>>0<he>>>0?1:0),Ae=P.low=Ae+He,P.high=_e+Je+(Ae>>>0<He>>>0?1:0),ze=U.low=ze+wt,U.high=be+nt+(ze>>>0<wt>>>0?1:0),ve=k.low=ve+Lt,k.high=ce+Mt+(ve>>>0<Lt>>>0?1:0),Ee=L.low=Ee+$t,L.high=le+H+(Ee>>>0<$t>>>0?1:0)},_doFinalize:function(){var g=this._data,p=g.words,y=this._nDataBytes*8,_=g.sigBytes*8;p[_>>>5]|=128<<24-_%32,p[(_+128>>>10<<5)+30]=Math.floor(y/4294967296),p[(_+128>>>10<<5)+31]=y,g.sigBytes=p.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var g=n.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512})});var yN=ae((xg,pN)=>{(function(e,t,r){typeof xg=="object"?pN.exports=xg=t(B0(),bh(),S_()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(xg,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,o=t.algo,a=o.SHA512,l=o.SHA384=a.extend({_doReset:function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var f=a._doFinalize.call(this);return f.sigBytes-=16,f}});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var xN=ae((_g,vN)=>{(function(e,t,r){typeof _g=="object"?vN.exports=_g=t(B0(),bh()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(_g,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.x64,l=a.Word,f=r.algo,c=[],u=[],d=[];(function(){for(var y=1,_=0,S=0;S<24;S++){c[y+5*_]=(S+1)*(S+2)/2%64;var T=_%5,I=(2*y+3*_)%5;y=T,_=I}for(var y=0;y<5;y++)for(var _=0;_<5;_++)u[y+5*_]=_+(2*y+3*_)%5*5;for(var P=1,U=0;U<24;U++){for(var k=0,L=0,Q=0;Q<7;Q++){if(P&1){var te=(1<<Q)-1;te<32?L^=1<<te:k^=1<<te-32}P&128?P=P<<1^113:P<<=1}d[U]=l.create(k,L)}})();var g=[];(function(){for(var y=0;y<25;y++)g[y]=l.create()})();var p=f.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],_=0;_<25;_++)y[_]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,_){for(var S=this._state,T=this.blockSize/2,I=0;I<T;I++){var P=y[_+2*I],U=y[_+2*I+1];P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360;var k=S[I];k.high^=U,k.low^=P}for(var L=0;L<24;L++){for(var Q=0;Q<5;Q++){for(var te=0,Ce=0,De=0;De<5;De++){var k=S[Q+5*De];te^=k.high,Ce^=k.low}var pe=g[Q];pe.high=te,pe.low=Ce}for(var Q=0;Q<5;Q++)for(var Ie=g[(Q+4)%5],ie=g[(Q+1)%5],Z=ie.high,_e=ie.low,te=Ie.high^(Z<<1|_e>>>31),Ce=Ie.low^(_e<<1|Z>>>31),De=0;De<5;De++){var k=S[Q+5*De];k.high^=te,k.low^=Ce}for(var Ae=1;Ae<25;Ae++){var te,Ce,k=S[Ae],be=k.high,ze=k.low,ce=c[Ae];ce<32?(te=be<<ce|ze>>>32-ce,Ce=ze<<ce|be>>>32-ce):(te=ze<<ce-32|be>>>64-ce,Ce=be<<ce-32|ze>>>64-ce);var ve=g[u[Ae]];ve.high=te,ve.low=Ce}var le=g[0],Ee=S[0];le.high=Ee.high,le.low=Ee.low;for(var Q=0;Q<5;Q++)for(var De=0;De<5;De++){var Ae=Q+5*De,k=S[Ae],mt=g[Ae],Et=g[(Q+1)%5+5*De],dt=g[(Q+2)%5+5*De];k.high=mt.high^~Et.high&dt.high,k.low=mt.low^~Et.low&dt.low}var k=S[0],Ve=d[L];k.high^=Ve.high,k.low^=Ve.low}},_doFinalize:function(){var y=this._data,_=y.words,S=this._nDataBytes*8,T=y.sigBytes*8,I=this.blockSize*32;_[T>>>5]|=1<<24-T%32,_[(t.ceil((T+1)/I)*I>>>5)-1]|=128,y.sigBytes=_.length*4,this._process();for(var P=this._state,U=this.cfg.outputLength/8,k=U/8,L=[],Q=0;Q<k;Q++){var te=P[Q],Ce=te.high,De=te.low;Ce=(Ce<<8|Ce>>>24)&16711935|(Ce<<24|Ce>>>8)&4278255360,De=(De<<8|De>>>24)&16711935|(De<<24|De>>>8)&4278255360,L.push(De),L.push(Ce)}return new i.init(L,U)},clone:function(){for(var y=o.clone.call(this),_=y._state=this._state.slice(0),S=0;S<25;S++)_[S]=_[S].clone();return y}});r.SHA3=o._createHelper(p),r.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3})});var bN=ae((bg,_N)=>{(function(e,t){typeof bg=="object"?_N.exports=bg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(bg,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),g=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(U,k){for(var L=0;L<16;L++){var Q=k+L,te=U[Q];U[Q]=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360}var Ce=this._hash.words,De=d.words,pe=g.words,Ie=l.words,ie=f.words,Z=c.words,_e=u.words,Ae,be,ze,ce,ve,le,Ee,mt,Et,dt;le=Ae=Ce[0],Ee=be=Ce[1],mt=ze=Ce[2],Et=ce=Ce[3],dt=ve=Ce[4];for(var Ve,L=0;L<80;L+=1)Ve=Ae+U[k+Ie[L]]|0,L<16?Ve+=y(be,ze,ce)+De[0]:L<32?Ve+=_(be,ze,ce)+De[1]:L<48?Ve+=S(be,ze,ce)+De[2]:L<64?Ve+=T(be,ze,ce)+De[3]:Ve+=I(be,ze,ce)+De[4],Ve=Ve|0,Ve=P(Ve,Z[L]),Ve=Ve+ve|0,Ae=ve,ve=ce,ce=P(ze,10),ze=be,be=Ve,Ve=le+U[k+ie[L]]|0,L<16?Ve+=I(Ee,mt,Et)+pe[0]:L<32?Ve+=T(Ee,mt,Et)+pe[1]:L<48?Ve+=S(Ee,mt,Et)+pe[2]:L<64?Ve+=_(Ee,mt,Et)+pe[3]:Ve+=y(Ee,mt,Et)+pe[4],Ve=Ve|0,Ve=P(Ve,_e[L]),Ve=Ve+dt|0,le=dt,dt=Et,Et=P(mt,10),mt=Ee,Ee=Ve;Ve=Ce[1]+ze+Et|0,Ce[1]=Ce[2]+ce+dt|0,Ce[2]=Ce[3]+ve+le|0,Ce[3]=Ce[4]+Ae+Ee|0,Ce[4]=Ce[0]+be+mt|0,Ce[0]=Ve},_doFinalize:function(){var U=this._data,k=U.words,L=this._nDataBytes*8,Q=U.sigBytes*8;k[Q>>>5]|=128<<24-Q%32,k[(Q+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,U.sigBytes=(k.length+1)*4,this._process();for(var te=this._hash,Ce=te.words,De=0;De<5;De++){var pe=Ce[De];Ce[De]=(pe<<8|pe>>>24)&16711935|(pe<<24|pe>>>8)&4278255360}return te},clone:function(){var U=o.clone.call(this);return U._hash=this._hash.clone(),U}});function y(U,k,L){return U^k^L}s(y,"f1");function _(U,k,L){return U&k|~U&L}s(_,"f2");function S(U,k,L){return(U|~k)^L}s(S,"f3");function T(U,k,L){return U&L|k&~L}s(T,"f4");function I(U,k,L){return U^(k|~L)}s(I,"f5");function P(U,k){return U<<k|U>>>32-k}s(P,"rotl"),r.RIPEMD160=o._createHelper(p),r.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160})});var Tg=ae((Cg,CN)=>{(function(e,t){typeof Cg=="object"?CN.exports=Cg=t(B0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Cg,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,o=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:function(f,c){f=this._hasher=new f.init,typeof c=="string"&&(c=o.parse(c));var u=f.blockSize,d=u*4;c.sigBytes>d&&(c=f.finalize(c)),c.clamp();for(var g=this._oKey=c.clone(),p=this._iKey=c.clone(),y=g.words,_=p.words,S=0;S<u;S++)y[S]^=1549556828,_[S]^=909522486;g.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var c=this._hasher,u=c.finalize(f);c.reset();var d=c.finalize(this._oKey.clone().concat(u));return d}})})()})});var EN=ae((Eg,TN)=>{(function(e,t,r){typeof Eg=="object"?TN.exports=Eg=t(B0(),pg(),Tg()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(Eg,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.SHA256,l=o.HMAC,f=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d=this.cfg,g=l.create(d.hasher,c),p=i.create(),y=i.create([1]),_=p.words,S=y.words,T=d.keySize,I=d.iterations;_.length<T;){var P=g.update(u).finalize(y);g.reset();for(var U=P.words,k=U.length,L=P,Q=1;Q<I;Q++){L=g.finalize(L),g.reset();for(var te=L.words,Ce=0;Ce<k;Ce++)U[Ce]^=te[Ce]}p.concat(P),S[0]++}return p.sigBytes=T*4,p}});t.PBKDF2=function(c,u,d){return f.create(d).compute(c,u)}}(),e.PBKDF2})});var Ml=ae((Sg,SN)=>{(function(e,t,r){typeof Sg=="object"?SN.exports=Sg=t(B0(),E_(),Tg()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Sg,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.MD5,l=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,c){for(var u,d=this.cfg,g=d.hasher.create(),p=i.create(),y=p.words,_=d.keySize,S=d.iterations;y.length<_;){u&&g.update(u),u=g.update(f).finalize(c),g.reset();for(var T=1;T<S;T++)u=g.finalize(u),g.reset();p.concat(u)}return p.sigBytes=_*4,p}});t.EvpKDF=function(f,c,u){return l.create(u).compute(f,c)}}(),e.EvpKDF})});var yn=ae((wg,wN)=>{(function(e,t,r){typeof wg=="object"?wN.exports=wg=t(B0(),Ml()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(wg,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,f=l.Utf8,c=l.Base64,u=r.algo,d=u.EvpKDF,g=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(pe,Ie){return this.create(this._ENC_XFORM_MODE,pe,Ie)},createDecryptor:function(pe,Ie){return this.create(this._DEC_XFORM_MODE,pe,Ie)},init:function(pe,Ie,ie){this.cfg=this.cfg.extend(ie),this._xformMode=pe,this._key=Ie,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(pe){return this._append(pe),this._process()},finalize:function(pe){pe&&this._append(pe);var Ie=this._doFinalize();return Ie},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function pe(Ie){return typeof Ie=="string"?De:Q}return s(pe,"selectCipherStrategy"),function(Ie){return{encrypt:function(ie,Z,_e){return pe(Z).encrypt(Ie,ie,Z,_e)},decrypt:function(ie,Z,_e){return pe(Z).decrypt(Ie,ie,Z,_e)}}}}()}),p=n.StreamCipher=g.extend({_doFinalize:function(){var pe=this._process(!0);return pe},blockSize:1}),y=r.mode={},_=n.BlockCipherMode=i.extend({createEncryptor:function(pe,Ie){return this.Encryptor.create(pe,Ie)},createDecryptor:function(pe,Ie){return this.Decryptor.create(pe,Ie)},init:function(pe,Ie){this._cipher=pe,this._iv=Ie}}),S=y.CBC=function(){var pe=_.extend();pe.Encryptor=pe.extend({processBlock:function(ie,Z){var _e=this._cipher,Ae=_e.blockSize;Ie.call(this,ie,Z,Ae),_e.encryptBlock(ie,Z),this._prevBlock=ie.slice(Z,Z+Ae)}}),pe.Decryptor=pe.extend({processBlock:function(ie,Z){var _e=this._cipher,Ae=_e.blockSize,be=ie.slice(Z,Z+Ae);_e.decryptBlock(ie,Z),Ie.call(this,ie,Z,Ae),this._prevBlock=be}});function Ie(ie,Z,_e){var Ae,be=this._iv;be?(Ae=be,this._iv=t):Ae=this._prevBlock;for(var ze=0;ze<_e;ze++)ie[Z+ze]^=Ae[ze]}return s(Ie,"xorBlock"),pe}(),T=r.pad={},I=T.Pkcs7={pad:function(pe,Ie){for(var ie=Ie*4,Z=ie-pe.sigBytes%ie,_e=Z<<24|Z<<16|Z<<8|Z,Ae=[],be=0;be<Z;be+=4)Ae.push(_e);var ze=o.create(Ae,Z);pe.concat(ze)},unpad:function(pe){var Ie=pe.words[pe.sigBytes-1>>>2]&255;pe.sigBytes-=Ie}},P=n.BlockCipher=g.extend({cfg:g.cfg.extend({mode:S,padding:I}),reset:function(){var pe;g.reset.call(this);var Ie=this.cfg,ie=Ie.iv,Z=Ie.mode;this._xformMode==this._ENC_XFORM_MODE?pe=Z.createEncryptor:(pe=Z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==pe?this._mode.init(this,ie&&ie.words):(this._mode=pe.call(Z,this,ie&&ie.words),this._mode.__creator=pe)},_doProcessBlock:function(pe,Ie){this._mode.processBlock(pe,Ie)},_doFinalize:function(){var pe,Ie=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Ie.pad(this._data,this.blockSize),pe=this._process(!0)):(pe=this._process(!0),Ie.unpad(pe)),pe},blockSize:128/32}),U=n.CipherParams=i.extend({init:function(pe){this.mixIn(pe)},toString:function(pe){return(pe||this.formatter).stringify(this)}}),k=r.format={},L=k.OpenSSL={stringify:function(pe){var Ie,ie=pe.ciphertext,Z=pe.salt;return Z?Ie=o.create([1398893684,1701076831]).concat(Z).concat(ie):Ie=ie,Ie.toString(c)},parse:function(pe){var Ie,ie=c.parse(pe),Z=ie.words;return Z[0]==1398893684&&Z[1]==1701076831&&(Ie=o.create(Z.slice(2,4)),Z.splice(0,4),ie.sigBytes-=16),U.create({ciphertext:ie,salt:Ie})}},Q=n.SerializableCipher=i.extend({cfg:i.extend({format:L}),encrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z);var _e=pe.createEncryptor(ie,Z),Ae=_e.finalize(Ie),be=_e.cfg;return U.create({ciphertext:Ae,key:ie,iv:be.iv,algorithm:pe,mode:be.mode,padding:be.padding,blockSize:pe.blockSize,formatter:Z.format})},decrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z),Ie=this._parse(Ie,Z.format);var _e=pe.createDecryptor(ie,Z).finalize(Ie.ciphertext);return _e},_parse:function(pe,Ie){return typeof pe=="string"?Ie.parse(pe,this):pe}}),te=r.kdf={},Ce=te.OpenSSL={execute:function(pe,Ie,ie,Z,_e){if(Z||(Z=o.random(64/8)),_e)var Ae=d.create({keySize:Ie+ie,hasher:_e}).compute(pe,Z);else var Ae=d.create({keySize:Ie+ie}).compute(pe,Z);var be=o.create(Ae.words.slice(Ie),ie*4);return Ae.sigBytes=Ie*4,U.create({key:Ae,iv:be,salt:Z})}},De=n.PasswordBasedCipher=Q.extend({cfg:Q.cfg.extend({kdf:Ce}),encrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z);var _e=Z.kdf.execute(ie,pe.keySize,pe.ivSize,Z.salt,Z.hasher);Z.iv=_e.iv;var Ae=Q.encrypt.call(this,pe,Ie,_e.key,Z);return Ae.mixIn(_e),Ae},decrypt:function(pe,Ie,ie,Z){Z=this.cfg.extend(Z),Ie=this._parse(Ie,Z.format);var _e=Z.kdf.execute(ie,pe.keySize,pe.ivSize,Ie.salt,Z.hasher);Z.iv=_e.iv;var Ae=Q.decrypt.call(this,pe,Ie,_e.key,Z);return Ae}})}()})});var AN=ae((Ig,IN)=>{(function(e,t,r){typeof Ig=="object"?IN.exports=Ig=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ig,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize;r.call(this,n,i,a,o),this._prevBlock=n.slice(i,i+a)}}),t.Decryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,o),this._prevBlock=l}});function r(n,i,o,a){var l,f=this._iv;f?(l=f.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var c=0;c<o;c++)n[i+c]^=l[c]}return s(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var RN=ae((Ag,PN)=>{(function(e,t,r){typeof Ag=="object"?PN.exports=Ag=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ag,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,f=this._counter;l&&(f=this._counter=l.slice(0),this._iv=void 0);var c=f.slice(0);o.encryptBlock(c,0),f[a-1]=f[a-1]+1|0;for(var u=0;u<a;u++)n[i+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.CTR})});var NN=ae((Pg,kN)=>{(function(e,t,r){typeof Pg=="object"?kN.exports=Pg=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Pg,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(o){if((o>>24&255)===255){var a=o>>16&255,l=o>>8&255,f=o&255;a===255?(a=0,l===255?(l=0,f===255?f=0:++f):++l):++a,o=0,o+=a<<16,o+=l<<8,o+=f}else o+=1<<24;return o}s(r,"incWord");function n(o){return(o[0]=r(o[0]))===0&&(o[1]=r(o[1])),o}s(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:function(o,a){var l=this._cipher,f=l.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0),n(u);var d=u.slice(0);l.encryptBlock(d,0);for(var g=0;g<f;g++)o[a+g]^=d[g]}});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var LN=ae((Rg,DN)=>{(function(e,t,r){typeof Rg=="object"?DN.exports=Rg=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Rg,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,f=this._keystream;l&&(f=this._keystream=l.slice(0),this._iv=void 0),o.encryptBlock(f,0);for(var c=0;c<a;c++)n[i+c]^=f[c]}});return t.Decryptor=r,t}(),e.mode.OFB})});var ON=ae((kg,BN)=>{(function(e,t,r){typeof kg=="object"?BN.exports=kg=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(kg,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var MN=ae((Ng,FN)=>{(function(e,t,r){typeof Ng=="object"?FN.exports=Ng=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ng,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,i=r*4,o=i-n%i,a=n+o-1;t.clamp(),t.words[a>>>2]|=o<<24-a%4*8,t.sigBytes+=o},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var qN=ae((Dg,UN)=>{(function(e,t,r){typeof Dg=="object"?UN.exports=Dg=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Dg,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var $N=ae((Lg,jN)=>{(function(e,t,r){typeof Lg=="object"?jN.exports=Lg=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Lg,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var VN=ae((Bg,HN)=>{(function(e,t,r){typeof Bg=="object"?HN.exports=Bg=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Bg,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var KN=ae((Og,zN)=>{(function(e,t,r){typeof Og=="object"?zN.exports=Og=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Og,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var GN=ae((Fg,WN)=>{(function(e,t,r){typeof Fg=="object"?WN.exports=Fg=t(B0(),yn()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Fg,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,o=r.enc,a=o.Hex,l=r.format,f=l.Hex={stringify:function(c){return c.ciphertext.toString(a)},parse:function(c){var u=a.parse(c);return i.create({ciphertext:u})}}}(),e.format.Hex})});var JN=ae((Mg,YN)=>{(function(e,t,r){typeof Mg=="object"?YN.exports=Mg=t(B0(),hc(),mc(),Ml(),yn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Mg,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,o=[],a=[],l=[],f=[],c=[],u=[],d=[],g=[],p=[],y=[];(function(){for(var T=[],I=0;I<256;I++)I<128?T[I]=I<<1:T[I]=I<<1^283;for(var P=0,U=0,I=0;I<256;I++){var k=U^U<<1^U<<2^U<<3^U<<4;k=k>>>8^k&255^99,o[P]=k,a[k]=P;var L=T[P],Q=T[L],te=T[Q],Ce=T[k]*257^k*16843008;l[P]=Ce<<24|Ce>>>8,f[P]=Ce<<16|Ce>>>16,c[P]=Ce<<8|Ce>>>24,u[P]=Ce;var Ce=te*16843009^Q*65537^L*257^P*16843008;d[k]=Ce<<24|Ce>>>8,g[k]=Ce<<16|Ce>>>16,p[k]=Ce<<8|Ce>>>24,y[k]=Ce,P?(P=L^T[T[T[te^L]]],U^=T[T[U]]):P=U=1}})();var _=[0,1,2,4,8,16,32,64,128,27,54],S=i.AES=n.extend({_doReset:function(){var T;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,P=I.words,U=I.sigBytes/4,k=this._nRounds=U+6,L=(k+1)*4,Q=this._keySchedule=[],te=0;te<L;te++)te<U?Q[te]=P[te]:(T=Q[te-1],te%U?U>6&&te%U==4&&(T=o[T>>>24]<<24|o[T>>>16&255]<<16|o[T>>>8&255]<<8|o[T&255]):(T=T<<8|T>>>24,T=o[T>>>24]<<24|o[T>>>16&255]<<16|o[T>>>8&255]<<8|o[T&255],T^=_[te/U|0]<<24),Q[te]=Q[te-U]^T);for(var Ce=this._invKeySchedule=[],De=0;De<L;De++){var te=L-De;if(De%4)var T=Q[te];else var T=Q[te-4];De<4||te<=4?Ce[De]=T:Ce[De]=d[o[T>>>24]]^g[o[T>>>16&255]]^p[o[T>>>8&255]]^y[o[T&255]]}}},encryptBlock:function(T,I){this._doCryptBlock(T,I,this._keySchedule,l,f,c,u,o)},decryptBlock:function(T,I){var P=T[I+1];T[I+1]=T[I+3],T[I+3]=P,this._doCryptBlock(T,I,this._invKeySchedule,d,g,p,y,a);var P=T[I+1];T[I+1]=T[I+3],T[I+3]=P},_doCryptBlock:function(T,I,P,U,k,L,Q,te){for(var Ce=this._nRounds,De=T[I]^P[0],pe=T[I+1]^P[1],Ie=T[I+2]^P[2],ie=T[I+3]^P[3],Z=4,_e=1;_e<Ce;_e++){var Ae=U[De>>>24]^k[pe>>>16&255]^L[Ie>>>8&255]^Q[ie&255]^P[Z++],be=U[pe>>>24]^k[Ie>>>16&255]^L[ie>>>8&255]^Q[De&255]^P[Z++],ze=U[Ie>>>24]^k[ie>>>16&255]^L[De>>>8&255]^Q[pe&255]^P[Z++],ce=U[ie>>>24]^k[De>>>16&255]^L[pe>>>8&255]^Q[Ie&255]^P[Z++];De=Ae,pe=be,Ie=ze,ie=ce}var Ae=(te[De>>>24]<<24|te[pe>>>16&255]<<16|te[Ie>>>8&255]<<8|te[ie&255])^P[Z++],be=(te[pe>>>24]<<24|te[Ie>>>16&255]<<16|te[ie>>>8&255]<<8|te[De&255])^P[Z++],ze=(te[Ie>>>24]<<24|te[ie>>>16&255]<<16|te[De>>>8&255]<<8|te[pe&255])^P[Z++],ce=(te[ie>>>24]<<24|te[De>>>16&255]<<16|te[pe>>>8&255]<<8|te[Ie&255])^P[Z++];T[I]=Ae,T[I+1]=be,T[I+2]=ze,T[I+3]=ce},keySize:256/32});t.AES=n._createHelper(S)}(),e.AES})});var QN=ae((Ug,XN)=>{(function(e,t,r){typeof Ug=="object"?XN.exports=Ug=t(B0(),hc(),mc(),Ml(),yn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Ug,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var _=this._key,S=_.words,T=[],I=0;I<56;I++){var P=a[I]-1;T[I]=S[P>>>5]>>>31-P%32&1}for(var U=this._subKeys=[],k=0;k<16;k++){for(var L=U[k]=[],Q=f[k],I=0;I<24;I++)L[I/6|0]|=T[(l[I]-1+Q)%28]<<31-I%6,L[4+(I/6|0)]|=T[28+(l[I+24]-1+Q)%28]<<31-I%6;L[0]=L[0]<<1|L[0]>>>31;for(var I=1;I<7;I++)L[I]=L[I]>>>(I-1)*4+3;L[7]=L[7]<<5|L[7]>>>27}for(var te=this._invSubKeys=[],I=0;I<16;I++)te[I]=U[15-I]},encryptBlock:function(_,S){this._doCryptBlock(_,S,this._subKeys)},decryptBlock:function(_,S){this._doCryptBlock(_,S,this._invSubKeys)},_doCryptBlock:function(_,S,T){this._lBlock=_[S],this._rBlock=_[S+1],g.call(this,4,252645135),g.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),g.call(this,1,1431655765);for(var I=0;I<16;I++){for(var P=T[I],U=this._lBlock,k=this._rBlock,L=0,Q=0;Q<8;Q++)L|=c[Q][((k^P[Q])&u[Q])>>>0];this._lBlock=k,this._rBlock=U^L}var te=this._lBlock;this._lBlock=this._rBlock,this._rBlock=te,g.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),_[S]=this._lBlock,_[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(_,S){var T=(this._lBlock>>>_^this._rBlock)&S;this._rBlock^=T,this._lBlock^=T<<_}s(g,"exchangeLR");function p(_,S){var T=(this._rBlock>>>_^this._lBlock)&S;this._lBlock^=T,this._rBlock^=T<<_}s(p,"exchangeRL"),t.DES=i._createHelper(d);var y=o.TripleDES=i.extend({_doReset:function(){var _=this._key,S=_.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var T=S.slice(0,2),I=S.length<4?S.slice(0,2):S.slice(2,4),P=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=d.createEncryptor(n.create(T)),this._des2=d.createEncryptor(n.create(I)),this._des3=d.createEncryptor(n.create(P))},encryptBlock:function(_,S){this._des1.encryptBlock(_,S),this._des2.decryptBlock(_,S),this._des3.encryptBlock(_,S)},decryptBlock:function(_,S){this._des3.decryptBlock(_,S),this._des2.encryptBlock(_,S),this._des1.decryptBlock(_,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(y)}(),e.TripleDES})});var eD=ae((qg,ZN)=>{(function(e,t,r){typeof qg=="object"?ZN.exports=qg=t(B0(),hc(),mc(),Ml(),yn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(qg,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=i.RC4=n.extend({_doReset:function(){for(var f=this._key,c=f.words,u=f.sigBytes,d=this._S=[],g=0;g<256;g++)d[g]=g;for(var g=0,p=0;g<256;g++){var y=g%u,_=c[y>>>2]>>>24-y%4*8&255;p=(p+d[g]+_)%256;var S=d[g];d[g]=d[p],d[p]=S}this._i=this._j=0},_doProcessBlock:function(f,c){f[c]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var f=this._S,c=this._i,u=this._j,d=0,g=0;g<4;g++){c=(c+1)%256,u=(u+f[c])%256;var p=f[c];f[c]=f[u],f[u]=p,d|=f[(f[c]+f[u])%256]<<24-g*8}return this._i=c,this._j=u,d}s(a,"generateKeystreamWord"),t.RC4=n._createHelper(o);var l=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)a.call(this)}});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var rD=ae((jg,tD)=>{(function(e,t,r){typeof jg=="object"?tD.exports=jg=t(B0(),hc(),mc(),Ml(),yn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(jg,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],f=i.Rabbit=n.extend({_doReset:function(){for(var u=this._key.words,d=this.cfg.iv,g=0;g<4;g++)u[g]=(u[g]<<8|u[g]>>>24)&16711935|(u[g]<<24|u[g]>>>8)&4278255360;var p=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],y=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var g=0;g<4;g++)c.call(this);for(var g=0;g<8;g++)y[g]^=p[g+4&7];if(d){var _=d.words,S=_[0],T=_[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,P=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,U=I>>>16|P&4294901760,k=P<<16|I&65535;y[0]^=I,y[1]^=U,y[2]^=P,y[3]^=k,y[4]^=I,y[5]^=U,y[6]^=P,y[7]^=k;for(var g=0;g<4;g++)c.call(this)}},_doProcessBlock:function(u,d){var g=this._X;c.call(this),o[0]=g[0]^g[5]>>>16^g[3]<<16,o[1]=g[2]^g[7]>>>16^g[5]<<16,o[2]=g[4]^g[1]>>>16^g[7]<<16,o[3]=g[6]^g[3]>>>16^g[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,u[d+p]^=o[p]},blockSize:128/32,ivSize:64/32});function c(){for(var u=this._X,d=this._C,g=0;g<8;g++)a[g]=d[g];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var g=0;g<8;g++){var p=u[g]+d[g],y=p&65535,_=p>>>16,S=((y*y>>>17)+y*_>>>15)+_*_,T=((p&4294901760)*p|0)+((p&65535)*p|0);l[g]=S^T}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(c,"nextState"),t.Rabbit=n._createHelper(f)}(),e.Rabbit})});var iD=ae(($g,nD)=>{(function(e,t,r){typeof $g=="object"?nD.exports=$g=t(B0(),hc(),mc(),Ml(),yn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})($g,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],f=i.RabbitLegacy=n.extend({_doReset:function(){var u=this._key.words,d=this.cfg.iv,g=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],p=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var y=0;y<4;y++)c.call(this);for(var y=0;y<8;y++)p[y]^=g[y+4&7];if(d){var _=d.words,S=_[0],T=_[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,P=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,U=I>>>16|P&4294901760,k=P<<16|I&65535;p[0]^=I,p[1]^=U,p[2]^=P,p[3]^=k,p[4]^=I,p[5]^=U,p[6]^=P,p[7]^=k;for(var y=0;y<4;y++)c.call(this)}},_doProcessBlock:function(u,d){var g=this._X;c.call(this),o[0]=g[0]^g[5]>>>16^g[3]<<16,o[1]=g[2]^g[7]>>>16^g[5]<<16,o[2]=g[4]^g[1]>>>16^g[7]<<16,o[3]=g[6]^g[3]>>>16^g[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,u[d+p]^=o[p]},blockSize:128/32,ivSize:64/32});function c(){for(var u=this._X,d=this._C,g=0;g<8;g++)a[g]=d[g];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<a[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<a[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<a[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<a[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<a[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<a[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<a[6]>>>0?1:0)|0,this._b=d[7]>>>0<a[7]>>>0?1:0;for(var g=0;g<8;g++){var p=u[g]+d[g],y=p&65535,_=p>>>16,S=((y*y>>>17)+y*_>>>15)+_*_,T=((p&4294901760)*p|0)+((p&65535)*p|0);l[g]=S^T}u[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,u[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,u[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,u[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,u[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,u[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,u[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,u[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(c,"nextState"),t.RabbitLegacy=n._createHelper(f)}(),e.RabbitLegacy})});var oD=ae((Hg,sD)=>{(function(e,t,r){typeof Hg=="object"?sD.exports=Hg=t(B0(),hc(),mc(),Ml(),yn()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Hg,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let o=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function c(y,_){let S=_>>24&255,T=_>>16&255,I=_>>8&255,P=_&255,U=y.sbox[0][S]+y.sbox[1][T];return U=U^y.sbox[2][I],U=U+y.sbox[3][P],U}s(c,"F");function u(y,_,S){let T=_,I=S,P;for(let U=0;U<o;++U)T=T^y.pbox[U],I=c(y,T)^I,P=T,T=I,I=P;return P=T,T=I,I=P,I=I^y.pbox[o],T=T^y.pbox[o+1],{left:T,right:I}}s(u,"BlowFish_Encrypt");function d(y,_,S){let T=_,I=S,P;for(let U=o+1;U>1;--U)T=T^y.pbox[U],I=c(y,T)^I,P=T,T=I,I=P;return P=T,T=I,I=P,I=I^y.pbox[1],T=T^y.pbox[0],{left:T,right:I}}s(d,"BlowFish_Decrypt");function g(y,_,S){for(let k=0;k<4;k++){y.sbox[k]=[];for(let L=0;L<256;L++)y.sbox[k][L]=l[k][L]}let T=0;for(let k=0;k<o+2;k++)y.pbox[k]=a[k]^_[T],T++,T>=S&&(T=0);let I=0,P=0,U=0;for(let k=0;k<o+2;k+=2)U=u(y,I,P),I=U.left,P=U.right,y.pbox[k]=I,y.pbox[k+1]=P;for(let k=0;k<4;k++)for(let L=0;L<256;L+=2)U=u(y,I,P),I=U.left,P=U.right,y.sbox[k][L]=I,y.sbox[k][L+1]=P;return!0}s(g,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,_=y.words,S=y.sigBytes/4;g(f,_,S)}},encryptBlock:function(y,_){var S=u(f,y[_],y[_+1]);y[_]=S.left,y[_+1]=S.right},decryptBlock:function(y,_){var S=d(f,y[_],y[_+1]);y[_]=S.left,y[_+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var Ch=ae((Vg,aD)=>{(function(e,t,r){typeof Vg=="object"?aD.exports=Vg=t(B0(),bh(),iN(),oN(),hc(),fN(),mc(),E_(),pg(),mN(),S_(),yN(),xN(),bN(),Tg(),EN(),Ml(),yn(),AN(),RN(),NN(),LN(),ON(),MN(),qN(),$N(),VN(),KN(),GN(),JN(),QN(),eD(),rD(),iD(),oD()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Vg,function(e){return e})});var Y5=ae(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.stringArray=_i.array=_i.func=_i.error=_i.number=_i.string=_i.boolean=void 0;function EJ(e){return e===!0||e===!1}s(EJ,"boolean");_i.boolean=EJ;function uD(e){return typeof e=="string"||e instanceof String}s(uD,"string");_i.string=uD;function SJ(e){return typeof e=="number"||e instanceof Number}s(SJ,"number");_i.number=SJ;function wJ(e){return e instanceof Error}s(wJ,"error");_i.error=wJ;function IJ(e){return typeof e=="function"}s(IJ,"func");_i.func=IJ;function dD(e){return Array.isArray(e)}s(dD,"array");_i.array=dD;function AJ(e){return dD(e)&&e.every(t=>uD(t))}s(AJ,"stringArray");_i.stringArray=AJ});var Cb=ae(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.Message=Bt.NotificationType9=Bt.NotificationType8=Bt.NotificationType7=Bt.NotificationType6=Bt.NotificationType5=Bt.NotificationType4=Bt.NotificationType3=Bt.NotificationType2=Bt.NotificationType1=Bt.NotificationType0=Bt.NotificationType=Bt.RequestType9=Bt.RequestType8=Bt.RequestType7=Bt.RequestType6=Bt.RequestType5=Bt.RequestType4=Bt.RequestType3=Bt.RequestType2=Bt.RequestType1=Bt.RequestType=Bt.RequestType0=Bt.AbstractMessageSignature=Bt.ParameterStructures=Bt.ResponseError=Bt.ErrorCodes=void 0;var ku=Y5(),P_;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(P_||(Bt.ErrorCodes=P_={}));var Wg=class Wg extends Error{constructor(t,r,n){super(r),this.code=ku.number(t)?t:P_.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Wg.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};s(Wg,"ResponseError");var R_=Wg;Bt.ResponseError=R_;var J5=class J5{constructor(t){this.kind=t}static is(t){return t===J5.auto||t===J5.byName||t===J5.byPosition}toString(){return this.kind}};s(J5,"ParameterStructures");var es=J5;Bt.ParameterStructures=es;es.auto=new es("auto");es.byPosition=new es("byPosition");es.byName=new es("byName");var Z_=class Z_{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return es.auto}};s(Z_,"AbstractMessageSignature");var _r=Z_;Bt.AbstractMessageSignature=_r;var eb=class eb extends _r{constructor(t){super(t,0)}};s(eb,"RequestType0");var k_=eb;Bt.RequestType0=k_;var tb=class tb extends _r{constructor(t,r=es.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(tb,"RequestType");var N_=tb;Bt.RequestType=N_;var rb=class rb extends _r{constructor(t,r=es.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(rb,"RequestType1");var D_=rb;Bt.RequestType1=D_;var nb=class nb extends _r{constructor(t){super(t,2)}};s(nb,"RequestType2");var L_=nb;Bt.RequestType2=L_;var ib=class ib extends _r{constructor(t){super(t,3)}};s(ib,"RequestType3");var B_=ib;Bt.RequestType3=B_;var sb=class sb extends _r{constructor(t){super(t,4)}};s(sb,"RequestType4");var O_=sb;Bt.RequestType4=O_;var ob=class ob extends _r{constructor(t){super(t,5)}};s(ob,"RequestType5");var F_=ob;Bt.RequestType5=F_;var ab=class ab extends _r{constructor(t){super(t,6)}};s(ab,"RequestType6");var M_=ab;Bt.RequestType6=M_;var lb=class lb extends _r{constructor(t){super(t,7)}};s(lb,"RequestType7");var U_=lb;Bt.RequestType7=U_;var fb=class fb extends _r{constructor(t){super(t,8)}};s(fb,"RequestType8");var q_=fb;Bt.RequestType8=q_;var cb=class cb extends _r{constructor(t){super(t,9)}};s(cb,"RequestType9");var j_=cb;Bt.RequestType9=j_;var ub=class ub extends _r{constructor(t,r=es.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(ub,"NotificationType");var $_=ub;Bt.NotificationType=$_;var db=class db extends _r{constructor(t){super(t,0)}};s(db,"NotificationType0");var H_=db;Bt.NotificationType0=H_;var hb=class hb extends _r{constructor(t,r=es.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};s(hb,"NotificationType1");var V_=hb;Bt.NotificationType1=V_;var mb=class mb extends _r{constructor(t){super(t,2)}};s(mb,"NotificationType2");var z_=mb;Bt.NotificationType2=z_;var gb=class gb extends _r{constructor(t){super(t,3)}};s(gb,"NotificationType3");var K_=gb;Bt.NotificationType3=K_;var pb=class pb extends _r{constructor(t){super(t,4)}};s(pb,"NotificationType4");var W_=pb;Bt.NotificationType4=W_;var yb=class yb extends _r{constructor(t){super(t,5)}};s(yb,"NotificationType5");var G_=yb;Bt.NotificationType5=G_;var vb=class vb extends _r{constructor(t){super(t,6)}};s(vb,"NotificationType6");var Y_=vb;Bt.NotificationType6=Y_;var xb=class xb extends _r{constructor(t){super(t,7)}};s(xb,"NotificationType7");var J_=xb;Bt.NotificationType7=J_;var _b=class _b extends _r{constructor(t){super(t,8)}};s(_b,"NotificationType8");var X_=_b;Bt.NotificationType8=X_;var bb=class bb extends _r{constructor(t){super(t,9)}};s(bb,"NotificationType9");var Q_=bb;Bt.NotificationType9=Q_;var hD;(function(e){function t(i){let o=i;return o&&ku.string(o.method)&&(ku.string(o.id)||ku.number(o.id))}s(t,"isRequest"),e.isRequest=t;function r(i){let o=i;return o&&ku.string(o.method)&&i.id===void 0}s(r,"isNotification"),e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(ku.string(o.id)||ku.number(o.id)||o.id===null)}s(n,"isResponse"),e.isResponse=n})(hD||(Bt.Message=hD={}))});var wb=ae(gc=>{"use strict";var mD;Object.defineProperty(gc,"__esModule",{value:!0});gc.LRUCache=gc.LinkedMap=gc.Touch=void 0;var bi;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(bi||(gc.Touch=bi={}));var Eb=class Eb{constructor(){this[mD]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,r=bi.None){let n=this._map.get(t);if(n)return r!==bi.None&&this.touch(n,r),n.value}set(t,r,n=bi.None){let i=this._map.get(t);if(i)i.value=r,n!==bi.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case bi.None:this.addItemLast(i);break;case bi.First:this.addItemFirst(i);break;case bi.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(mD=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==bi.First&&r!==bi.Last)){if(r===bi.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===bi.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};s(Eb,"LinkedMap");var Gg=Eb;gc.LinkedMap=Gg;var Sb=class Sb extends Gg{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=bi.AsNew){return super.get(t,r)}peek(t){return super.get(t,bi.None)}set(t,r){return super.set(t,r,bi.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};s(Sb,"LRUCache");var Tb=Sb;gc.LRUCache=Tb});var pD=ae(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.Disposable=void 0;var gD;(function(e){function t(r){return{dispose:r}}s(t,"create"),e.create=t})(gD||(Yg.Disposable=gD={}))});var pc=ae(Pb=>{"use strict";Object.defineProperty(Pb,"__esModule",{value:!0});var Ib;function Ab(){if(Ib===void 0)throw new Error("No runtime abstraction layer installed");return Ib}s(Ab,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Ib=r}s(t,"install"),e.install=t})(Ab||(Ab={}));Pb.default=Ab});var Q5=ae(X5=>{"use strict";Object.defineProperty(X5,"__esModule",{value:!0});X5.Emitter=X5.Event=void 0;var PJ=pc(),yD;(function(e){let t={dispose(){}};e.None=function(){return t}})(yD||(X5.Event=yD={}));var kb=class kb{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{r.push(n[o].apply(i[o],t))}catch(l){(0,PJ.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};s(kb,"CallbackList");var Rb=kb,Xg=class Xg{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Rb),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=Xg._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};s(Xg,"Emitter");var Jg=Xg;X5.Emitter=Jg;Jg._noop=function(){}});var e9=ae(Z5=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});Z5.CancellationTokenSource=Z5.CancellationToken=void 0;var RJ=pc(),kJ=Y5(),Nb=Q5(),Qg;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Nb.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Nb.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||kJ.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(t,"is"),e.is=t})(Qg||(Z5.CancellationToken=Qg={}));var NJ=Object.freeze(function(e,t){let r=(0,RJ.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),Lb=class Lb{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?NJ:(this._emitter||(this._emitter=new Nb.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};s(Lb,"MutableToken");var Zg=Lb,Bb=class Bb{get token(){return this._token||(this._token=new Zg),this._token}cancel(){this._token?this._token.cancel():this._token=Qg.Cancelled}dispose(){this._token?this._token instanceof Zg&&this._token.dispose():this._token=Qg.None}};s(Bb,"CancellationTokenSource");var Db=Bb;Z5.CancellationTokenSource=Db});var vD=ae(e3=>{"use strict";Object.defineProperty(e3,"__esModule",{value:!0});e3.SharedArrayReceiverStrategy=e3.SharedArraySenderStrategy=void 0;var DJ=e9(),Th;(function(e){e.Continue=0,e.Cancelled=1})(Th||(Th={}));var qb=class qb{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=Th.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,Th.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};s(qb,"SharedArraySenderStrategy");var Ob=qb;e3.SharedArraySenderStrategy=Ob;var jb=class jb{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Th.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};s(jb,"SharedArrayBufferCancellationToken");var Fb=jb,$b=class $b{constructor(t){this.token=new Fb(t)}cancel(){}dispose(){}};s($b,"SharedArrayBufferCancellationTokenSource");var Mb=$b,Hb=class Hb{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new DJ.CancellationTokenSource:new Mb(r)}};s(Hb,"SharedArrayReceiverStrategy");var Ub=Hb;e3.SharedArrayReceiverStrategy=Ub});var Kb=ae(t9=>{"use strict";Object.defineProperty(t9,"__esModule",{value:!0});t9.Semaphore=void 0;var LJ=pc(),zb=class zb{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,LJ.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};s(zb,"Semaphore");var Vb=zb;t9.Semaphore=Vb});var _D=ae(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.ReadableStreamMessageReader=yc.AbstractMessageReader=yc.MessageReader=void 0;var Gb=pc(),t3=Y5(),Wb=Q5(),BJ=Kb(),xD;(function(e){function t(r){let n=r;return n&&t3.func(n.listen)&&t3.func(n.dispose)&&t3.func(n.onError)&&t3.func(n.onClose)&&t3.func(n.onPartialMessage)}s(t,"is"),e.is=t})(xD||(yc.MessageReader=xD={}));var Xb=class Xb{constructor(){this.errorEmitter=new Wb.Emitter,this.closeEmitter=new Wb.Emitter,this.partialMessageEmitter=new Wb.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${t3.string(t.message)?t.message:"unknown"}`)}};s(Xb,"AbstractMessageReader");var r9=Xb;yc.AbstractMessageReader=r9;var Yb;(function(e){function t(r){var c;let n,i,o,a=new Map,l,f=new Map;if(r===void 0||typeof r=="string")n=r!=null?r:"utf-8";else{if(n=(c=r.charset)!=null?c:"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,a.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,f.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)f.set(u.name,u)}return l===void 0&&(l=(0,Gb.default)().applicationJson.decoder,f.set(l.name,l)),{charset:n,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:f}}s(t,"fromOptions"),e.fromOptions=t})(Yb||(Yb={}));var Qb=class Qb extends r9{constructor(t,r){super(),this.readable=t,this.options=Yb.fromOptions(r),this.buffer=(0,Gb.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new BJ.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Gb.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};s(Qb,"ReadableStreamMessageReader");var Jb=Qb;yc.ReadableStreamMessageReader=Jb});var SD=ae(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.WriteableStreamMessageWriter=vc.AbstractMessageWriter=vc.MessageWriter=void 0;var bD=pc(),Eh=Y5(),OJ=Kb(),CD=Q5(),FJ="Content-Length: ",TD=`\r
`,ED;(function(e){function t(r){let n=r;return n&&Eh.func(n.dispose)&&Eh.func(n.onClose)&&Eh.func(n.onError)&&Eh.func(n.write)}s(t,"is"),e.is=t})(ED||(vc.MessageWriter=ED={}));var tC=class tC{constructor(){this.errorEmitter=new CD.Emitter,this.closeEmitter=new CD.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Eh.string(t.message)?t.message:"unknown"}`)}};s(tC,"AbstractMessageWriter");var n9=tC;vc.AbstractMessageWriter=n9;var Zb;(function(e){function t(r){var n,i;return r===void 0||typeof r=="string"?{charset:r!=null?r:"utf-8",contentTypeEncoder:(0,bD.default)().applicationJson.encoder}:{charset:(n=r.charset)!=null?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(i=r.contentTypeEncoder)!=null?i:(0,bD.default)().applicationJson.encoder}}s(t,"fromOptions"),e.fromOptions=t})(Zb||(Zb={}));var rC=class rC extends n9{constructor(t,r){super(),this.writable=t,this.options=Zb.fromOptions(r),this.errorCount=0,this.writeSemaphore=new OJ.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(FJ,n.byteLength.toString(),TD),i.push(TD),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};s(rC,"WriteableStreamMessageWriter");var eC=rC;vc.WriteableStreamMessageWriter=eC});var wD=ae(i9=>{"use strict";Object.defineProperty(i9,"__esModule",{value:!0});i9.AbstractMessageBuffer=void 0;var MJ=13,UJ=10,qJ=`\r
`,iC=class iC{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let c=this._chunks[n];for(i=0;i<c.length;){switch(c[i]){case MJ:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case UJ:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=c.byteLength,n++}if(r!==4)return;let a=this._read(o+i),l=new Map,f=this.toString(a,"ascii").split(qJ);if(f.length<2)return l;for(let c=0;c<f.length-2;c++){let u=f[c],d=u.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${u}`);let g=u.substr(0,d),p=u.substr(d+1).trim();l.set(t?g.toLowerCase():g,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let a=o.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};s(iC,"AbstractMessageBuffer");var nC=iC;i9.AbstractMessageBuffer=nC});var kD=ae(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.createMessageConnection=f0.ConnectionOptions=f0.MessageStrategy=f0.CancellationStrategy=f0.CancellationSenderStrategy=f0.CancellationReceiverStrategy=f0.RequestCancellationReceiverStrategy=f0.IdCancellationReceiverStrategy=f0.ConnectionStrategy=f0.ConnectionError=f0.ConnectionErrors=f0.LogTraceNotification=f0.SetTraceNotification=f0.TraceFormat=f0.TraceValues=f0.Trace=f0.NullLogger=f0.ProgressType=f0.ProgressToken=void 0;var ID=pc(),Dr=Y5(),Qt=Cb(),AD=wb(),Sh=Q5(),sC=e9(),Ah;(function(e){e.type=new Qt.NotificationType("$/cancelRequest")})(Ah||(Ah={}));var oC;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}s(t,"is"),e.is=t})(oC||(f0.ProgressToken=oC={}));var wh;(function(e){e.type=new Qt.NotificationType("$/progress")})(wh||(wh={}));var dC=class dC{constructor(){}};s(dC,"ProgressType");var aC=dC;f0.ProgressType=aC;var lC;(function(e){function t(r){return Dr.func(r)}s(t,"is"),e.is=t})(lC||(lC={}));f0.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ir;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(ir||(f0.Trace=ir={}));var PD;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(PD||(f0.TraceValues=PD={}));(function(e){function t(n){if(!Dr.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}s(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}s(r,"toString"),e.toString=r})(ir||(f0.Trace=ir={}));var As;(function(e){e.Text="text",e.JSON="json"})(As||(f0.TraceFormat=As={}));(function(e){function t(r){return Dr.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}s(t,"fromString"),e.fromString=t})(As||(f0.TraceFormat=As={}));var fC;(function(e){e.type=new Qt.NotificationType("$/setTrace")})(fC||(f0.SetTraceNotification=fC={}));var s9;(function(e){e.type=new Qt.NotificationType("$/logTrace")})(s9||(f0.LogTraceNotification=s9={}));var Ih;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Ih||(f0.ConnectionErrors=Ih={}));var u9=class u9 extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,u9.prototype)}};s(u9,"ConnectionError");var r3=u9;f0.ConnectionError=r3;var cC;(function(e){function t(r){let n=r;return n&&Dr.func(n.cancelUndispatched)}s(t,"is"),e.is=t})(cC||(f0.ConnectionStrategy=cC={}));var o9;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Dr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Dr.func(n.dispose))}s(t,"is"),e.is=t})(o9||(f0.IdCancellationReceiverStrategy=o9={}));var uC;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Dr.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Dr.func(n.dispose))}s(t,"is"),e.is=t})(uC||(f0.RequestCancellationReceiverStrategy=uC={}));var a9;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new sC.CancellationTokenSource}});function t(r){return o9.is(r)||uC.is(r)}s(t,"is"),e.is=t})(a9||(f0.CancellationReceiverStrategy=a9={}));var l9;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Ah.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Dr.func(n.sendCancellation)&&Dr.func(n.cleanup)}s(t,"is"),e.is=t})(l9||(f0.CancellationSenderStrategy=l9={}));var f9;(function(e){e.Message=Object.freeze({receiver:a9.Message,sender:l9.Message});function t(r){let n=r;return n&&a9.is(n.receiver)&&l9.is(n.sender)}s(t,"is"),e.is=t})(f9||(f0.CancellationStrategy=f9={}));var c9;(function(e){function t(r){let n=r;return n&&Dr.func(n.handleMessage)}s(t,"is"),e.is=t})(c9||(f0.MessageStrategy=c9={}));var RD;(function(e){function t(r){let n=r;return n&&(f9.is(n.cancellationStrategy)||cC.is(n.connectionStrategy)||c9.is(n.messageStrategy))}s(t,"is"),e.is=t})(RD||(f0.ConnectionOptions=RD={}));var Vo;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Vo||(Vo={}));function jJ(e,t,r,n){let i=r!==void 0?r:f0.NullLogger,o=0,a=0,l=0,f="2.0",c,u=new Map,d,g=new Map,p=new Map,y,_=new AD.LinkedMap,S=new Map,T=new Set,I=new Map,P=ir.Off,U=As.Text,k,L=Vo.New,Q=new Sh.Emitter,te=new Sh.Emitter,Ce=new Sh.Emitter,De=new Sh.Emitter,pe=new Sh.Emitter,Ie=n&&n.cancellationStrategy?n.cancellationStrategy:f9.Message;function ie(Y){if(Y===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Y.toString()}s(ie,"createRequestQueueKey");function Z(Y){return Y===null?"res-unknown-"+(++l).toString():"res-"+Y.toString()}s(Z,"createResponseQueueKey");function _e(){return"not-"+(++a).toString()}s(_e,"createNotificationQueueKey");function Ae(Y,N){Qt.Message.isRequest(N)?Y.set(ie(N.id),N):Qt.Message.isResponse(N)?Y.set(Z(N.id),N):Y.set(_e(),N)}s(Ae,"addMessageToQueue");function be(Y){}s(be,"cancelUndispatched");function ze(){return L===Vo.Listening}s(ze,"isListening");function ce(){return L===Vo.Closed}s(ce,"isClosed");function ve(){return L===Vo.Disposed}s(ve,"isDisposed");function le(){(L===Vo.New||L===Vo.Listening)&&(L=Vo.Closed,te.fire(void 0))}s(le,"closeHandler");function Ee(Y){Q.fire([Y,void 0,void 0])}s(Ee,"readErrorHandler");function mt(Y){Q.fire(Y)}s(mt,"writeErrorHandler"),e.onClose(le),e.onError(Ee),t.onClose(le),t.onError(mt);function Et(){y||_.size===0||(y=(0,ID.default)().timer.setImmediate(()=>{y=void 0,Ve()}))}s(Et,"triggerMessageQueue");function dt(Y){Qt.Message.isRequest(Y)?W(Y):Qt.Message.isNotification(Y)?he(Y):Qt.Message.isResponse(Y)?Xe(Y):Je(Y)}s(dt,"handleMessage");function Ve(){if(_.size===0)return;let Y=_.shift();try{let N=n==null?void 0:n.messageStrategy;c9.is(N)?N.handleMessage(Y,dt):dt(Y)}finally{Et()}}s(Ve,"processMessageQueue");let n0=s(Y=>{try{if(Qt.Message.isNotification(Y)&&Y.method===Ah.type.method){let N=Y.params.id,B=ie(N),Ye=_.get(B);if(Qt.Message.isRequest(Ye)){let E0=n==null?void 0:n.connectionStrategy,w0=E0&&E0.cancelUndispatched?E0.cancelUndispatched(Ye,be):void 0;if(w0&&(w0.error!==void 0||w0.result!==void 0)){_.delete(B),I.delete(N),w0.id=Ye.id,Mt(w0,Y.method,Date.now()),t.write(w0).catch(()=>i.error("Sending response for canceled message failed."));return}}let Vt=I.get(N);if(Vt!==void 0){Vt.cancel(),H(Y);return}else T.add(N)}Ae(_,Y)}finally{Et()}},"callback");function W(Y){var W0;if(ve())return;function N(u0,er,S0){let Q0={jsonrpc:f,id:Y.id};u0 instanceof Qt.ResponseError?Q0.error=u0.toJson():Q0.result=u0===void 0?null:u0,Mt(Q0,er,S0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(N,"reply");function B(u0,er,S0){let Q0={jsonrpc:f,id:Y.id,error:u0.toJson()};Mt(Q0,er,S0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(B,"replyError");function Ye(u0,er,S0){u0===void 0&&(u0=null);let Q0={jsonrpc:f,id:Y.id,result:u0};Mt(Q0,er,S0),t.write(Q0).catch(()=>i.error("Sending response failed."))}s(Ye,"replySuccess"),Lt(Y);let Vt=u.get(Y.method),E0,w0;Vt&&(E0=Vt.type,w0=Vt.handler);let Wt=Date.now();if(w0||c){let u0=(W0=Y.id)!=null?W0:String(Date.now()),er=o9.is(Ie.receiver)?Ie.receiver.createCancellationTokenSource(u0):Ie.receiver.createCancellationTokenSource(Y);Y.id!==null&&T.has(Y.id)&&er.cancel(),Y.id!==null&&I.set(u0,er);try{let S0;if(w0)if(Y.params===void 0){if(E0!==void 0&&E0.numberOfParams!==0){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines ${E0.numberOfParams} params but received none.`),Y.method,Wt);return}S0=w0(er.token)}else if(Array.isArray(Y.params)){if(E0!==void 0&&E0.parameterStructures===Qt.ParameterStructures.byName){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines parameters by name but received parameters by position`),Y.method,Wt);return}S0=w0(...Y.params,er.token)}else{if(E0!==void 0&&E0.parameterStructures===Qt.ParameterStructures.byPosition){B(new Qt.ResponseError(Qt.ErrorCodes.InvalidParams,`Request ${Y.method} defines parameters by position but received parameters by name`),Y.method,Wt);return}S0=w0(Y.params,er.token)}else c&&(S0=c(Y.method,Y.params,er.token));let Q0=S0;S0?Q0.then?Q0.then(kt=>{I.delete(u0),N(kt,Y.method,Wt)},kt=>{I.delete(u0),kt instanceof Qt.ResponseError?B(kt,Y.method,Wt):kt&&Dr.string(kt.message)?B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed with message: ${kt.message}`),Y.method,Wt):B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed unexpectedly without providing any details.`),Y.method,Wt)}):(I.delete(u0),N(S0,Y.method,Wt)):(I.delete(u0),Ye(S0,Y.method,Wt))}catch(S0){I.delete(u0),S0 instanceof Qt.ResponseError?N(S0,Y.method,Wt):S0&&Dr.string(S0.message)?B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed with message: ${S0.message}`),Y.method,Wt):B(new Qt.ResponseError(Qt.ErrorCodes.InternalError,`Request ${Y.method} failed unexpectedly without providing any details.`),Y.method,Wt)}}else B(new Qt.ResponseError(Qt.ErrorCodes.MethodNotFound,`Unhandled method ${Y.method}`),Y.method,Wt)}s(W,"handleRequest");function Xe(Y){if(!ve())if(Y.id===null)Y.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Y.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let N=Y.id,B=S.get(N);if($t(Y,B),B!==void 0){S.delete(N);try{if(Y.error){let Ye=Y.error;B.reject(new Qt.ResponseError(Ye.code,Ye.message,Ye.data))}else if(Y.result!==void 0)B.resolve(Y.result);else throw new Error("Should never happen.")}catch(Ye){Ye.message?i.error(`Response handler '${B.method}' failed with message: ${Ye.message}`):i.error(`Response handler '${B.method}' failed unexpectedly.`)}}}}s(Xe,"handleResponse");function he(Y){if(ve())return;let N,B;if(Y.method===Ah.type.method){let Ye=Y.params.id;T.delete(Ye),H(Y);return}else{let Ye=g.get(Y.method);Ye&&(B=Ye.handler,N=Ye.type)}if(B||d)try{if(H(Y),B)if(Y.params===void 0)N!==void 0&&N.numberOfParams!==0&&N.parameterStructures!==Qt.ParameterStructures.byName&&i.error(`Notification ${Y.method} defines ${N.numberOfParams} params but received none.`),B();else if(Array.isArray(Y.params)){let Ye=Y.params;Y.method===wh.type.method&&Ye.length===2&&oC.is(Ye[0])?B({token:Ye[0],value:Ye[1]}):(N!==void 0&&(N.parameterStructures===Qt.ParameterStructures.byName&&i.error(`Notification ${Y.method} defines parameters by name but received parameters by position`),N.numberOfParams!==Y.params.length&&i.error(`Notification ${Y.method} defines ${N.numberOfParams} params but received ${Ye.length} arguments`)),B(...Ye))}else N!==void 0&&N.parameterStructures===Qt.ParameterStructures.byPosition&&i.error(`Notification ${Y.method} defines parameters by position but received parameters by name`),B(Y.params);else d&&d(Y.method,Y.params)}catch(Ye){Ye.message?i.error(`Notification handler '${Y.method}' failed with message: ${Ye.message}`):i.error(`Notification handler '${Y.method}' failed unexpectedly.`)}else Ce.fire(Y)}s(he,"handleNotification");function Je(Y){if(!Y){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Y,null,4)}`);let N=Y;if(Dr.string(N.id)||Dr.number(N.id)){let B=N.id,Ye=S.get(B);Ye&&Ye.reject(new Error("The received response has neither a result nor an error property."))}}s(Je,"handleInvalidMessage");function He(Y){if(Y!=null)switch(P){case ir.Verbose:return JSON.stringify(Y,null,4);case ir.Compact:return JSON.stringify(Y);default:return}}s(He,"stringifyTrace");function nt(Y){if(!(P===ir.Off||!k))if(U===As.Text){let N;(P===ir.Verbose||P===ir.Compact)&&Y.params&&(N=`Params: ${He(Y.params)}

`),k.log(`Sending request '${Y.method} - (${Y.id})'.`,N)}else vt("send-request",Y)}s(nt,"traceSendingRequest");function wt(Y){if(!(P===ir.Off||!k))if(U===As.Text){let N;(P===ir.Verbose||P===ir.Compact)&&(Y.params?N=`Params: ${He(Y.params)}

`:N=`No parameters provided.

`),k.log(`Sending notification '${Y.method}'.`,N)}else vt("send-notification",Y)}s(wt,"traceSendingNotification");function Mt(Y,N,B){if(!(P===ir.Off||!k))if(U===As.Text){let Ye;(P===ir.Verbose||P===ir.Compact)&&(Y.error&&Y.error.data?Ye=`Error data: ${He(Y.error.data)}

`:Y.result?Ye=`Result: ${He(Y.result)}

`:Y.error===void 0&&(Ye=`No result returned.

`)),k.log(`Sending response '${N} - (${Y.id})'. Processing request took ${Date.now()-B}ms`,Ye)}else vt("send-response",Y)}s(Mt,"traceSendingResponse");function Lt(Y){if(!(P===ir.Off||!k))if(U===As.Text){let N;(P===ir.Verbose||P===ir.Compact)&&Y.params&&(N=`Params: ${He(Y.params)}

`),k.log(`Received request '${Y.method} - (${Y.id})'.`,N)}else vt("receive-request",Y)}s(Lt,"traceReceivedRequest");function H(Y){if(!(P===ir.Off||!k||Y.method===s9.type.method))if(U===As.Text){let N;(P===ir.Verbose||P===ir.Compact)&&(Y.params?N=`Params: ${He(Y.params)}

`:N=`No parameters provided.

`),k.log(`Received notification '${Y.method}'.`,N)}else vt("receive-notification",Y)}s(H,"traceReceivedNotification");function $t(Y,N){if(!(P===ir.Off||!k))if(U===As.Text){let B;if((P===ir.Verbose||P===ir.Compact)&&(Y.error&&Y.error.data?B=`Error data: ${He(Y.error.data)}

`:Y.result?B=`Result: ${He(Y.result)}

`:Y.error===void 0&&(B=`No result returned.

`)),N){let Ye=Y.error?` Request failed: ${Y.error.message} (${Y.error.code}).`:"";k.log(`Received response '${N.method} - (${Y.id})' in ${Date.now()-N.timerStart}ms.${Ye}`,B)}else k.log(`Received response ${Y.id} without active response promise.`,B)}else vt("receive-response",Y)}s($t,"traceReceivedResponse");function vt(Y,N){if(!k||P===ir.Off)return;let B={isLSPMessage:!0,type:Y,message:N,timestamp:Date.now()};k.log(B)}s(vt,"logLSPMessage");function sr(){if(ce())throw new r3(Ih.Closed,"Connection is closed.");if(ve())throw new r3(Ih.Disposed,"Connection is disposed.")}s(sr,"throwIfClosedOrDisposed");function J0(){if(ze())throw new r3(Ih.AlreadyListening,"Connection is already listening")}s(J0,"throwIfListening");function pr(){if(!ze())throw new Error("Call listen() first.")}s(pr,"throwIfNotListening");function X0(Y){return Y===void 0?null:Y}s(X0,"undefinedToNull");function Gr(Y){if(Y!==null)return Y}s(Gr,"nullToUndefined");function hn(Y){return Y!=null&&!Array.isArray(Y)&&typeof Y=="object"}s(hn,"isNamedParam");function Fn(Y,N){switch(Y){case Qt.ParameterStructures.auto:return hn(N)?Gr(N):[X0(N)];case Qt.ParameterStructures.byName:if(!hn(N))throw new Error("Received parameters by name but param is not an object literal.");return Gr(N);case Qt.ParameterStructures.byPosition:return[X0(N)];default:throw new Error(`Unknown parameter structure ${Y.toString()}`)}}s(Fn,"computeSingleParam");function mn(Y,N){let B,Ye=Y.numberOfParams;switch(Ye){case 0:B=void 0;break;case 1:B=Fn(Y.parameterStructures,N[0]);break;default:B=[];for(let Vt=0;Vt<N.length&&Vt<Ye;Vt++)B.push(X0(N[Vt]));if(N.length<Ye)for(let Vt=N.length;Vt<Ye;Vt++)B.push(null);break}return B}s(mn,"computeMessageParams");let Jt={sendNotification:(Y,...N)=>{sr();let B,Ye;if(Dr.string(Y)){B=Y;let E0=N[0],w0=0,Wt=Qt.ParameterStructures.auto;Qt.ParameterStructures.is(E0)&&(w0=1,Wt=E0);let W0=N.length,u0=W0-w0;switch(u0){case 0:Ye=void 0;break;case 1:Ye=Fn(Wt,N[w0]);break;default:if(Wt===Qt.ParameterStructures.byName)throw new Error(`Received ${u0} parameters for 'by Name' notification parameter structure.`);Ye=N.slice(w0,W0).map(er=>X0(er));break}}else{let E0=N;B=Y.method,Ye=mn(Y,E0)}let Vt={jsonrpc:f,method:B,params:Ye};return wt(Vt),t.write(Vt).catch(E0=>{throw i.error("Sending notification failed."),E0})},onNotification:(Y,N)=>{sr();let B;return Dr.func(Y)?d=Y:N&&(Dr.string(Y)?(B=Y,g.set(Y,{type:void 0,handler:N})):(B=Y.method,g.set(Y.method,{type:Y,handler:N}))),{dispose:()=>{B!==void 0?g.delete(B):d=void 0}}},onProgress:(Y,N,B)=>{if(p.has(N))throw new Error(`Progress handler for token ${N} already registered`);return p.set(N,B),{dispose:()=>{p.delete(N)}}},sendProgress:(Y,N,B)=>Jt.sendNotification(wh.type,{token:N,value:B}),onUnhandledProgress:De.event,sendRequest:(Y,...N)=>{sr(),pr();let B,Ye,Vt;if(Dr.string(Y)){B=Y;let W0=N[0],u0=N[N.length-1],er=0,S0=Qt.ParameterStructures.auto;Qt.ParameterStructures.is(W0)&&(er=1,S0=W0);let Q0=N.length;sC.CancellationToken.is(u0)&&(Q0=Q0-1,Vt=u0);let kt=Q0-er;switch(kt){case 0:Ye=void 0;break;case 1:Ye=Fn(S0,N[er]);break;default:if(S0===Qt.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' request parameter structure.`);Ye=N.slice(er,Q0).map(hs=>X0(hs));break}}else{let W0=N;B=Y.method,Ye=mn(Y,W0);let u0=Y.numberOfParams;Vt=sC.CancellationToken.is(W0[u0])?W0[u0]:void 0}let E0=o++,w0;Vt&&(w0=Vt.onCancellationRequested(()=>{let W0=Ie.sender.sendCancellation(Jt,E0);return W0===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${E0}`),Promise.resolve()):W0.catch(()=>{i.log(`Sending cancellation messages for id ${E0} failed`)})}));let Wt={jsonrpc:f,id:E0,method:B,params:Ye};return nt(Wt),typeof Ie.sender.enableCancellation=="function"&&Ie.sender.enableCancellation(Wt),new Promise(async(W0,u0)=>{let er=s(kt=>{W0(kt),Ie.sender.cleanup(E0),w0==null||w0.dispose()},"resolveWithCleanup"),S0=s(kt=>{u0(kt),Ie.sender.cleanup(E0),w0==null||w0.dispose()},"rejectWithCleanup"),Q0={method:B,timerStart:Date.now(),resolve:er,reject:S0};try{await t.write(Wt),S.set(E0,Q0)}catch(kt){throw i.error("Sending request failed."),Q0.reject(new Qt.ResponseError(Qt.ErrorCodes.MessageWriteError,kt.message?kt.message:"Unknown reason")),kt}})},onRequest:(Y,N)=>{sr();let B=null;return lC.is(Y)?(B=void 0,c=Y):Dr.string(Y)?(B=null,N!==void 0&&(B=Y,u.set(Y,{handler:N,type:void 0}))):N!==void 0&&(B=Y.method,u.set(Y.method,{type:Y,handler:N})),{dispose:()=>{B!==null&&(B!==void 0?u.delete(B):c=void 0)}}},hasPendingResponse:()=>S.size>0,trace:async(Y,N,B)=>{let Ye=!1,Vt=As.Text;B!==void 0&&(Dr.boolean(B)?Ye=B:(Ye=B.sendNotification||!1,Vt=B.traceFormat||As.Text)),P=Y,U=Vt,P===ir.Off?k=void 0:k=N,Ye&&!ce()&&!ve()&&await Jt.sendNotification(fC.type,{value:ir.toString(Y)})},onError:Q.event,onClose:te.event,onUnhandledNotification:Ce.event,onDispose:pe.event,end:()=>{t.end()},dispose:()=>{if(ve())return;L=Vo.Disposed,pe.fire(void 0);let Y=new Qt.ResponseError(Qt.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let N of S.values())N.reject(Y);S=new Map,I=new Map,T=new Set,_=new AD.LinkedMap,Dr.func(t.dispose)&&t.dispose(),Dr.func(e.dispose)&&e.dispose()},listen:()=>{sr(),J0(),L=Vo.Listening,e.listen(n0)},inspect:()=>{(0,ID.default)().console.log("inspect")}};return Jt.onNotification(s9.type,Y=>{if(P===ir.Off||!k)return;let N=P===ir.Verbose||P===ir.Compact;k.log(Y.message,N?Y.verbose:void 0)}),Jt.onNotification(wh.type,Y=>{let N=p.get(Y.token);N?N(Y.value):De.fire(Y)}),Jt}s(jJ,"createMessageConnection");f0.createMessageConnection=jJ});var d9=ae(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.ProgressType=qe.ProgressToken=qe.createMessageConnection=qe.NullLogger=qe.ConnectionOptions=qe.ConnectionStrategy=qe.AbstractMessageBuffer=qe.WriteableStreamMessageWriter=qe.AbstractMessageWriter=qe.MessageWriter=qe.ReadableStreamMessageReader=qe.AbstractMessageReader=qe.MessageReader=qe.SharedArrayReceiverStrategy=qe.SharedArraySenderStrategy=qe.CancellationToken=qe.CancellationTokenSource=qe.Emitter=qe.Event=qe.Disposable=qe.LRUCache=qe.Touch=qe.LinkedMap=qe.ParameterStructures=qe.NotificationType9=qe.NotificationType8=qe.NotificationType7=qe.NotificationType6=qe.NotificationType5=qe.NotificationType4=qe.NotificationType3=qe.NotificationType2=qe.NotificationType1=qe.NotificationType0=qe.NotificationType=qe.ErrorCodes=qe.ResponseError=qe.RequestType9=qe.RequestType8=qe.RequestType7=qe.RequestType6=qe.RequestType5=qe.RequestType4=qe.RequestType3=qe.RequestType2=qe.RequestType1=qe.RequestType0=qe.RequestType=qe.Message=qe.RAL=void 0;qe.MessageStrategy=qe.CancellationStrategy=qe.CancellationSenderStrategy=qe.CancellationReceiverStrategy=qe.ConnectionError=qe.ConnectionErrors=qe.LogTraceNotification=qe.SetTraceNotification=qe.TraceFormat=qe.TraceValues=qe.Trace=void 0;var yr=Cb();Object.defineProperty(qe,"Message",{enumerable:!0,get:function(){return yr.Message}});Object.defineProperty(qe,"RequestType",{enumerable:!0,get:function(){return yr.RequestType}});Object.defineProperty(qe,"RequestType0",{enumerable:!0,get:function(){return yr.RequestType0}});Object.defineProperty(qe,"RequestType1",{enumerable:!0,get:function(){return yr.RequestType1}});Object.defineProperty(qe,"RequestType2",{enumerable:!0,get:function(){return yr.RequestType2}});Object.defineProperty(qe,"RequestType3",{enumerable:!0,get:function(){return yr.RequestType3}});Object.defineProperty(qe,"RequestType4",{enumerable:!0,get:function(){return yr.RequestType4}});Object.defineProperty(qe,"RequestType5",{enumerable:!0,get:function(){return yr.RequestType5}});Object.defineProperty(qe,"RequestType6",{enumerable:!0,get:function(){return yr.RequestType6}});Object.defineProperty(qe,"RequestType7",{enumerable:!0,get:function(){return yr.RequestType7}});Object.defineProperty(qe,"RequestType8",{enumerable:!0,get:function(){return yr.RequestType8}});Object.defineProperty(qe,"RequestType9",{enumerable:!0,get:function(){return yr.RequestType9}});Object.defineProperty(qe,"ResponseError",{enumerable:!0,get:function(){return yr.ResponseError}});Object.defineProperty(qe,"ErrorCodes",{enumerable:!0,get:function(){return yr.ErrorCodes}});Object.defineProperty(qe,"NotificationType",{enumerable:!0,get:function(){return yr.NotificationType}});Object.defineProperty(qe,"NotificationType0",{enumerable:!0,get:function(){return yr.NotificationType0}});Object.defineProperty(qe,"NotificationType1",{enumerable:!0,get:function(){return yr.NotificationType1}});Object.defineProperty(qe,"NotificationType2",{enumerable:!0,get:function(){return yr.NotificationType2}});Object.defineProperty(qe,"NotificationType3",{enumerable:!0,get:function(){return yr.NotificationType3}});Object.defineProperty(qe,"NotificationType4",{enumerable:!0,get:function(){return yr.NotificationType4}});Object.defineProperty(qe,"NotificationType5",{enumerable:!0,get:function(){return yr.NotificationType5}});Object.defineProperty(qe,"NotificationType6",{enumerable:!0,get:function(){return yr.NotificationType6}});Object.defineProperty(qe,"NotificationType7",{enumerable:!0,get:function(){return yr.NotificationType7}});Object.defineProperty(qe,"NotificationType8",{enumerable:!0,get:function(){return yr.NotificationType8}});Object.defineProperty(qe,"NotificationType9",{enumerable:!0,get:function(){return yr.NotificationType9}});Object.defineProperty(qe,"ParameterStructures",{enumerable:!0,get:function(){return yr.ParameterStructures}});var hC=wb();Object.defineProperty(qe,"LinkedMap",{enumerable:!0,get:function(){return hC.LinkedMap}});Object.defineProperty(qe,"LRUCache",{enumerable:!0,get:function(){return hC.LRUCache}});Object.defineProperty(qe,"Touch",{enumerable:!0,get:function(){return hC.Touch}});var $J=pD();Object.defineProperty(qe,"Disposable",{enumerable:!0,get:function(){return $J.Disposable}});var ND=Q5();Object.defineProperty(qe,"Event",{enumerable:!0,get:function(){return ND.Event}});Object.defineProperty(qe,"Emitter",{enumerable:!0,get:function(){return ND.Emitter}});var DD=e9();Object.defineProperty(qe,"CancellationTokenSource",{enumerable:!0,get:function(){return DD.CancellationTokenSource}});Object.defineProperty(qe,"CancellationToken",{enumerable:!0,get:function(){return DD.CancellationToken}});var LD=vD();Object.defineProperty(qe,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return LD.SharedArraySenderStrategy}});Object.defineProperty(qe,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return LD.SharedArrayReceiverStrategy}});var mC=_D();Object.defineProperty(qe,"MessageReader",{enumerable:!0,get:function(){return mC.MessageReader}});Object.defineProperty(qe,"AbstractMessageReader",{enumerable:!0,get:function(){return mC.AbstractMessageReader}});Object.defineProperty(qe,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return mC.ReadableStreamMessageReader}});var gC=SD();Object.defineProperty(qe,"MessageWriter",{enumerable:!0,get:function(){return gC.MessageWriter}});Object.defineProperty(qe,"AbstractMessageWriter",{enumerable:!0,get:function(){return gC.AbstractMessageWriter}});Object.defineProperty(qe,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return gC.WriteableStreamMessageWriter}});var HJ=wD();Object.defineProperty(qe,"AbstractMessageBuffer",{enumerable:!0,get:function(){return HJ.AbstractMessageBuffer}});var Qn=kD();Object.defineProperty(qe,"ConnectionStrategy",{enumerable:!0,get:function(){return Qn.ConnectionStrategy}});Object.defineProperty(qe,"ConnectionOptions",{enumerable:!0,get:function(){return Qn.ConnectionOptions}});Object.defineProperty(qe,"NullLogger",{enumerable:!0,get:function(){return Qn.NullLogger}});Object.defineProperty(qe,"createMessageConnection",{enumerable:!0,get:function(){return Qn.createMessageConnection}});Object.defineProperty(qe,"ProgressToken",{enumerable:!0,get:function(){return Qn.ProgressToken}});Object.defineProperty(qe,"ProgressType",{enumerable:!0,get:function(){return Qn.ProgressType}});Object.defineProperty(qe,"Trace",{enumerable:!0,get:function(){return Qn.Trace}});Object.defineProperty(qe,"TraceValues",{enumerable:!0,get:function(){return Qn.TraceValues}});Object.defineProperty(qe,"TraceFormat",{enumerable:!0,get:function(){return Qn.TraceFormat}});Object.defineProperty(qe,"SetTraceNotification",{enumerable:!0,get:function(){return Qn.SetTraceNotification}});Object.defineProperty(qe,"LogTraceNotification",{enumerable:!0,get:function(){return Qn.LogTraceNotification}});Object.defineProperty(qe,"ConnectionErrors",{enumerable:!0,get:function(){return Qn.ConnectionErrors}});Object.defineProperty(qe,"ConnectionError",{enumerable:!0,get:function(){return Qn.ConnectionError}});Object.defineProperty(qe,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Qn.CancellationReceiverStrategy}});Object.defineProperty(qe,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Qn.CancellationSenderStrategy}});Object.defineProperty(qe,"CancellationStrategy",{enumerable:!0,get:function(){return Qn.CancellationStrategy}});Object.defineProperty(qe,"MessageStrategy",{enumerable:!0,get:function(){return Qn.MessageStrategy}});var VJ=pc();qe.RAL=VJ.default});var FD=ae(xC=>{"use strict";Object.defineProperty(xC,"__esModule",{value:!0});var BD=require("util"),Ul=d9(),m9=class m9 extends Ul.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return m9.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new BD.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};s(m9,"MessageBuffer");var h9=m9;h9.emptyBuffer=Buffer.allocUnsafe(0);var _C=class _C{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Ul.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Ul.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Ul.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Ul.Disposable.create(()=>this.stream.off("data",t))}};s(_C,"ReadableStreamWrapper");var pC=_C,bC=class bC{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Ul.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Ul.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Ul.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let o=s(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,o):this.stream.write(t,o)})}end(){this.stream.end()}};s(bC,"WritableStreamWrapper");var yC=bC,OD=Object.freeze({messageBuffer:Object.freeze({create:e=>new h9(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new BD.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:e=>new pC(e),asWritableStream:e=>new yC(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:()=>clearImmediate(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function vC(){return OD}s(vC,"RIL");(function(e){function t(){Ul.RAL.install(OD)}s(t,"install"),e.install=t})(vC||(vC={}));xC.default=vC});var Lu=ae($0=>{"use strict";var zJ=$0&&$0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KJ=$0&&$0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zJ(t,e,r)};Object.defineProperty($0,"__esModule",{value:!0});$0.createMessageConnection=$0.createServerSocketTransport=$0.createClientSocketTransport=$0.createServerPipeTransport=$0.createClientPipeTransport=$0.generateRandomPipeName=$0.StreamMessageWriter=$0.StreamMessageReader=$0.SocketMessageWriter=$0.SocketMessageReader=$0.PortMessageWriter=$0.PortMessageReader=$0.IPCMessageWriter=$0.IPCMessageReader=void 0;var n3=FD();n3.default.install();var MD=require("path"),WJ=require("os"),GJ=require("crypto"),y9=require("net"),Ps=d9();KJ(d9(),$0);var wC=class wC extends Ps.AbstractMessageReader{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Ps.Disposable.create(()=>this.process.off("message",t))}};s(wC,"IPCMessageReader");var CC=wC;$0.IPCMessageReader=CC;var IC=class IC extends Ps.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};s(IC,"IPCMessageWriter");var TC=IC;$0.IPCMessageWriter=TC;var AC=class AC extends Ps.AbstractMessageReader{constructor(t){super(),this.onData=new Ps.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};s(AC,"PortMessageReader");var EC=AC;$0.PortMessageReader=EC;var PC=class PC extends Ps.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};s(PC,"PortMessageWriter");var SC=PC;$0.PortMessageWriter=SC;var RC=class RC extends Ps.ReadableStreamMessageReader{constructor(t,r="utf-8"){super((0,n3.default)().stream.asReadableStream(t),r)}};s(RC,"SocketMessageReader");var Nu=RC;$0.SocketMessageReader=Nu;var kC=class kC extends Ps.WriteableStreamMessageWriter{constructor(t,r){super((0,n3.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};s(kC,"SocketMessageWriter");var Du=kC;$0.SocketMessageWriter=Du;var NC=class NC extends Ps.ReadableStreamMessageReader{constructor(t,r){super((0,n3.default)().stream.asReadableStream(t),r)}};s(NC,"StreamMessageReader");var g9=NC;$0.StreamMessageReader=g9;var DC=class DC extends Ps.WriteableStreamMessageWriter{constructor(t,r){super((0,n3.default)().stream.asWritableStream(t),r)}};s(DC,"StreamMessageWriter");var p9=DC;$0.StreamMessageWriter=p9;var UD=process.env.XDG_RUNTIME_DIR,YJ=new Map([["linux",107],["darwin",103]]);function JJ(){let e=(0,GJ.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;UD?t=MD.join(UD,`vscode-ipc-${e}.sock`):t=MD.join(WJ.tmpdir(),`vscode-${e}.sock`);let r=YJ.get(process.platform);return r!==void 0&&t.length>r&&(0,n3.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}s(JJ,"generateRandomPipeName");$0.generateRandomPipeName=JJ;function XJ(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,y9.createServer)(l=>{a.close(),r([new Nu(l,t),new Du(l,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),i({onConnected:()=>n})})})}s(XJ,"createClientPipeTransport");$0.createClientPipeTransport=XJ;function QJ(e,t="utf-8"){let r=(0,y9.createConnection)(e);return[new Nu(r,t),new Du(r,t)]}s(QJ,"createServerPipeTransport");$0.createServerPipeTransport=QJ;function ZJ(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,y9.createServer)(l=>{a.close(),r([new Nu(l,t),new Du(l,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),i({onConnected:()=>n})})})}s(ZJ,"createClientSocketTransport");$0.createClientSocketTransport=ZJ;function eX(e,t="utf-8"){let r=(0,y9.createConnection)(e,"127.0.0.1");return[new Nu(r,t),new Du(r,t)]}s(eX,"createServerSocketTransport");$0.createServerSocketTransport=eX;function tX(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}s(tX,"isReadableStream");function rX(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}s(rX,"isWritableStream");function nX(e,t,r,n){r||(r=Ps.NullLogger);let i=tX(e)?new g9(e):e,o=rX(t)?new p9(t):t;return Ps.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Ps.createMessageConnection)(i,o,r,n)}s(nX,"createMessageConnection");$0.createMessageConnection=nX});var LC=ae((Eue,qD)=>{"use strict";qD.exports=Lu()});var x9=ae((jD,v9)=>{(function(e){if(typeof v9=="object"&&typeof v9.exports=="object"){var t=e(require,jD);t!==void 0&&(v9.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(M){function se(fe){return typeof fe=="string"}s(se,"is"),M.is=se})(r||(t.DocumentUri=r={}));var n;(function(M){function se(fe){return typeof fe=="string"}s(se,"is"),M.is=se})(n||(t.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function se(fe){return typeof fe=="number"&&M.MIN_VALUE<=fe&&fe<=M.MAX_VALUE}s(se,"is"),M.is=se})(i||(t.integer=i={}));var o;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function se(fe){return typeof fe=="number"&&M.MIN_VALUE<=fe&&fe<=M.MAX_VALUE}s(se,"is"),M.is=se})(o||(t.uinteger=o={}));var a;(function(M){function se(K,O){return K===Number.MAX_VALUE&&(K=o.MAX_VALUE),O===Number.MAX_VALUE&&(O=o.MAX_VALUE),{line:K,character:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.uinteger(O.line)&&ye.uinteger(O.character)}s(fe,"is"),M.is=fe})(a||(t.Position=a={}));var l;(function(M){function se(K,O,Te,je){if(ye.uinteger(K)&&ye.uinteger(O)&&ye.uinteger(Te)&&ye.uinteger(je))return{start:a.create(K,O),end:a.create(Te,je)};if(a.is(K)&&a.is(O))return{start:K,end:O};throw new Error("Range#create called with invalid arguments[".concat(K,", ").concat(O,", ").concat(Te,", ").concat(je,"]"))}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&a.is(O.start)&&a.is(O.end)}s(fe,"is"),M.is=fe})(l||(t.Range=l={}));var f;(function(M){function se(K,O){return{uri:K,range:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&(ye.string(O.uri)||ye.undefined(O.uri))}s(fe,"is"),M.is=fe})(f||(t.Location=f={}));var c;(function(M){function se(K,O,Te,je){return{targetUri:K,targetRange:O,targetSelectionRange:Te,originSelectionRange:je}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.targetRange)&&ye.string(O.targetUri)&&l.is(O.targetSelectionRange)&&(l.is(O.originSelectionRange)||ye.undefined(O.originSelectionRange))}s(fe,"is"),M.is=fe})(c||(t.LocationLink=c={}));var u;(function(M){function se(K,O,Te,je){return{red:K,green:O,blue:Te,alpha:je}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.numberRange(O.red,0,1)&&ye.numberRange(O.green,0,1)&&ye.numberRange(O.blue,0,1)&&ye.numberRange(O.alpha,0,1)}s(fe,"is"),M.is=fe})(u||(t.Color=u={}));var d;(function(M){function se(K,O){return{range:K,color:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&u.is(O.color)}s(fe,"is"),M.is=fe})(d||(t.ColorInformation=d={}));var g;(function(M){function se(K,O,Te){return{label:K,textEdit:O,additionalTextEdits:Te}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.string(O.label)&&(ye.undefined(O.textEdit)||k.is(O))&&(ye.undefined(O.additionalTextEdits)||ye.typedArray(O.additionalTextEdits,k.is))}s(fe,"is"),M.is=fe})(g||(t.ColorPresentation=g={}));var p;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(p||(t.FoldingRangeKind=p={}));var y;(function(M){function se(K,O,Te,je,Ht,or){var tr={startLine:K,endLine:O};return ye.defined(Te)&&(tr.startCharacter=Te),ye.defined(je)&&(tr.endCharacter=je),ye.defined(Ht)&&(tr.kind=Ht),ye.defined(or)&&(tr.collapsedText=or),tr}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.uinteger(O.startLine)&&ye.uinteger(O.startLine)&&(ye.undefined(O.startCharacter)||ye.uinteger(O.startCharacter))&&(ye.undefined(O.endCharacter)||ye.uinteger(O.endCharacter))&&(ye.undefined(O.kind)||ye.string(O.kind))}s(fe,"is"),M.is=fe})(y||(t.FoldingRange=y={}));var _;(function(M){function se(K,O){return{location:K,message:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&f.is(O.location)&&ye.string(O.message)}s(fe,"is"),M.is=fe})(_||(t.DiagnosticRelatedInformation=_={}));var S;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(S||(t.DiagnosticSeverity=S={}));var T;(function(M){M.Unnecessary=1,M.Deprecated=2})(T||(t.DiagnosticTag=T={}));var I;(function(M){function se(fe){var K=fe;return ye.objectLiteral(K)&&ye.string(K.href)}s(se,"is"),M.is=se})(I||(t.CodeDescription=I={}));var P;(function(M){function se(K,O,Te,je,Ht,or){var tr={range:K,message:O};return ye.defined(Te)&&(tr.severity=Te),ye.defined(je)&&(tr.code=je),ye.defined(Ht)&&(tr.source=Ht),ye.defined(or)&&(tr.relatedInformation=or),tr}s(se,"create"),M.create=se;function fe(K){var O,Te=K;return ye.defined(Te)&&l.is(Te.range)&&ye.string(Te.message)&&(ye.number(Te.severity)||ye.undefined(Te.severity))&&(ye.integer(Te.code)||ye.string(Te.code)||ye.undefined(Te.code))&&(ye.undefined(Te.codeDescription)||ye.string((O=Te.codeDescription)===null||O===void 0?void 0:O.href))&&(ye.string(Te.source)||ye.undefined(Te.source))&&(ye.undefined(Te.relatedInformation)||ye.typedArray(Te.relatedInformation,_.is))}s(fe,"is"),M.is=fe})(P||(t.Diagnostic=P={}));var U;(function(M){function se(K,O){for(var Te=[],je=2;je<arguments.length;je++)Te[je-2]=arguments[je];var Ht={title:K,command:O};return ye.defined(Te)&&Te.length>0&&(Ht.arguments=Te),Ht}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.title)&&ye.string(O.command)}s(fe,"is"),M.is=fe})(U||(t.Command=U={}));var k;(function(M){function se(Te,je){return{range:Te,newText:je}}s(se,"replace"),M.replace=se;function fe(Te,je){return{range:{start:Te,end:Te},newText:je}}s(fe,"insert"),M.insert=fe;function K(Te){return{range:Te,newText:""}}s(K,"del"),M.del=K;function O(Te){var je=Te;return ye.objectLiteral(je)&&ye.string(je.newText)&&l.is(je.range)}s(O,"is"),M.is=O})(k||(t.TextEdit=k={}));var L;(function(M){function se(K,O,Te){var je={label:K};return O!==void 0&&(je.needsConfirmation=O),Te!==void 0&&(je.description=Te),je}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&ye.string(O.label)&&(ye.boolean(O.needsConfirmation)||O.needsConfirmation===void 0)&&(ye.string(O.description)||O.description===void 0)}s(fe,"is"),M.is=fe})(L||(t.ChangeAnnotation=L={}));var Q;(function(M){function se(fe){var K=fe;return ye.string(K)}s(se,"is"),M.is=se})(Q||(t.ChangeAnnotationIdentifier=Q={}));var te;(function(M){function se(Te,je,Ht){return{range:Te,newText:je,annotationId:Ht}}s(se,"replace"),M.replace=se;function fe(Te,je,Ht){return{range:{start:Te,end:Te},newText:je,annotationId:Ht}}s(fe,"insert"),M.insert=fe;function K(Te,je){return{range:Te,newText:"",annotationId:je}}s(K,"del"),M.del=K;function O(Te){var je=Te;return k.is(je)&&(L.is(je.annotationId)||Q.is(je.annotationId))}s(O,"is"),M.is=O})(te||(t.AnnotatedTextEdit=te={}));var Ce;(function(M){function se(K,O){return{textDocument:K,edits:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ce.is(O.textDocument)&&Array.isArray(O.edits)}s(fe,"is"),M.is=fe})(Ce||(t.TextDocumentEdit=Ce={}));var De;(function(M){function se(K,O,Te){var je={kind:"create",uri:K};return O!==void 0&&(O.overwrite!==void 0||O.ignoreIfExists!==void 0)&&(je.options=O),Te!==void 0&&(je.annotationId=Te),je}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&O.kind==="create"&&ye.string(O.uri)&&(O.options===void 0||(O.options.overwrite===void 0||ye.boolean(O.options.overwrite))&&(O.options.ignoreIfExists===void 0||ye.boolean(O.options.ignoreIfExists)))&&(O.annotationId===void 0||Q.is(O.annotationId))}s(fe,"is"),M.is=fe})(De||(t.CreateFile=De={}));var pe;(function(M){function se(K,O,Te,je){var Ht={kind:"rename",oldUri:K,newUri:O};return Te!==void 0&&(Te.overwrite!==void 0||Te.ignoreIfExists!==void 0)&&(Ht.options=Te),je!==void 0&&(Ht.annotationId=je),Ht}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&O.kind==="rename"&&ye.string(O.oldUri)&&ye.string(O.newUri)&&(O.options===void 0||(O.options.overwrite===void 0||ye.boolean(O.options.overwrite))&&(O.options.ignoreIfExists===void 0||ye.boolean(O.options.ignoreIfExists)))&&(O.annotationId===void 0||Q.is(O.annotationId))}s(fe,"is"),M.is=fe})(pe||(t.RenameFile=pe={}));var Ie;(function(M){function se(K,O,Te){var je={kind:"delete",uri:K};return O!==void 0&&(O.recursive!==void 0||O.ignoreIfNotExists!==void 0)&&(je.options=O),Te!==void 0&&(je.annotationId=Te),je}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&O.kind==="delete"&&ye.string(O.uri)&&(O.options===void 0||(O.options.recursive===void 0||ye.boolean(O.options.recursive))&&(O.options.ignoreIfNotExists===void 0||ye.boolean(O.options.ignoreIfNotExists)))&&(O.annotationId===void 0||Q.is(O.annotationId))}s(fe,"is"),M.is=fe})(Ie||(t.DeleteFile=Ie={}));var ie;(function(M){function se(fe){var K=fe;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every(function(O){return ye.string(O.kind)?De.is(O)||pe.is(O)||Ie.is(O):Ce.is(O)}))}s(se,"is"),M.is=se})(ie||(t.WorkspaceEdit=ie={}));var Z=function(){function M(se,fe){this.edits=se,this.changeAnnotations=fe}return s(M,"TextEditChangeImpl"),M.prototype.insert=function(se,fe,K){var O,Te;if(K===void 0?O=k.insert(se,fe):Q.is(K)?(Te=K,O=te.insert(se,fe,K)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(K),O=te.insert(se,fe,Te)),this.edits.push(O),Te!==void 0)return Te},M.prototype.replace=function(se,fe,K){var O,Te;if(K===void 0?O=k.replace(se,fe):Q.is(K)?(Te=K,O=te.replace(se,fe,K)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(K),O=te.replace(se,fe,Te)),this.edits.push(O),Te!==void 0)return Te},M.prototype.delete=function(se,fe){var K,O;if(fe===void 0?K=k.del(se):Q.is(fe)?(O=fe,K=te.del(se,fe)):(this.assertChangeAnnotations(this.changeAnnotations),O=this.changeAnnotations.manage(fe),K=te.del(se,O)),this.edits.push(K),O!==void 0)return O},M.prototype.add=function(se){this.edits.push(se)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(se){if(se===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),_e=function(){function M(se){this._annotations=se===void 0?Object.create(null):se,this._counter=0,this._size=0}return s(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),M.prototype.manage=function(se,fe){var K;if(Q.is(se)?K=se:(K=this.nextId(),fe=se),this._annotations[K]!==void 0)throw new Error("Id ".concat(K," is already in use."));if(fe===void 0)throw new Error("No annotation provided for id ".concat(K));return this._annotations[K]=fe,this._size++,K},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),Ae=function(){function M(se){var fe=this;this._textEditChanges=Object.create(null),se!==void 0?(this._workspaceEdit=se,se.documentChanges?(this._changeAnnotations=new _e(se.changeAnnotations),se.changeAnnotations=this._changeAnnotations.all(),se.documentChanges.forEach(function(K){if(Ce.is(K)){var O=new Z(K.edits,fe._changeAnnotations);fe._textEditChanges[K.textDocument.uri]=O}})):se.changes&&Object.keys(se.changes).forEach(function(K){var O=new Z(se.changes[K]);fe._textEditChanges[K]=O})):this._workspaceEdit={}}return s(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(se){if(ce.is(se)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var fe={uri:se.uri,version:se.version},K=this._textEditChanges[fe.uri];if(!K){var O=[],Te={textDocument:fe,edits:O};this._workspaceEdit.documentChanges.push(Te),K=new Z(O,this._changeAnnotations),this._textEditChanges[fe.uri]=K}return K}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var K=this._textEditChanges[se];if(!K){var O=[];this._workspaceEdit.changes[se]=O,K=new Z(O),this._textEditChanges[se]=K}return K}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new _e,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(se,fe,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;L.is(fe)||Q.is(fe)?O=fe:K=fe;var Te,je;if(O===void 0?Te=De.create(se,K):(je=Q.is(O)?O:this._changeAnnotations.manage(O),Te=De.create(se,K,je)),this._workspaceEdit.documentChanges.push(Te),je!==void 0)return je},M.prototype.renameFile=function(se,fe,K,O){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Te;L.is(K)||Q.is(K)?Te=K:O=K;var je,Ht;if(Te===void 0?je=pe.create(se,fe,O):(Ht=Q.is(Te)?Te:this._changeAnnotations.manage(Te),je=pe.create(se,fe,O,Ht)),this._workspaceEdit.documentChanges.push(je),Ht!==void 0)return Ht},M.prototype.deleteFile=function(se,fe,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var O;L.is(fe)||Q.is(fe)?O=fe:K=fe;var Te,je;if(O===void 0?Te=Ie.create(se,K):(je=Q.is(O)?O:this._changeAnnotations.manage(O),Te=Ie.create(se,K,je)),this._workspaceEdit.documentChanges.push(Te),je!==void 0)return je},M}();t.WorkspaceChange=Ae;var be;(function(M){function se(K){return{uri:K}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)}s(fe,"is"),M.is=fe})(be||(t.TextDocumentIdentifier=be={}));var ze;(function(M){function se(K,O){return{uri:K,version:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&ye.integer(O.version)}s(fe,"is"),M.is=fe})(ze||(t.VersionedTextDocumentIdentifier=ze={}));var ce;(function(M){function se(K,O){return{uri:K,version:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&(O.version===null||ye.integer(O.version))}s(fe,"is"),M.is=fe})(ce||(t.OptionalVersionedTextDocumentIdentifier=ce={}));var ve;(function(M){function se(K,O,Te,je){return{uri:K,languageId:O,version:Te,text:je}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.string(O.uri)&&ye.string(O.languageId)&&ye.integer(O.version)&&ye.string(O.text)}s(fe,"is"),M.is=fe})(ve||(t.TextDocumentItem=ve={}));var le;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function se(fe){var K=fe;return K===M.PlainText||K===M.Markdown}s(se,"is"),M.is=se})(le||(t.MarkupKind=le={}));var Ee;(function(M){function se(fe){var K=fe;return ye.objectLiteral(fe)&&le.is(K.kind)&&ye.string(K.value)}s(se,"is"),M.is=se})(Ee||(t.MarkupContent=Ee={}));var mt;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(mt||(t.CompletionItemKind=mt={}));var Et;(function(M){M.PlainText=1,M.Snippet=2})(Et||(t.InsertTextFormat=Et={}));var dt;(function(M){M.Deprecated=1})(dt||(t.CompletionItemTag=dt={}));var Ve;(function(M){function se(K,O,Te){return{newText:K,insert:O,replace:Te}}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&ye.string(O.newText)&&l.is(O.insert)&&l.is(O.replace)}s(fe,"is"),M.is=fe})(Ve||(t.InsertReplaceEdit=Ve={}));var n0;(function(M){M.asIs=1,M.adjustIndentation=2})(n0||(t.InsertTextMode=n0={}));var W;(function(M){function se(fe){var K=fe;return K&&(ye.string(K.detail)||K.detail===void 0)&&(ye.string(K.description)||K.description===void 0)}s(se,"is"),M.is=se})(W||(t.CompletionItemLabelDetails=W={}));var Xe;(function(M){function se(fe){return{label:fe}}s(se,"create"),M.create=se})(Xe||(t.CompletionItem=Xe={}));var he;(function(M){function se(fe,K){return{items:fe||[],isIncomplete:!!K}}s(se,"create"),M.create=se})(he||(t.CompletionList=he={}));var Je;(function(M){function se(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(se,"fromPlainText"),M.fromPlainText=se;function fe(K){var O=K;return ye.string(O)||ye.objectLiteral(O)&&ye.string(O.language)&&ye.string(O.value)}s(fe,"is"),M.is=fe})(Je||(t.MarkedString=Je={}));var He;(function(M){function se(fe){var K=fe;return!!K&&ye.objectLiteral(K)&&(Ee.is(K.contents)||Je.is(K.contents)||ye.typedArray(K.contents,Je.is))&&(fe.range===void 0||l.is(fe.range))}s(se,"is"),M.is=se})(He||(t.Hover=He={}));var nt;(function(M){function se(fe,K){return K?{label:fe,documentation:K}:{label:fe}}s(se,"create"),M.create=se})(nt||(t.ParameterInformation=nt={}));var wt;(function(M){function se(fe,K){for(var O=[],Te=2;Te<arguments.length;Te++)O[Te-2]=arguments[Te];var je={label:fe};return ye.defined(K)&&(je.documentation=K),ye.defined(O)?je.parameters=O:je.parameters=[],je}s(se,"create"),M.create=se})(wt||(t.SignatureInformation=wt={}));var Mt;(function(M){M.Text=1,M.Read=2,M.Write=3})(Mt||(t.DocumentHighlightKind=Mt={}));var Lt;(function(M){function se(fe,K){var O={range:fe};return ye.number(K)&&(O.kind=K),O}s(se,"create"),M.create=se})(Lt||(t.DocumentHighlight=Lt={}));var H;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(H||(t.SymbolKind=H={}));var $t;(function(M){M.Deprecated=1})($t||(t.SymbolTag=$t={}));var vt;(function(M){function se(fe,K,O,Te,je){var Ht={name:fe,kind:K,location:{uri:Te,range:O}};return je&&(Ht.containerName=je),Ht}s(se,"create"),M.create=se})(vt||(t.SymbolInformation=vt={}));var sr;(function(M){function se(fe,K,O,Te){return Te!==void 0?{name:fe,kind:K,location:{uri:O,range:Te}}:{name:fe,kind:K,location:{uri:O}}}s(se,"create"),M.create=se})(sr||(t.WorkspaceSymbol=sr={}));var J0;(function(M){function se(K,O,Te,je,Ht,or){var tr={name:K,detail:O,kind:Te,range:je,selectionRange:Ht};return or!==void 0&&(tr.children=or),tr}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&ye.string(O.name)&&ye.number(O.kind)&&l.is(O.range)&&l.is(O.selectionRange)&&(O.detail===void 0||ye.string(O.detail))&&(O.deprecated===void 0||ye.boolean(O.deprecated))&&(O.children===void 0||Array.isArray(O.children))&&(O.tags===void 0||Array.isArray(O.tags))}s(fe,"is"),M.is=fe})(J0||(t.DocumentSymbol=J0={}));var pr;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(pr||(t.CodeActionKind=pr={}));var X0;(function(M){M.Invoked=1,M.Automatic=2})(X0||(t.CodeActionTriggerKind=X0={}));var Gr;(function(M){function se(K,O,Te){var je={diagnostics:K};return O!=null&&(je.only=O),Te!=null&&(je.triggerKind=Te),je}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.typedArray(O.diagnostics,P.is)&&(O.only===void 0||ye.typedArray(O.only,ye.string))&&(O.triggerKind===void 0||O.triggerKind===X0.Invoked||O.triggerKind===X0.Automatic)}s(fe,"is"),M.is=fe})(Gr||(t.CodeActionContext=Gr={}));var hn;(function(M){function se(K,O,Te){var je={title:K},Ht=!0;return typeof O=="string"?(Ht=!1,je.kind=O):U.is(O)?je.command=O:je.edit=O,Ht&&Te!==void 0&&(je.kind=Te),je}s(se,"create"),M.create=se;function fe(K){var O=K;return O&&ye.string(O.title)&&(O.diagnostics===void 0||ye.typedArray(O.diagnostics,P.is))&&(O.kind===void 0||ye.string(O.kind))&&(O.edit!==void 0||O.command!==void 0)&&(O.command===void 0||U.is(O.command))&&(O.isPreferred===void 0||ye.boolean(O.isPreferred))&&(O.edit===void 0||ie.is(O.edit))}s(fe,"is"),M.is=fe})(hn||(t.CodeAction=hn={}));var Fn;(function(M){function se(K,O){var Te={range:K};return ye.defined(O)&&(Te.data=O),Te}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(O.range)&&(ye.undefined(O.command)||U.is(O.command))}s(fe,"is"),M.is=fe})(Fn||(t.CodeLens=Fn={}));var mn;(function(M){function se(K,O){return{tabSize:K,insertSpaces:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&ye.uinteger(O.tabSize)&&ye.boolean(O.insertSpaces)}s(fe,"is"),M.is=fe})(mn||(t.FormattingOptions=mn={}));var Jt;(function(M){function se(K,O,Te){return{range:K,target:O,data:Te}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(O.range)&&(ye.undefined(O.target)||ye.string(O.target))}s(fe,"is"),M.is=fe})(Jt||(t.DocumentLink=Jt={}));var Y;(function(M){function se(K,O){return{range:K,parent:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&l.is(O.range)&&(O.parent===void 0||M.is(O.parent))}s(fe,"is"),M.is=fe})(Y||(t.SelectionRange=Y={}));var N;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(N||(t.SemanticTokenTypes=N={}));var B;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(B||(t.SemanticTokenModifiers=B={}));var Ye;(function(M){function se(fe){var K=fe;return ye.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId=="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]=="number")}s(se,"is"),M.is=se})(Ye||(t.SemanticTokens=Ye={}));var Vt;(function(M){function se(K,O){return{range:K,text:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&ye.string(O.text)}s(fe,"is"),M.is=fe})(Vt||(t.InlineValueText=Vt={}));var E0;(function(M){function se(K,O,Te){return{range:K,variableName:O,caseSensitiveLookup:Te}}s(se,"create"),M.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&ye.boolean(O.caseSensitiveLookup)&&(ye.string(O.variableName)||O.variableName===void 0)}s(fe,"is"),M.is=fe})(E0||(t.InlineValueVariableLookup=E0={}));var w0;(function(M){function se(K,O){return{range:K,expression:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return O!=null&&l.is(O.range)&&(ye.string(O.expression)||O.expression===void 0)}s(fe,"is"),M.is=fe})(w0||(t.InlineValueEvaluatableExpression=w0={}));var Wt;(function(M){function se(K,O){return{frameId:K,stoppedLocation:O}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.defined(O)&&l.is(K.stoppedLocation)}s(fe,"is"),M.is=fe})(Wt||(t.InlineValueContext=Wt={}));var W0;(function(M){M.Type=1,M.Parameter=2;function se(fe){return fe===1||fe===2}s(se,"is"),M.is=se})(W0||(t.InlayHintKind=W0={}));var u0;(function(M){function se(K){return{value:K}}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&(O.tooltip===void 0||ye.string(O.tooltip)||Ee.is(O.tooltip))&&(O.location===void 0||f.is(O.location))&&(O.command===void 0||U.is(O.command))}s(fe,"is"),M.is=fe})(u0||(t.InlayHintLabelPart=u0={}));var er;(function(M){function se(K,O,Te){var je={position:K,label:O};return Te!==void 0&&(je.kind=Te),je}s(se,"create"),M.create=se;function fe(K){var O=K;return ye.objectLiteral(O)&&a.is(O.position)&&(ye.string(O.label)||ye.typedArray(O.label,u0.is))&&(O.kind===void 0||W0.is(O.kind))&&O.textEdits===void 0||ye.typedArray(O.textEdits,k.is)&&(O.tooltip===void 0||ye.string(O.tooltip)||Ee.is(O.tooltip))&&(O.paddingLeft===void 0||ye.boolean(O.paddingLeft))&&(O.paddingRight===void 0||ye.boolean(O.paddingRight))}s(fe,"is"),M.is=fe})(er||(t.InlayHint=er={}));var S0;(function(M){function se(fe){return{kind:"snippet",value:fe}}s(se,"createSnippet"),M.createSnippet=se})(S0||(t.StringValue=S0={}));var Q0;(function(M){function se(fe,K,O,Te){return{insertText:fe,filterText:K,range:O,command:Te}}s(se,"create"),M.create=se})(Q0||(t.InlineCompletionItem=Q0={}));var kt;(function(M){function se(fe){return{items:fe}}s(se,"create"),M.create=se})(kt||(t.InlineCompletionList=kt={}));var hs;(function(M){M.Invoked=0,M.Automatic=1})(hs||(t.InlineCompletionTriggerKind=hs={}));var tl;(function(M){function se(fe,K){return{range:fe,text:K}}s(se,"create"),M.create=se})(tl||(t.SelectedCompletionInfo=tl={}));var Mn;(function(M){function se(fe,K){return{triggerKind:fe,selectedCompletionInfo:K}}s(se,"create"),M.create=se})(Mn||(t.InlineCompletionContext=Mn={}));var Ms;(function(M){function se(fe){var K=fe;return ye.objectLiteral(K)&&n.is(K.uri)&&ye.string(K.name)}s(se,"is"),M.is=se})(Ms||(t.WorkspaceFolder=Ms={})),t.EOL=[`
`,`\r
`,"\r"];var ji;(function(M){function se(Te,je,Ht,or){return new Co(Te,je,Ht,or)}s(se,"create"),M.create=se;function fe(Te){var je=Te;return!!(ye.defined(je)&&ye.string(je.uri)&&(ye.undefined(je.languageId)||ye.string(je.languageId))&&ye.uinteger(je.lineCount)&&ye.func(je.getText)&&ye.func(je.positionAt)&&ye.func(je.offsetAt))}s(fe,"is"),M.is=fe;function K(Te,je){for(var Ht=Te.getText(),or=O(je,function(rr,dr){var qn=rr.range.start.line-dr.range.start.line;return qn===0?rr.range.start.character-dr.range.start.character:qn}),tr=Ht.length,Un=or.length-1;Un>=0;Un--){var lr=or[Un],li=Te.offsetAt(lr.range.start),s0=Te.offsetAt(lr.range.end);if(s0<=tr)Ht=Ht.substring(0,li)+lr.newText+Ht.substring(s0,Ht.length);else throw new Error("Overlapping edit");tr=li}return Ht}s(K,"applyEdits"),M.applyEdits=K;function O(Te,je){if(Te.length<=1)return Te;var Ht=Te.length/2|0,or=Te.slice(0,Ht),tr=Te.slice(Ht);O(or,je),O(tr,je);for(var Un=0,lr=0,li=0;Un<or.length&&lr<tr.length;){var s0=je(or[Un],tr[lr]);s0<=0?Te[li++]=or[Un++]:Te[li++]=tr[lr++]}for(;Un<or.length;)Te[li++]=or[Un++];for(;lr<tr.length;)Te[li++]=tr[lr++];return Te}s(O,"mergeSort")})(ji||(t.TextDocument=ji={}));var Co=function(){function M(se,fe,K,O){this._uri=se,this._languageId=fe,this._version=K,this._content=O,this._lineOffsets=void 0}return s(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),M.prototype.getText=function(se){if(se){var fe=this.offsetAt(se.start),K=this.offsetAt(se.end);return this._content.substring(fe,K)}return this._content},M.prototype.update=function(se,fe){this._content=se.text,this._version=fe,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var se=[],fe=this._content,K=!0,O=0;O<fe.length;O++){K&&(se.push(O),K=!1);var Te=fe.charAt(O);K=Te==="\r"||Te===`
`,Te==="\r"&&O+1<fe.length&&fe.charAt(O+1)===`
`&&O++}K&&fe.length>0&&se.push(fe.length),this._lineOffsets=se}return this._lineOffsets},M.prototype.positionAt=function(se){se=Math.max(Math.min(se,this._content.length),0);var fe=this.getLineOffsets(),K=0,O=fe.length;if(O===0)return a.create(0,se);for(;K<O;){var Te=Math.floor((K+O)/2);fe[Te]>se?O=Te:K=Te+1}var je=K-1;return a.create(je,se-fe[je])},M.prototype.offsetAt=function(se){var fe=this.getLineOffsets();if(se.line>=fe.length)return this._content.length;if(se.line<0)return 0;var K=fe[se.line],O=se.line+1<fe.length?fe[se.line+1]:this._content.length;return Math.max(Math.min(K+se.character,O),K)},Object.defineProperty(M.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),M}(),ye;(function(M){var se=Object.prototype.toString;function fe(s0){return typeof s0<"u"}s(fe,"defined"),M.defined=fe;function K(s0){return typeof s0>"u"}s(K,"undefined"),M.undefined=K;function O(s0){return s0===!0||s0===!1}s(O,"boolean"),M.boolean=O;function Te(s0){return se.call(s0)==="[object String]"}s(Te,"string"),M.string=Te;function je(s0){return se.call(s0)==="[object Number]"}s(je,"number"),M.number=je;function Ht(s0,rr,dr){return se.call(s0)==="[object Number]"&&rr<=s0&&s0<=dr}s(Ht,"numberRange"),M.numberRange=Ht;function or(s0){return se.call(s0)==="[object Number]"&&-2147483648<=s0&&s0<=2147483647}s(or,"integer"),M.integer=or;function tr(s0){return se.call(s0)==="[object Number]"&&0<=s0&&s0<=2147483647}s(tr,"uinteger"),M.uinteger=tr;function Un(s0){return se.call(s0)==="[object Function]"}s(Un,"func"),M.func=Un;function lr(s0){return s0!==null&&typeof s0=="object"}s(lr,"objectLiteral"),M.objectLiteral=lr;function li(s0,rr){return Array.isArray(s0)&&s0.every(rr)}s(li,"typedArray"),M.typedArray=li})(ye||(ye={}))})});var Ar=ae(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.ProtocolNotificationType=ts.ProtocolNotificationType0=ts.ProtocolRequestType=ts.ProtocolRequestType0=ts.RegistrationType=ts.MessageDirection=void 0;var i3=Lu(),$D;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})($D||(ts.MessageDirection=$D={}));var qC=class qC{constructor(t){this.method=t}};s(qC,"RegistrationType");var BC=qC;ts.RegistrationType=BC;var jC=class jC extends i3.RequestType0{constructor(t){super(t)}};s(jC,"ProtocolRequestType0");var OC=jC;ts.ProtocolRequestType0=OC;var $C=class $C extends i3.RequestType{constructor(t){super(t,i3.ParameterStructures.byName)}};s($C,"ProtocolRequestType");var FC=$C;ts.ProtocolRequestType=FC;var HC=class HC extends i3.NotificationType0{constructor(t){super(t)}};s(HC,"ProtocolNotificationType0");var MC=HC;ts.ProtocolNotificationType0=MC;var VC=class VC extends i3.NotificationType{constructor(t){super(t,i3.ParameterStructures.byName)}};s(VC,"ProtocolNotificationType");var UC=VC;ts.ProtocolNotificationType=UC});var _9=ae(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.objectLiteral=sn.typedArray=sn.stringArray=sn.array=sn.func=sn.error=sn.number=sn.string=sn.boolean=void 0;function iX(e){return e===!0||e===!1}s(iX,"boolean");sn.boolean=iX;function HD(e){return typeof e=="string"||e instanceof String}s(HD,"string");sn.string=HD;function sX(e){return typeof e=="number"||e instanceof Number}s(sX,"number");sn.number=sX;function oX(e){return e instanceof Error}s(oX,"error");sn.error=oX;function aX(e){return typeof e=="function"}s(aX,"func");sn.func=aX;function VD(e){return Array.isArray(e)}s(VD,"array");sn.array=VD;function lX(e){return VD(e)&&e.every(t=>HD(t))}s(lX,"stringArray");sn.stringArray=lX;function fX(e,t){return Array.isArray(e)&&e.every(t)}s(fX,"typedArray");sn.typedArray=fX;function cX(e){return e!==null&&typeof e=="object"}s(cX,"objectLiteral");sn.objectLiteral=cX});var WD=ae(b9=>{"use strict";Object.defineProperty(b9,"__esModule",{value:!0});b9.ImplementationRequest=void 0;var zD=Ar(),KD;(function(e){e.method="textDocument/implementation",e.messageDirection=zD.MessageDirection.clientToServer,e.type=new zD.ProtocolRequestType(e.method)})(KD||(b9.ImplementationRequest=KD={}))});var JD=ae(C9=>{"use strict";Object.defineProperty(C9,"__esModule",{value:!0});C9.TypeDefinitionRequest=void 0;var GD=Ar(),YD;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=GD.MessageDirection.clientToServer,e.type=new GD.ProtocolRequestType(e.method)})(YD||(C9.TypeDefinitionRequest=YD={}))});var ZD=ae(s3=>{"use strict";Object.defineProperty(s3,"__esModule",{value:!0});s3.DidChangeWorkspaceFoldersNotification=s3.WorkspaceFoldersRequest=void 0;var T9=Ar(),XD;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=T9.MessageDirection.serverToClient,e.type=new T9.ProtocolRequestType0(e.method)})(XD||(s3.WorkspaceFoldersRequest=XD={}));var QD;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=T9.MessageDirection.clientToServer,e.type=new T9.ProtocolNotificationType(e.method)})(QD||(s3.DidChangeWorkspaceFoldersNotification=QD={}))});var rL=ae(E9=>{"use strict";Object.defineProperty(E9,"__esModule",{value:!0});E9.ConfigurationRequest=void 0;var eL=Ar(),tL;(function(e){e.method="workspace/configuration",e.messageDirection=eL.MessageDirection.serverToClient,e.type=new eL.ProtocolRequestType(e.method)})(tL||(E9.ConfigurationRequest=tL={}))});var sL=ae(o3=>{"use strict";Object.defineProperty(o3,"__esModule",{value:!0});o3.ColorPresentationRequest=o3.DocumentColorRequest=void 0;var S9=Ar(),nL;(function(e){e.method="textDocument/documentColor",e.messageDirection=S9.MessageDirection.clientToServer,e.type=new S9.ProtocolRequestType(e.method)})(nL||(o3.DocumentColorRequest=nL={}));var iL;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=S9.MessageDirection.clientToServer,e.type=new S9.ProtocolRequestType(e.method)})(iL||(o3.ColorPresentationRequest=iL={}))});var lL=ae(a3=>{"use strict";Object.defineProperty(a3,"__esModule",{value:!0});a3.FoldingRangeRefreshRequest=a3.FoldingRangeRequest=void 0;var w9=Ar(),oL;(function(e){e.method="textDocument/foldingRange",e.messageDirection=w9.MessageDirection.clientToServer,e.type=new w9.ProtocolRequestType(e.method)})(oL||(a3.FoldingRangeRequest=oL={}));var aL;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=w9.MessageDirection.serverToClient,e.type=new w9.ProtocolRequestType0(e.method)})(aL||(a3.FoldingRangeRefreshRequest=aL={}))});var uL=ae(I9=>{"use strict";Object.defineProperty(I9,"__esModule",{value:!0});I9.DeclarationRequest=void 0;var fL=Ar(),cL;(function(e){e.method="textDocument/declaration",e.messageDirection=fL.MessageDirection.clientToServer,e.type=new fL.ProtocolRequestType(e.method)})(cL||(I9.DeclarationRequest=cL={}))});var mL=ae(A9=>{"use strict";Object.defineProperty(A9,"__esModule",{value:!0});A9.SelectionRangeRequest=void 0;var dL=Ar(),hL;(function(e){e.method="textDocument/selectionRange",e.messageDirection=dL.MessageDirection.clientToServer,e.type=new dL.ProtocolRequestType(e.method)})(hL||(A9.SelectionRangeRequest=hL={}))});var vL=ae(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.WorkDoneProgressCancelNotification=xc.WorkDoneProgressCreateRequest=xc.WorkDoneProgress=void 0;var uX=Lu(),P9=Ar(),gL;(function(e){e.type=new uX.ProgressType;function t(r){return r===e.type}s(t,"is"),e.is=t})(gL||(xc.WorkDoneProgress=gL={}));var pL;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=P9.MessageDirection.serverToClient,e.type=new P9.ProtocolRequestType(e.method)})(pL||(xc.WorkDoneProgressCreateRequest=pL={}));var yL;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=P9.MessageDirection.clientToServer,e.type=new P9.ProtocolNotificationType(e.method)})(yL||(xc.WorkDoneProgressCancelNotification=yL={}))});var CL=ae(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.CallHierarchyOutgoingCallsRequest=_c.CallHierarchyIncomingCallsRequest=_c.CallHierarchyPrepareRequest=void 0;var l3=Ar(),xL;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=l3.MessageDirection.clientToServer,e.type=new l3.ProtocolRequestType(e.method)})(xL||(_c.CallHierarchyPrepareRequest=xL={}));var _L;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=l3.MessageDirection.clientToServer,e.type=new l3.ProtocolRequestType(e.method)})(_L||(_c.CallHierarchyIncomingCallsRequest=_L={}));var bL;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=l3.MessageDirection.clientToServer,e.type=new l3.ProtocolRequestType(e.method)})(bL||(_c.CallHierarchyOutgoingCallsRequest=bL={}))});var AL=ae(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.SemanticTokensRefreshRequest=rs.SemanticTokensRangeRequest=rs.SemanticTokensDeltaRequest=rs.SemanticTokensRequest=rs.SemanticTokensRegistrationType=rs.TokenFormat=void 0;var ql=Ar(),TL;(function(e){e.Relative="relative"})(TL||(rs.TokenFormat=TL={}));var Ph;(function(e){e.method="textDocument/semanticTokens",e.type=new ql.RegistrationType(e.method)})(Ph||(rs.SemanticTokensRegistrationType=Ph={}));var EL;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=ql.MessageDirection.clientToServer,e.type=new ql.ProtocolRequestType(e.method),e.registrationMethod=Ph.method})(EL||(rs.SemanticTokensRequest=EL={}));var SL;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=ql.MessageDirection.clientToServer,e.type=new ql.ProtocolRequestType(e.method),e.registrationMethod=Ph.method})(SL||(rs.SemanticTokensDeltaRequest=SL={}));var wL;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=ql.MessageDirection.clientToServer,e.type=new ql.ProtocolRequestType(e.method),e.registrationMethod=Ph.method})(wL||(rs.SemanticTokensRangeRequest=wL={}));var IL;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=ql.MessageDirection.serverToClient,e.type=new ql.ProtocolRequestType0(e.method)})(IL||(rs.SemanticTokensRefreshRequest=IL={}))});var kL=ae(R9=>{"use strict";Object.defineProperty(R9,"__esModule",{value:!0});R9.ShowDocumentRequest=void 0;var PL=Ar(),RL;(function(e){e.method="window/showDocument",e.messageDirection=PL.MessageDirection.serverToClient,e.type=new PL.ProtocolRequestType(e.method)})(RL||(R9.ShowDocumentRequest=RL={}))});var LL=ae(k9=>{"use strict";Object.defineProperty(k9,"__esModule",{value:!0});k9.LinkedEditingRangeRequest=void 0;var NL=Ar(),DL;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=NL.MessageDirection.clientToServer,e.type=new NL.ProtocolRequestType(e.method)})(DL||(k9.LinkedEditingRangeRequest=DL={}))});var $L=ae(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.WillDeleteFilesRequest=Ci.DidDeleteFilesNotification=Ci.DidRenameFilesNotification=Ci.WillRenameFilesRequest=Ci.DidCreateFilesNotification=Ci.WillCreateFilesRequest=Ci.FileOperationPatternKind=void 0;var to=Ar(),BL;(function(e){e.file="file",e.folder="folder"})(BL||(Ci.FileOperationPatternKind=BL={}));var OL;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolRequestType(e.method)})(OL||(Ci.WillCreateFilesRequest=OL={}));var FL;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolNotificationType(e.method)})(FL||(Ci.DidCreateFilesNotification=FL={}));var ML;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolRequestType(e.method)})(ML||(Ci.WillRenameFilesRequest=ML={}));var UL;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolNotificationType(e.method)})(UL||(Ci.DidRenameFilesNotification=UL={}));var qL;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolNotificationType(e.method)})(qL||(Ci.DidDeleteFilesNotification=qL={}));var jL;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=to.MessageDirection.clientToServer,e.type=new to.ProtocolRequestType(e.method)})(jL||(Ci.WillDeleteFilesRequest=jL={}))});var WL=ae(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.MonikerRequest=bc.MonikerKind=bc.UniquenessLevel=void 0;var HL=Ar(),VL;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(VL||(bc.UniquenessLevel=VL={}));var zL;(function(e){e.$import="import",e.$export="export",e.local="local"})(zL||(bc.MonikerKind=zL={}));var KL;(function(e){e.method="textDocument/moniker",e.messageDirection=HL.MessageDirection.clientToServer,e.type=new HL.ProtocolRequestType(e.method)})(KL||(bc.MonikerRequest=KL={}))});var XL=ae(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.TypeHierarchySubtypesRequest=Cc.TypeHierarchySupertypesRequest=Cc.TypeHierarchyPrepareRequest=void 0;var f3=Ar(),GL;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=f3.MessageDirection.clientToServer,e.type=new f3.ProtocolRequestType(e.method)})(GL||(Cc.TypeHierarchyPrepareRequest=GL={}));var YL;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=f3.MessageDirection.clientToServer,e.type=new f3.ProtocolRequestType(e.method)})(YL||(Cc.TypeHierarchySupertypesRequest=YL={}));var JL;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=f3.MessageDirection.clientToServer,e.type=new f3.ProtocolRequestType(e.method)})(JL||(Cc.TypeHierarchySubtypesRequest=JL={}))});var eB=ae(c3=>{"use strict";Object.defineProperty(c3,"__esModule",{value:!0});c3.InlineValueRefreshRequest=c3.InlineValueRequest=void 0;var N9=Ar(),QL;(function(e){e.method="textDocument/inlineValue",e.messageDirection=N9.MessageDirection.clientToServer,e.type=new N9.ProtocolRequestType(e.method)})(QL||(c3.InlineValueRequest=QL={}));var ZL;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=N9.MessageDirection.serverToClient,e.type=new N9.ProtocolRequestType0(e.method)})(ZL||(c3.InlineValueRefreshRequest=ZL={}))});var iB=ae(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.InlayHintRefreshRequest=Tc.InlayHintResolveRequest=Tc.InlayHintRequest=void 0;var u3=Ar(),tB;(function(e){e.method="textDocument/inlayHint",e.messageDirection=u3.MessageDirection.clientToServer,e.type=new u3.ProtocolRequestType(e.method)})(tB||(Tc.InlayHintRequest=tB={}));var rB;(function(e){e.method="inlayHint/resolve",e.messageDirection=u3.MessageDirection.clientToServer,e.type=new u3.ProtocolRequestType(e.method)})(rB||(Tc.InlayHintResolveRequest=rB={}));var nB;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=u3.MessageDirection.serverToClient,e.type=new u3.ProtocolRequestType0(e.method)})(nB||(Tc.InlayHintRefreshRequest=nB={}))});var uB=ae(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.DiagnosticRefreshRequest=ro.WorkspaceDiagnosticRequest=ro.DocumentDiagnosticRequest=ro.DocumentDiagnosticReportKind=ro.DiagnosticServerCancellationData=void 0;var cB=Lu(),dX=_9(),d3=Ar(),sB;(function(e){function t(r){let n=r;return n&&dX.boolean(n.retriggerRequest)}s(t,"is"),e.is=t})(sB||(ro.DiagnosticServerCancellationData=sB={}));var oB;(function(e){e.Full="full",e.Unchanged="unchanged"})(oB||(ro.DocumentDiagnosticReportKind=oB={}));var aB;(function(e){e.method="textDocument/diagnostic",e.messageDirection=d3.MessageDirection.clientToServer,e.type=new d3.ProtocolRequestType(e.method),e.partialResult=new cB.ProgressType})(aB||(ro.DocumentDiagnosticRequest=aB={}));var lB;(function(e){e.method="workspace/diagnostic",e.messageDirection=d3.MessageDirection.clientToServer,e.type=new d3.ProtocolRequestType(e.method),e.partialResult=new cB.ProgressType})(lB||(ro.WorkspaceDiagnosticRequest=lB={}));var fB;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=d3.MessageDirection.serverToClient,e.type=new d3.ProtocolRequestType0(e.method)})(fB||(ro.DiagnosticRefreshRequest=fB={}))});var vB=ae(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.DidCloseNotebookDocumentNotification=jr.DidSaveNotebookDocumentNotification=jr.DidChangeNotebookDocumentNotification=jr.NotebookCellArrayChange=jr.DidOpenNotebookDocumentNotification=jr.NotebookDocumentSyncRegistrationType=jr.NotebookDocument=jr.NotebookCell=jr.ExecutionSummary=jr.NotebookCellKind=void 0;var Rh=x9(),zo=_9(),Na=Ar(),zC;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(zC||(jr.NotebookCellKind=zC={}));var KC;(function(e){function t(i,o){let a={executionOrder:i};return(o===!0||o===!1)&&(a.success=o),a}s(t,"create"),e.create=t;function r(i){let o=i;return zo.objectLiteral(o)&&Rh.uinteger.is(o.executionOrder)&&(o.success===void 0||zo.boolean(o.success))}s(r,"is"),e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}s(n,"equals"),e.equals=n})(KC||(jr.ExecutionSummary=KC={}));var D9;(function(e){function t(o,a){return{kind:o,document:a}}s(t,"create"),e.create=t;function r(o){let a=o;return zo.objectLiteral(a)&&zC.is(a.kind)&&Rh.DocumentUri.is(a.document)&&(a.metadata===void 0||zo.objectLiteral(a.metadata))}s(r,"is"),e.is=r;function n(o,a){let l=new Set;return o.document!==a.document&&l.add("document"),o.kind!==a.kind&&l.add("kind"),o.executionSummary!==a.executionSummary&&l.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!i(o.metadata,a.metadata)&&l.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!KC.equals(o.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}s(n,"diff"),e.diff=n;function i(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let l=Array.isArray(o),f=Array.isArray(a);if(l!==f)return!1;if(l&&f){if(o.length!==a.length)return!1;for(let c=0;c<o.length;c++)if(!i(o[c],a[c]))return!1}if(zo.objectLiteral(o)&&zo.objectLiteral(a)){let c=Object.keys(o),u=Object.keys(a);if(c.length!==u.length||(c.sort(),u.sort(),!i(c,u)))return!1;for(let d=0;d<c.length;d++){let g=c[d];if(!i(o[g],a[g]))return!1}}return!0}s(i,"equalsMetadata")})(D9||(jr.NotebookCell=D9={}));var dB;(function(e){function t(n,i,o,a){return{uri:n,notebookType:i,version:o,cells:a}}s(t,"create"),e.create=t;function r(n){let i=n;return zo.objectLiteral(i)&&zo.string(i.uri)&&Rh.integer.is(i.version)&&zo.typedArray(i.cells,D9.is)}s(r,"is"),e.is=r})(dB||(jr.NotebookDocument=dB={}));var h3;(function(e){e.method="notebookDocument/sync",e.messageDirection=Na.MessageDirection.clientToServer,e.type=new Na.RegistrationType(e.method)})(h3||(jr.NotebookDocumentSyncRegistrationType=h3={}));var hB;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Na.MessageDirection.clientToServer,e.type=new Na.ProtocolNotificationType(e.method),e.registrationMethod=h3.method})(hB||(jr.DidOpenNotebookDocumentNotification=hB={}));var mB;(function(e){function t(n){let i=n;return zo.objectLiteral(i)&&Rh.uinteger.is(i.start)&&Rh.uinteger.is(i.deleteCount)&&(i.cells===void 0||zo.typedArray(i.cells,D9.is))}s(t,"is"),e.is=t;function r(n,i,o){let a={start:n,deleteCount:i};return o!==void 0&&(a.cells=o),a}s(r,"create"),e.create=r})(mB||(jr.NotebookCellArrayChange=mB={}));var gB;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Na.MessageDirection.clientToServer,e.type=new Na.ProtocolNotificationType(e.method),e.registrationMethod=h3.method})(gB||(jr.DidChangeNotebookDocumentNotification=gB={}));var pB;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Na.MessageDirection.clientToServer,e.type=new Na.ProtocolNotificationType(e.method),e.registrationMethod=h3.method})(pB||(jr.DidSaveNotebookDocumentNotification=pB={}));var yB;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Na.MessageDirection.clientToServer,e.type=new Na.ProtocolNotificationType(e.method),e.registrationMethod=h3.method})(yB||(jr.DidCloseNotebookDocumentNotification=yB={}))});var bB=ae(L9=>{"use strict";Object.defineProperty(L9,"__esModule",{value:!0});L9.InlineCompletionRequest=void 0;var xB=Ar(),_B;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=xB.MessageDirection.clientToServer,e.type=new xB.ProtocolRequestType(e.method)})(_B||(L9.InlineCompletionRequest=_B={}))});var LO=ae(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.WorkspaceSymbolRequest=J.CodeActionResolveRequest=J.CodeActionRequest=J.DocumentSymbolRequest=J.DocumentHighlightRequest=J.ReferencesRequest=J.DefinitionRequest=J.SignatureHelpRequest=J.SignatureHelpTriggerKind=J.HoverRequest=J.CompletionResolveRequest=J.CompletionRequest=J.CompletionTriggerKind=J.PublishDiagnosticsNotification=J.WatchKind=J.RelativePattern=J.FileChangeType=J.DidChangeWatchedFilesNotification=J.WillSaveTextDocumentWaitUntilRequest=J.WillSaveTextDocumentNotification=J.TextDocumentSaveReason=J.DidSaveTextDocumentNotification=J.DidCloseTextDocumentNotification=J.DidChangeTextDocumentNotification=J.TextDocumentContentChangeEvent=J.DidOpenTextDocumentNotification=J.TextDocumentSyncKind=J.TelemetryEventNotification=J.LogMessageNotification=J.ShowMessageRequest=J.ShowMessageNotification=J.MessageType=J.DidChangeConfigurationNotification=J.ExitNotification=J.ShutdownRequest=J.InitializedNotification=J.InitializeErrorCodes=J.InitializeRequest=J.WorkDoneProgressOptions=J.TextDocumentRegistrationOptions=J.StaticRegistrationOptions=J.PositionEncodingKind=J.FailureHandlingKind=J.ResourceOperationKind=J.UnregistrationRequest=J.RegistrationRequest=J.DocumentSelector=J.NotebookCellTextDocumentFilter=J.NotebookDocumentFilter=J.TextDocumentFilter=void 0;J.MonikerRequest=J.MonikerKind=J.UniquenessLevel=J.WillDeleteFilesRequest=J.DidDeleteFilesNotification=J.WillRenameFilesRequest=J.DidRenameFilesNotification=J.WillCreateFilesRequest=J.DidCreateFilesNotification=J.FileOperationPatternKind=J.LinkedEditingRangeRequest=J.ShowDocumentRequest=J.SemanticTokensRegistrationType=J.SemanticTokensRefreshRequest=J.SemanticTokensRangeRequest=J.SemanticTokensDeltaRequest=J.SemanticTokensRequest=J.TokenFormat=J.CallHierarchyPrepareRequest=J.CallHierarchyOutgoingCallsRequest=J.CallHierarchyIncomingCallsRequest=J.WorkDoneProgressCancelNotification=J.WorkDoneProgressCreateRequest=J.WorkDoneProgress=J.SelectionRangeRequest=J.DeclarationRequest=J.FoldingRangeRefreshRequest=J.FoldingRangeRequest=J.ColorPresentationRequest=J.DocumentColorRequest=J.ConfigurationRequest=J.DidChangeWorkspaceFoldersNotification=J.WorkspaceFoldersRequest=J.TypeDefinitionRequest=J.ImplementationRequest=J.ApplyWorkspaceEditRequest=J.ExecuteCommandRequest=J.PrepareRenameRequest=J.RenameRequest=J.PrepareSupportDefaultBehavior=J.DocumentOnTypeFormattingRequest=J.DocumentRangesFormattingRequest=J.DocumentRangeFormattingRequest=J.DocumentFormattingRequest=J.DocumentLinkResolveRequest=J.DocumentLinkRequest=J.CodeLensRefreshRequest=J.CodeLensResolveRequest=J.CodeLensRequest=J.WorkspaceSymbolResolveRequest=void 0;J.InlineCompletionRequest=J.DidCloseNotebookDocumentNotification=J.DidSaveNotebookDocumentNotification=J.DidChangeNotebookDocumentNotification=J.NotebookCellArrayChange=J.DidOpenNotebookDocumentNotification=J.NotebookDocumentSyncRegistrationType=J.NotebookDocument=J.NotebookCell=J.ExecutionSummary=J.NotebookCellKind=J.DiagnosticRefreshRequest=J.WorkspaceDiagnosticRequest=J.DocumentDiagnosticRequest=J.DocumentDiagnosticReportKind=J.DiagnosticServerCancellationData=J.InlayHintRefreshRequest=J.InlayHintResolveRequest=J.InlayHintRequest=J.InlineValueRefreshRequest=J.InlineValueRequest=J.TypeHierarchySupertypesRequest=J.TypeHierarchySubtypesRequest=J.TypeHierarchyPrepareRequest=void 0;var at=Ar(),CB=x9(),In=_9(),hX=WD();Object.defineProperty(J,"ImplementationRequest",{enumerable:!0,get:function(){return hX.ImplementationRequest}});var mX=JD();Object.defineProperty(J,"TypeDefinitionRequest",{enumerable:!0,get:function(){return mX.TypeDefinitionRequest}});var RO=ZD();Object.defineProperty(J,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return RO.WorkspaceFoldersRequest}});Object.defineProperty(J,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return RO.DidChangeWorkspaceFoldersNotification}});var gX=rL();Object.defineProperty(J,"ConfigurationRequest",{enumerable:!0,get:function(){return gX.ConfigurationRequest}});var kO=sL();Object.defineProperty(J,"DocumentColorRequest",{enumerable:!0,get:function(){return kO.DocumentColorRequest}});Object.defineProperty(J,"ColorPresentationRequest",{enumerable:!0,get:function(){return kO.ColorPresentationRequest}});var NO=lL();Object.defineProperty(J,"FoldingRangeRequest",{enumerable:!0,get:function(){return NO.FoldingRangeRequest}});Object.defineProperty(J,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return NO.FoldingRangeRefreshRequest}});var pX=uL();Object.defineProperty(J,"DeclarationRequest",{enumerable:!0,get:function(){return pX.DeclarationRequest}});var yX=mL();Object.defineProperty(J,"SelectionRangeRequest",{enumerable:!0,get:function(){return yX.SelectionRangeRequest}});var XC=vL();Object.defineProperty(J,"WorkDoneProgress",{enumerable:!0,get:function(){return XC.WorkDoneProgress}});Object.defineProperty(J,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return XC.WorkDoneProgressCreateRequest}});Object.defineProperty(J,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return XC.WorkDoneProgressCancelNotification}});var QC=CL();Object.defineProperty(J,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return QC.CallHierarchyIncomingCallsRequest}});Object.defineProperty(J,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return QC.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(J,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return QC.CallHierarchyPrepareRequest}});var m3=AL();Object.defineProperty(J,"TokenFormat",{enumerable:!0,get:function(){return m3.TokenFormat}});Object.defineProperty(J,"SemanticTokensRequest",{enumerable:!0,get:function(){return m3.SemanticTokensRequest}});Object.defineProperty(J,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m3.SemanticTokensDeltaRequest}});Object.defineProperty(J,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m3.SemanticTokensRangeRequest}});Object.defineProperty(J,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m3.SemanticTokensRefreshRequest}});Object.defineProperty(J,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m3.SemanticTokensRegistrationType}});var vX=kL();Object.defineProperty(J,"ShowDocumentRequest",{enumerable:!0,get:function(){return vX.ShowDocumentRequest}});var xX=LL();Object.defineProperty(J,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return xX.LinkedEditingRangeRequest}});var Bu=$L();Object.defineProperty(J,"FileOperationPatternKind",{enumerable:!0,get:function(){return Bu.FileOperationPatternKind}});Object.defineProperty(J,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Bu.DidCreateFilesNotification}});Object.defineProperty(J,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Bu.WillCreateFilesRequest}});Object.defineProperty(J,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Bu.DidRenameFilesNotification}});Object.defineProperty(J,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Bu.WillRenameFilesRequest}});Object.defineProperty(J,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Bu.DidDeleteFilesNotification}});Object.defineProperty(J,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Bu.WillDeleteFilesRequest}});var ZC=WL();Object.defineProperty(J,"UniquenessLevel",{enumerable:!0,get:function(){return ZC.UniquenessLevel}});Object.defineProperty(J,"MonikerKind",{enumerable:!0,get:function(){return ZC.MonikerKind}});Object.defineProperty(J,"MonikerRequest",{enumerable:!0,get:function(){return ZC.MonikerRequest}});var eT=XL();Object.defineProperty(J,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return eT.TypeHierarchyPrepareRequest}});Object.defineProperty(J,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return eT.TypeHierarchySubtypesRequest}});Object.defineProperty(J,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return eT.TypeHierarchySupertypesRequest}});var DO=eB();Object.defineProperty(J,"InlineValueRequest",{enumerable:!0,get:function(){return DO.InlineValueRequest}});Object.defineProperty(J,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return DO.InlineValueRefreshRequest}});var tT=iB();Object.defineProperty(J,"InlayHintRequest",{enumerable:!0,get:function(){return tT.InlayHintRequest}});Object.defineProperty(J,"InlayHintResolveRequest",{enumerable:!0,get:function(){return tT.InlayHintResolveRequest}});Object.defineProperty(J,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return tT.InlayHintRefreshRequest}});var kh=uB();Object.defineProperty(J,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return kh.DiagnosticServerCancellationData}});Object.defineProperty(J,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return kh.DocumentDiagnosticReportKind}});Object.defineProperty(J,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return kh.DocumentDiagnosticRequest}});Object.defineProperty(J,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return kh.WorkspaceDiagnosticRequest}});Object.defineProperty(J,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return kh.DiagnosticRefreshRequest}});var Da=vB();Object.defineProperty(J,"NotebookCellKind",{enumerable:!0,get:function(){return Da.NotebookCellKind}});Object.defineProperty(J,"ExecutionSummary",{enumerable:!0,get:function(){return Da.ExecutionSummary}});Object.defineProperty(J,"NotebookCell",{enumerable:!0,get:function(){return Da.NotebookCell}});Object.defineProperty(J,"NotebookDocument",{enumerable:!0,get:function(){return Da.NotebookDocument}});Object.defineProperty(J,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Da.NotebookDocumentSyncRegistrationType}});Object.defineProperty(J,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Da.DidOpenNotebookDocumentNotification}});Object.defineProperty(J,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Da.NotebookCellArrayChange}});Object.defineProperty(J,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Da.DidChangeNotebookDocumentNotification}});Object.defineProperty(J,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Da.DidSaveNotebookDocumentNotification}});Object.defineProperty(J,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Da.DidCloseNotebookDocumentNotification}});var _X=bB();Object.defineProperty(J,"InlineCompletionRequest",{enumerable:!0,get:function(){return _X.InlineCompletionRequest}});var WC;(function(e){function t(r){let n=r;return In.string(n)||In.string(n.language)||In.string(n.scheme)||In.string(n.pattern)}s(t,"is"),e.is=t})(WC||(J.TextDocumentFilter=WC={}));var GC;(function(e){function t(r){let n=r;return In.objectLiteral(n)&&(In.string(n.notebookType)||In.string(n.scheme)||In.string(n.pattern))}s(t,"is"),e.is=t})(GC||(J.NotebookDocumentFilter=GC={}));var YC;(function(e){function t(r){let n=r;return In.objectLiteral(n)&&(In.string(n.notebook)||GC.is(n.notebook))&&(n.language===void 0||In.string(n.language))}s(t,"is"),e.is=t})(YC||(J.NotebookCellTextDocumentFilter=YC={}));var JC;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!In.string(n)&&!WC.is(n)&&!YC.is(n))return!1;return!0}s(t,"is"),e.is=t})(JC||(J.DocumentSelector=JC={}));var TB;(function(e){e.method="client/registerCapability",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(TB||(J.RegistrationRequest=TB={}));var EB;(function(e){e.method="client/unregisterCapability",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(EB||(J.UnregistrationRequest=EB={}));var SB;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(SB||(J.ResourceOperationKind=SB={}));var wB;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(wB||(J.FailureHandlingKind=wB={}));var IB;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(IB||(J.PositionEncodingKind=IB={}));var AB;(function(e){function t(r){let n=r;return n&&In.string(n.id)&&n.id.length>0}s(t,"hasId"),e.hasId=t})(AB||(J.StaticRegistrationOptions=AB={}));var PB;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||JC.is(n.documentSelector))}s(t,"is"),e.is=t})(PB||(J.TextDocumentRegistrationOptions=PB={}));var RB;(function(e){function t(n){let i=n;return In.objectLiteral(i)&&(i.workDoneProgress===void 0||In.boolean(i.workDoneProgress))}s(t,"is"),e.is=t;function r(n){let i=n;return i&&In.boolean(i.workDoneProgress)}s(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(RB||(J.WorkDoneProgressOptions=RB={}));var kB;(function(e){e.method="initialize",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(kB||(J.InitializeRequest=kB={}));var NB;(function(e){e.unknownProtocolVersion=1})(NB||(J.InitializeErrorCodes=NB={}));var DB;(function(e){e.method="initialized",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(DB||(J.InitializedNotification=DB={}));var LB;(function(e){e.method="shutdown",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType0(e.method)})(LB||(J.ShutdownRequest=LB={}));var BB;(function(e){e.method="exit",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType0(e.method)})(BB||(J.ExitNotification=BB={}));var OB;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(OB||(J.DidChangeConfigurationNotification=OB={}));var FB;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(FB||(J.MessageType=FB={}));var MB;(function(e){e.method="window/showMessage",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(MB||(J.ShowMessageNotification=MB={}));var UB;(function(e){e.method="window/showMessageRequest",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType(e.method)})(UB||(J.ShowMessageRequest=UB={}));var qB;(function(e){e.method="window/logMessage",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(qB||(J.LogMessageNotification=qB={}));var jB;(function(e){e.method="telemetry/event",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(jB||(J.TelemetryEventNotification=jB={}));var $B;(function(e){e.None=0,e.Full=1,e.Incremental=2})($B||(J.TextDocumentSyncKind=$B={}));var HB;(function(e){e.method="textDocument/didOpen",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(HB||(J.DidOpenTextDocumentNotification=HB={}));var VB;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}s(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}s(r,"isFull"),e.isFull=r})(VB||(J.TextDocumentContentChangeEvent=VB={}));var zB;(function(e){e.method="textDocument/didChange",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(zB||(J.DidChangeTextDocumentNotification=zB={}));var KB;(function(e){e.method="textDocument/didClose",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(KB||(J.DidCloseTextDocumentNotification=KB={}));var WB;(function(e){e.method="textDocument/didSave",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(WB||(J.DidSaveTextDocumentNotification=WB={}));var GB;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(GB||(J.TextDocumentSaveReason=GB={}));var YB;(function(e){e.method="textDocument/willSave",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(YB||(J.WillSaveTextDocumentNotification=YB={}));var JB;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(JB||(J.WillSaveTextDocumentWaitUntilRequest=JB={}));var XB;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method)})(XB||(J.DidChangeWatchedFilesNotification=XB={}));var QB;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(QB||(J.FileChangeType=QB={}));var ZB;(function(e){function t(r){let n=r;return In.objectLiteral(n)&&(CB.URI.is(n.baseUri)||CB.WorkspaceFolder.is(n.baseUri))&&In.string(n.pattern)}s(t,"is"),e.is=t})(ZB||(J.RelativePattern=ZB={}));var eO;(function(e){e.Create=1,e.Change=2,e.Delete=4})(eO||(J.WatchKind=eO={}));var tO;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolNotificationType(e.method)})(tO||(J.PublishDiagnosticsNotification=tO={}));var rO;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(rO||(J.CompletionTriggerKind=rO={}));var nO;(function(e){e.method="textDocument/completion",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(nO||(J.CompletionRequest=nO={}));var iO;(function(e){e.method="completionItem/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(iO||(J.CompletionResolveRequest=iO={}));var sO;(function(e){e.method="textDocument/hover",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(sO||(J.HoverRequest=sO={}));var oO;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(oO||(J.SignatureHelpTriggerKind=oO={}));var aO;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(aO||(J.SignatureHelpRequest=aO={}));var lO;(function(e){e.method="textDocument/definition",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(lO||(J.DefinitionRequest=lO={}));var fO;(function(e){e.method="textDocument/references",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(fO||(J.ReferencesRequest=fO={}));var cO;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(cO||(J.DocumentHighlightRequest=cO={}));var uO;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(uO||(J.DocumentSymbolRequest=uO={}));var dO;(function(e){e.method="textDocument/codeAction",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(dO||(J.CodeActionRequest=dO={}));var hO;(function(e){e.method="codeAction/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(hO||(J.CodeActionResolveRequest=hO={}));var mO;(function(e){e.method="workspace/symbol",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(mO||(J.WorkspaceSymbolRequest=mO={}));var gO;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(gO||(J.WorkspaceSymbolResolveRequest=gO={}));var pO;(function(e){e.method="textDocument/codeLens",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(pO||(J.CodeLensRequest=pO={}));var yO;(function(e){e.method="codeLens/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(yO||(J.CodeLensResolveRequest=yO={}));var vO;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType0(e.method)})(vO||(J.CodeLensRefreshRequest=vO={}));var xO;(function(e){e.method="textDocument/documentLink",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(xO||(J.DocumentLinkRequest=xO={}));var _O;(function(e){e.method="documentLink/resolve",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(_O||(J.DocumentLinkResolveRequest=_O={}));var bO;(function(e){e.method="textDocument/formatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(bO||(J.DocumentFormattingRequest=bO={}));var CO;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(CO||(J.DocumentRangeFormattingRequest=CO={}));var TO;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(TO||(J.DocumentRangesFormattingRequest=TO={}));var EO;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(EO||(J.DocumentOnTypeFormattingRequest=EO={}));var SO;(function(e){e.Identifier=1})(SO||(J.PrepareSupportDefaultBehavior=SO={}));var wO;(function(e){e.method="textDocument/rename",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(wO||(J.RenameRequest=wO={}));var IO;(function(e){e.method="textDocument/prepareRename",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(IO||(J.PrepareRenameRequest=IO={}));var AO;(function(e){e.method="workspace/executeCommand",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolRequestType(e.method)})(AO||(J.ExecuteCommandRequest=AO={}));var PO;(function(e){e.method="workspace/applyEdit",e.messageDirection=at.MessageDirection.serverToClient,e.type=new at.ProtocolRequestType("workspace/applyEdit")})(PO||(J.ApplyWorkspaceEditRequest=PO={}))});var OO=ae(B9=>{"use strict";Object.defineProperty(B9,"__esModule",{value:!0});B9.createProtocolConnection=void 0;var BO=Lu();function bX(e,t,r,n){return BO.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,BO.createMessageConnection)(e,t,r,n)}s(bX,"createProtocolConnection");B9.createProtocolConnection=bX});var MO=ae(ns=>{"use strict";var CX=ns&&ns.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O9=ns&&ns.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&CX(t,e,r)};Object.defineProperty(ns,"__esModule",{value:!0});ns.LSPErrorCodes=ns.createProtocolConnection=void 0;O9(Lu(),ns);O9(x9(),ns);O9(Ar(),ns);O9(LO(),ns);var TX=OO();Object.defineProperty(ns,"createProtocolConnection",{enumerable:!0,get:function(){return TX.createProtocolConnection}});var FO;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(FO||(ns.LSPErrorCodes=FO={}))});var qO=ae(La=>{"use strict";var EX=La&&La.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UO=La&&La.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EX(t,e,r)};Object.defineProperty(La,"__esModule",{value:!0});La.createProtocolConnection=void 0;var SX=LC();UO(LC(),La);UO(MO(),La);function wX(e,t,r,n){return(0,SX.createMessageConnection)(e,t,r,n)}s(wX,"createProtocolConnection");La.createProtocolConnection=wX});var jO=ae((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=s((a,l)=>{throw l},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(a){return Module.locateFile?Module.locateFile(a,scriptDirectory):scriptDirectory+a}s(locateFile,"locateFile");function logExceptionOnExit(a){a instanceof ExitStatus||err("exiting due to exception: "+a)}if(s(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=s((a,l)=>(a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFileSync(a,l?void 0:"utf8")),"read_"),readBinary=s(a=>{var l=read_(a,!0);return l.buffer||(l=new Uint8Array(l)),l},"readBinary"),readAsync=s((a,l,f)=>{a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFile(a,function(c,u){c?f(c):l(u.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=s((a,l)=>{if(keepRuntimeAlive())throw process.exitCode=a,l;logExceptionOnExit(l),process.exit(a)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=s(a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.send(null),l.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=s(a=>{var l=new XMLHttpRequest;return l.open("GET",a,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)},"readBinary")),readAsync=s((a,l,f)=>{var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?l(c.response):f()},c.onerror=f,c.send(null)},"readAsync"),setWindowTitle=s(a=>document.title=a,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(a,l,f){for(var c=l+f,u=l;a[u]&&!(u>=c);)++u;if(u-l>16&&a.buffer&&UTF8Decoder)return UTF8Decoder.decode(a.subarray(l,u));for(var d="";l<u;){var g=a[l++];if(128&g){var p=63&a[l++];if((224&g)!=192){var y=63&a[l++];if((g=(240&g)==224?(15&g)<<12|p<<6|y:(7&g)<<18|p<<12|y<<6|63&a[l++])<65536)d+=String.fromCharCode(g);else{var _=g-65536;d+=String.fromCharCode(55296|_>>10,56320|1023&_)}}else d+=String.fromCharCode((31&g)<<6|p)}else d+=String.fromCharCode(g)}return d}s(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(a,l){return a?UTF8ArrayToString(HEAPU8,a,l):""}s(UTF8ToString,"UTF8ToString");function stringToUTF8Array(a,l,f,c){if(!(c>0))return 0;for(var u=f,d=f+c-1,g=0;g<a.length;++g){var p=a.charCodeAt(g);if(p>=55296&&p<=57343&&(p=65536+((1023&p)<<10)|1023&a.charCodeAt(++g)),p<=127){if(f>=d)break;l[f++]=p}else if(p<=2047){if(f+1>=d)break;l[f++]=192|p>>6,l[f++]=128|63&p}else if(p<=65535){if(f+2>=d)break;l[f++]=224|p>>12,l[f++]=128|p>>6&63,l[f++]=128|63&p}else{if(f+3>=d)break;l[f++]=240|p>>18,l[f++]=128|p>>12&63,l[f++]=128|p>>6&63,l[f++]=128|63&p}}return l[f]=0,f-u}s(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(a,l,f){return stringToUTF8Array(a,HEAPU8,l,f)}s(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(a){for(var l=0,f=0;f<a.length;++f){var c=a.charCodeAt(f);c<=127?l++:c<=2047?l+=2:c>=55296&&c<=57343?(l+=4,++f):l+=3}return l}s(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(a){buffer=a,Module.HEAP8=HEAP8=new Int8Array(a),Module.HEAP16=HEAP16=new Int16Array(a),Module.HEAP32=HEAP32=new Int32Array(a),Module.HEAPU8=HEAPU8=new Uint8Array(a),Module.HEAPU16=HEAPU16=new Uint16Array(a),Module.HEAPU32=HEAPU32=new Uint32Array(a),Module.HEAPF32=HEAPF32=new Float32Array(a),Module.HEAPF64=HEAPF64=new Float64Array(a)}s(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}s(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}s(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}s(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}s(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}s(postRun,"postRun");function addOnPreRun(a){__ATPRERUN__.unshift(a)}s(addOnPreRun,"addOnPreRun");function addOnInit(a){__ATINIT__.unshift(a)}s(addOnInit,"addOnInit");function addOnPostRun(a){__ATPOSTRUN__.unshift(a)}s(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(a){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}s(addRunDependency,"addRunDependency");function removeRunDependency(a){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var l=dependenciesFulfilled;dependenciesFulfilled=null,l()}}s(removeRunDependency,"removeRunDependency");function abort(a){throw Module.onAbort&&Module.onAbort(a),err(a="Aborted("+a+")"),ABORT=!0,EXITSTATUS=1,a+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(a)}s(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(a){return a.startsWith(dataURIPrefix)}s(isDataURI,"isDataURI");function isFileURI(a){return a.startsWith("file://")}s(isFileURI,"isFileURI");function getBinary(a){try{if(a==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(a);throw"both async and sync fetching of the wasm failed"}catch(l){abort(l)}}s(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return a.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(a,l){readAsync(wasmBinaryFile,function(f){a(new Uint8Array(f))},l)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}s(getBinaryPromise,"getBinaryPromise");function createWasm(){var a={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function l(u,d){var g=u.exports;g=relocateExports(g,1024);var p=getDylinkMetadata(d);p.neededDynlibs&&(dynamicLibraries=p.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(g,"main"),Module.asm=g,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}s(l,"t");function f(u){l(u.instance,u.module)}s(f,"r");function c(u){return getBinaryPromise().then(function(d){return WebAssembly.instantiate(d,a)}).then(function(d){return d}).then(u,function(d){err("failed to asynchronously prepare wasm: "+d),abort(d)})}if(s(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(a,l)}catch(u){return err("Module.instantiateWasm callback failed with error: "+u),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(f):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(u){return WebAssembly.instantiateStreaming(u,a).then(f,function(d){return err("wasm streaming compile failed: "+d),err("falling back to ArrayBuffer instantiation"),c(f)})}),{}}s(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}s(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(a,l){var f=GOT[l];return f||(f=GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(l)||(f.required=!0),f}};function callRuntimeCallbacks(a){for(;a.length>0;)a.shift()(Module)}s(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(a){var l=0,f=0;function c(){for(var Q=0,te=1;;){var Ce=a[l++];if(Q+=(127&Ce)*te,te*=128,!(128&Ce))break}return Q}s(c,"_");function u(){var Q=c();return UTF8ArrayToString(a,(l+=Q)-Q,Q)}s(u,"n");function d(Q,te){if(Q)throw new Error(te)}s(d,"s");var g="dylink.0";if(a instanceof WebAssembly.Module){var p=WebAssembly.Module.customSections(a,g);p.length===0&&(g="dylink",p=WebAssembly.Module.customSections(a,g)),d(p.length===0,"need dylink section"),f=(a=new Uint8Array(p[0])).length}else{d(new Uint32Array(new Uint8Array(a.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),d(a[8]!==0,"need the dylink section to be first"),l=9;var y=c();f=l+y,g=u()}var _={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(g=="dylink"){_.memorySize=c(),_.memoryAlign=c(),_.tableSize=c(),_.tableAlign=c();for(var S=c(),T=0;T<S;++T){var I=u();_.neededDynlibs.push(I)}}else for(d(g!=="dylink.0");l<f;){var P=a[l++],U=c();if(P===1)_.memorySize=c(),_.memoryAlign=c(),_.tableSize=c(),_.tableAlign=c();else if(P===2)for(S=c(),T=0;T<S;++T)I=u(),_.neededDynlibs.push(I);else if(P===3)for(var k=c();k--;){var L=u();256&c()&&_.tlsExports.add(L)}else if(P===4)for(k=c();k--;)u(),L=u(),(3&c())==1&&_.weakImports.add(L);else l+=U}return _}s(getDylinkMetadata,"getDylinkMetadata");function getValue(a,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":return HEAP8[a>>0];case"i16":return HEAP16[a>>1];case"i32":case"i64":return HEAP32[a>>2];case"float":return HEAPF32[a>>2];case"double":return HEAPF64[a>>3];case"*":return HEAPU32[a>>2];default:abort("invalid type for getValue: "+l)}return null}s(getValue,"getValue");function asmjsMangle(a){return a.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(a)?a:"_"+a}s(asmjsMangle,"asmjsMangle");function mergeLibSymbols(a,l){for(var f in a)if(a.hasOwnProperty(f)){asmLibraryArg.hasOwnProperty(f)||(asmLibraryArg[f]=a[f]);var c=asmjsMangle(f);Module.hasOwnProperty(c)||(Module[c]=a[f]),f=="__main_argc_argv"&&(Module._main=a[f])}}s(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(a,l,f){var c=Module["dynCall_"+a];return f&&f.length?c.apply(null,[l].concat(f)):c.call(null,l)}s(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(a){var l=wasmTableMirror[a];return l||(a>=wasmTableMirror.length&&(wasmTableMirror.length=a+1),wasmTableMirror[a]=l=wasmTable.get(a)),l}s(getWasmTableEntry,"getWasmTableEntry");function dynCall(a,l,f){return a.includes("j")?dynCallLegacy(a,l,f):getWasmTableEntry(l).apply(null,f)}s(dynCall,"dynCall");function createInvokeFunction(a){return function(){var l=stackSave();try{return dynCall(a,arguments[0],Array.prototype.slice.call(arguments,1))}catch(f){if(stackRestore(l),f!==f+0)throw f;_setThrew(1,0)}}}s(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(a,l){return HEAPU8.fill(0,a,a+l),a}s(zeroMemory,"zeroMemory");function getMemory(a){if(runtimeInitialized)return zeroMemory(_malloc(a),a);var l=___heap_base,f=l+a+15&-16;return ___heap_base=f,GOT.__heap_base.value=f,l}s(getMemory,"getMemory");function isInternalSym(a){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(a)}s(isInternalSym,"isInternalSym");function uleb128Encode(a,l){a<128?l.push(a):l.push(a%128|128,a>>7)}s(uleb128Encode,"uleb128Encode");function sigToWasmTypes(a){for(var l={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},f={parameters:[],results:a[0]=="v"?[]:[l[a[0]]]},c=1;c<a.length;++c)f.parameters.push(l[a[c]]),a[c]==="j"&&f.parameters.push("i32");return f}s(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(a,l){var f=a.slice(0,1),c=a.slice(1),u={i:127,p:127,j:126,f:125,d:124};l.push(96),uleb128Encode(c.length,l);for(var d=0;d<c.length;++d)l.push(u[c[d]]);f=="v"?l.push(0):l.push(1,u[f])}s(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(a,l){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(l),a);var f=[1];generateFuncType(l,f);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(f.length,c),c.push.apply(c,f),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var u=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(u,{e:{f:a}}).exports.f}s(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(a,l){if(functionsInTableMap)for(var f=a;f<a+l;f++){var c=getWasmTableEntry(f);c&&functionsInTableMap.set(c,f)}}s(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(a){throw a instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":a}return wasmTable.length-1}s(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(a,l){wasmTable.set(a,l),wasmTableMirror[a]=wasmTable.get(a)}s(setWasmTableEntry,"setWasmTableEntry");function addFunction(a,l){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(a))return functionsInTableMap.get(a);var f=getEmptyTableSlot();try{setWasmTableEntry(f,a)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(f,convertJsFunctionToWasm(a,l))}return functionsInTableMap.set(a,f),f}s(addFunction,"addFunction");function updateGOT(a,l){for(var f in a)if(!isInternalSym(f)){var c=a[f];f.startsWith("orig$")&&(f=f.split("$")[1],l=!0),GOT[f]||(GOT[f]=new WebAssembly.Global({value:"i32",mutable:!0})),(l||GOT[f].value==0)&&(typeof c=="function"?GOT[f].value=addFunction(c):typeof c=="number"?GOT[f].value=c:err("unhandled export type for `"+f+"`: "+typeof c))}}s(updateGOT,"updateGOT");function relocateExports(a,l,f){var c={};for(var u in a){var d=a[u];typeof d=="object"&&(d=d.value),typeof d=="number"&&(d+=l),c[u]=d}return updateGOT(c,f),c}s(relocateExports,"relocateExports");function resolveGlobalSymbol(a,l){var f;return l&&(f=asmLibraryArg["orig$"+a]),f||(f=asmLibraryArg[a])&&f.stub&&(f=void 0),f||(f=Module[asmjsMangle(a)]),!f&&a.startsWith("invoke_")&&(f=createInvokeFunction(a.split("_")[1])),f}s(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(a,l){return Math.ceil(a/l)*l}s(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(a){var l=resolveGlobalSymbol(a,!1);return l||(l=moduleExports[a]),l}s(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(a,l){switch(l){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(l in asmLibraryArg)return asmLibraryArg[l];var f;return l in a||(a[l]=function(){return f||(f=resolveSymbol(l)),f.apply(null,arguments)}),a[l]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(s(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(s(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(a){return postInstantiation(a.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return s(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(a,l){return a.then(function(){return loadDynamicLibrary(l,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(a){loadDynamicLibrary(a,flags)}),loadModule())}s(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(a,l,f){l=l||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[a];if(c)return l.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,a)),l.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,f&&(LDSO.loadedLibsByHandle[f]=c),!l.loadAsync||Promise.resolve(!0);function u(p){if(l.fs&&l.fs.findObject(p)){var y=l.fs.readFile(p,{encoding:"binary"});return y instanceof Uint8Array||(y=new Uint8Array(y)),l.loadAsync?Promise.resolve(y):y}if(p=locateFile(p),l.loadAsync)return new Promise(function(_,S){readAsync(p,T=>_(new Uint8Array(T)),S)});if(!readBinary)throw new Error(p+": file not found, and synchronous loading of external files is not available");return readBinary(p)}s(u,"n");function d(){if(typeof preloadedWasm<"u"&&preloadedWasm[a]){var p=preloadedWasm[a];return l.loadAsync?Promise.resolve(p):p}return l.loadAsync?u(a).then(function(y){return loadWebAssemblyModule(y,l,f)}):loadWebAssemblyModule(u(a),l,f)}s(d,"s");function g(p){c.global&&mergeLibSymbols(p,a),c.module=p}return s(g,"a"),c={refcount:l.nodelete?1/0:1,name:a,module:"loading",global:l.global},LDSO.loadedLibsByName[a]=c,f&&(LDSO.loadedLibsByHandle[f]=c),l.loadAsync?d().then(function(p){return g(p),!0}):(g(d()),!0)}s(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var a in GOT)if(GOT[a].value==0){var l=resolveGlobalSymbol(a,!0);if(!l&&!GOT[a].required)continue;if(typeof l=="function")GOT[a].value=addFunction(l,l.sig);else{if(typeof l!="number")throw new Error("bad export type for `"+a+"`: "+typeof l);GOT[a].value=l}}}s(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(a,l){return a.then(function(){return loadDynamicLibrary(l,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}s(preloadDylibs,"preloadDylibs");function setValue(a,l,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":case"i8":HEAP8[a>>0]=l;break;case"i16":HEAP16[a>>1]=l;break;case"i32":HEAP32[a>>2]=l;break;case"i64":tempI64=[l>>>0,(tempDouble=l,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1];break;case"float":HEAPF32[a>>2]=l;break;case"double":HEAPF64[a>>3]=l;break;case"*":HEAPU32[a>>2]=l;break;default:abort("invalid type for setValue: "+f)}}s(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}s(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}s(_abort,"_abort");function _emscripten_date_now(){return Date.now()}s(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(a,l,f){HEAPU8.copyWithin(a,l,l+f)}s(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}s(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(a){try{return wasmMemory.grow(a-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}s(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(a){var l=HEAPU8.length;a>>>=0;var f=getHeapMax();if(a>f)return!1;for(var c=1;c<=4;c*=2){var u=l*(1+.2/c);if(u=Math.min(u,a+100663296),emscripten_realloc_buffer(Math.min(f,(d=Math.max(a,u))+((g=65536)-d%g)%g)))return!0}var d,g;return!1}s(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(a,l,f){if(PATH.isAbs(l))return l;var c;if(a===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(a).path,l.length==0){if(!f)throw new FS.ErrnoError(44);return c}return PATH.join2(c,l)},doStat:function(a,l,f){try{var c=a(l)}catch(p){if(p&&p.node&&PATH.normalize(l)!==PATH.normalize(FS.getPath(p.node)))return-54;throw p}HEAP32[f>>2]=c.dev,HEAP32[f+8>>2]=c.ino,HEAP32[f+12>>2]=c.mode,HEAPU32[f+16>>2]=c.nlink,HEAP32[f+20>>2]=c.uid,HEAP32[f+24>>2]=c.gid,HEAP32[f+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+40>>2]=tempI64[0],HEAP32[f+44>>2]=tempI64[1],HEAP32[f+48>>2]=4096,HEAP32[f+52>>2]=c.blocks;var u=c.atime.getTime(),d=c.mtime.getTime(),g=c.ctime.getTime();return tempI64=[Math.floor(u/1e3)>>>0,(tempDouble=Math.floor(u/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+56>>2]=tempI64[0],HEAP32[f+60>>2]=tempI64[1],HEAPU32[f+64>>2]=u%1e3*1e3,tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+72>>2]=tempI64[0],HEAP32[f+76>>2]=tempI64[1],HEAPU32[f+80>>2]=d%1e3*1e3,tempI64=[Math.floor(g/1e3)>>>0,(tempDouble=Math.floor(g/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+88>>2]=tempI64[0],HEAP32[f+92>>2]=tempI64[1],HEAPU32[f+96>>2]=g%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f+104>>2]=tempI64[0],HEAP32[f+108>>2]=tempI64[1],0},doMsync:function(a,l,f,c,u){if(!FS.isFile(l.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var d=HEAPU8.slice(a,a+f);FS.msync(l,d,u,f,c)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(a){return UTF8ToString(a)},getStreamFromFD:function(a){var l=FS.getStream(a);if(!l)throw new FS.ErrnoError(8);return l}};function _proc_exit(a){EXITSTATUS=a,keepRuntimeAlive()||(Module.onExit&&Module.onExit(a),ABORT=!0),quit_(a,new ExitStatus(a))}s(_proc_exit,"_proc_exit");function exitJS(a,l){EXITSTATUS=a,_proc_exit(a)}s(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(a){try{var l=SYSCALLS.getStreamFromFD(a);return FS.close(l),0}catch(f){if(typeof FS>"u"||!(f instanceof FS.ErrnoError))throw f;return f.errno}}s(_fd_close,"_fd_close");function convertI32PairToI53Checked(a,l){return l+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*l:NaN}s(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(a,l,f,c,u){try{var d=convertI32PairToI53Checked(l,f);if(isNaN(d))return 61;var g=SYSCALLS.getStreamFromFD(a);return FS.llseek(g,d,c),tempI64=[g.position>>>0,(tempDouble=g.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[u>>2]=tempI64[0],HEAP32[u+4>>2]=tempI64[1],g.getdents&&d===0&&c===0&&(g.getdents=null),0}catch(p){if(typeof FS>"u"||!(p instanceof FS.ErrnoError))throw p;return p.errno}}s(_fd_seek,"_fd_seek");function doWritev(a,l,f,c){for(var u=0,d=0;d<f;d++){var g=HEAPU32[l>>2],p=HEAPU32[l+4>>2];l+=8;var y=FS.write(a,HEAP8,g,p,c);if(y<0)return-1;u+=y,c!==void 0&&(c+=y)}return u}s(doWritev,"doWritev");function _fd_write(a,l,f,c){try{var u=doWritev(SYSCALLS.getStreamFromFD(a),l,f);return HEAPU32[c>>2]=u,0}catch(d){if(typeof FS>"u"||!(d instanceof FS.ErrnoError))throw d;return d.errno}}s(_fd_write,"_fd_write");function _tree_sitter_log_callback(a,l){if(currentLogCallback){let f=UTF8ToString(l);currentLogCallback(f,a!==0)}}s(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(a,l,f,c,u){var d=currentParseCallback(l,{row:f,column:c});typeof d=="string"?(setValue(u,d.length,"i32"),stringToUTF16(d,a,10240)):setValue(u,0,"i32")}s(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(a){if(a instanceof ExitStatus||a=="unwind")return EXITSTATUS;quit_(1,a)}s(handleException,"handleException");function allocateUTF8OnStack(a){var l=lengthBytesUTF8(a)+1,f=stackAlloc(l);return stringToUTF8Array(a,HEAP8,f,l),f}s(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(a,l,f){if(f===void 0&&(f=2147483647),f<2)return 0;for(var c=l,u=(f-=2)<2*a.length?f/2:a.length,d=0;d<u;++d){var g=a.charCodeAt(d);HEAP16[l>>1]=g,l+=2}return HEAP16[l>>1]=0,l-c}s(stringToUTF16,"stringToUTF16");function AsciiToString(a){for(var l="";;){var f=HEAPU8[a++>>0];if(!f)return l;l+=String.fromCharCode(f)}}s(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(a){var l=Module._main;if(l){(a=a||[]).unshift(thisProgram);var f=a.length,c=stackAlloc(4*(f+1)),u=c>>2;a.forEach(g=>{HEAP32[u++]=allocateUTF8OnStack(g)}),HEAP32[u]=0;try{var d=l(f,c);return exitJS(d,!0),d}catch(g){return handleException(g)}}}s(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=s(function a(){calledRun||run(),calledRun||(dependenciesFulfilled=a)},"e");var dylibsLoaded=!1;function run(a){function l(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(a),postRun()))}s(l,"t"),a=a||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),l()},1)):l()))}if(s(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(l){let f;if(l){if(l.constructor!==Language)throw new Error("Argument must be a Language");{f=l[0];let c=C._ts_language_version(f);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else f=0,l=null;return this.language=l,C._ts_parser_set_language(this[0],f),this}getLanguage(){return this.language}parse(l,f,c){if(typeof l=="string")currentParseCallback=s((y,_,S)=>l.slice(y,S),"currentParseCallback");else{if(typeof l!="function")throw new Error("Argument must be a string or a function");currentParseCallback=l}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let u=0,d=0;if(c&&c.includedRanges){u=c.includedRanges.length,d=C._calloc(u,SIZE_OF_RANGE);let y=d;for(let _=0;_<u;_++)marshalRange(y,c.includedRanges[_]),y+=SIZE_OF_RANGE}let g=C._ts_parser_parse_wasm(this[0],this[1],f?f[0]:0,d,u);if(!g)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let p=new Tree(INTERNAL,g,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,p}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(l){C._ts_parser_set_timeout_micros(this[0],l)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(l){if(l){if(typeof l!="function")throw new Error("Logger callback must be a function")}else l=null;return this.logCallback=l,this}getLogger(){return this.logCallback}};s(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(l,f,c,u){assertInternal(l),this[0]=f,this.language=c,this.textCallback=u}copy(){let l=C._ts_tree_copy(this[0]);return new t(INTERNAL,l,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(l){marshalEdit(l),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(l){if(l.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],l[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(f);if(f>0){let d=c;for(let g=0;g<f;g++)u[g]=unmarshalRange(d),d+=SIZE_OF_RANGE;C._free(c)}return u}};s(t,"Tree");let Tree=t,r=class r{constructor(l,f){assertInternal(l),this.tree=f}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(l){return this.id===l.id}child(l){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],l),unmarshalNode(this.tree)}namedChild(l){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],l),unmarshalNode(this.tree)}childForFieldId(l){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],l),unmarshalNode(this.tree)}childForFieldName(l){let f=this.tree.language.fields.indexOf(l);if(f!==-1)return this.childForFieldId(f)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let l=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(l),l>0){let c=f;for(let u=0;u<l;u++)this._children[u]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(f)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let l=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(l),l>0){let c=f;for(let u=0;u<l;u++)this._namedChildren[u]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(f)}}return this._namedChildren}descendantsOfType(l,f,c){Array.isArray(l)||(l=[l]),f||(f=ZERO_POINT),c||(c=ZERO_POINT);let u=[],d=this.tree.language.types;for(let S=0,T=d.length;S<T;S++)l.includes(d[S])&&u.push(S);let g=C._malloc(SIZE_OF_INT*u.length);for(let S=0,T=u.length;S<T;S++)setValue(g+S*SIZE_OF_INT,u[S],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],g,u.length,f.row,f.column,c.row,c.column);let p=getValue(TRANSFER_BUFFER,"i32"),y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=new Array(p);if(p>0){let S=y;for(let T=0;T<p;T++)_[T]=unmarshalNode(this.tree,S),S+=SIZE_OF_NODE}return C._free(y),C._free(g),_}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(l,f=l){if(typeof l!="number"||typeof f!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,l,"i32"),setValue(c+SIZE_OF_INT,f,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(l,f=l){if(typeof l!="number"||typeof f!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,l,"i32"),setValue(c+SIZE_OF_INT,f,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(l,f=l){if(!isPoint(l)||!isPoint(f))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,l),marshalPoint(c+SIZE_OF_POINT,f),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(l,f=l){if(!isPoint(l)||!isPoint(f))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,l),marshalPoint(c+SIZE_OF_POINT,f),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let l=C._ts_node_to_string_wasm(this.tree[0]),f=AsciiToString(l);return C._free(l),f}};s(r,"Node");let Node=r,n=class n{constructor(l,f){assertInternal(l),this.tree=f,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(l){marshalNode(l),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let l=C._ts_tree_cursor_start_index_wasm(this.tree[0]),f=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,l,f)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}gotoNextSibling(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}gotoParent(){marshalTreeCursor(this);let l=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),l===1}};s(n,"TreeCursor");let TreeCursor=n,i=class i{constructor(l,f){assertInternal(l),this[0]=f,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,u=this.types.length;c<u;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,u=this.fields.length;c<u;c++){let d=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=d!==0?UTF8ToString(d):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(l){let f=this.fields.indexOf(l);return f!==-1?f:null}fieldNameForId(l){return this.fields[l]||null}idForNodeType(l,f){let c=lengthBytesUTF8(l),u=C._malloc(c+1);stringToUTF8(l,u,c+1);let d=C._ts_language_symbol_for_name(this[0],u,c,f);return C._free(u),d||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(l){let f=C._ts_language_symbol_name(this[0],l);return f?UTF8ToString(f):null}nodeTypeIsNamed(l){return!!C._ts_language_type_is_named_wasm(this[0],l)}nodeTypeIsVisible(l){return!!C._ts_language_type_is_visible_wasm(this[0],l)}query(l){let f=lengthBytesUTF8(l),c=C._malloc(f+1);stringToUTF8(l,c,f+1);let u=C._ts_query_new(this[0],c,f,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!u){let k=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),L=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,Q=l.substr(L,100).split(`
`)[0],te,Ce=Q.match(QUERY_WORD_REGEX)[0];switch(k){case 2:te=new RangeError(`Bad node name '${Ce}'`);break;case 3:te=new RangeError(`Bad field name '${Ce}'`);break;case 4:te=new RangeError(`Bad capture name @${Ce}`);break;case 5:te=new TypeError(`Bad pattern structure at offset ${L}: '${Q}'...`),Ce="";break;default:te=new SyntaxError(`Bad syntax at offset ${L}: '${Q}'...`),Ce=""}throw te.index=L,te.length=Ce.length,C._free(c),te}let d=C._ts_query_string_count(u),g=C._ts_query_capture_count(u),p=C._ts_query_pattern_count(u),y=new Array(g),_=new Array(d);for(let k=0;k<g;k++){let L=C._ts_query_capture_name_for_id(u,k,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");y[k]=UTF8ToString(L,Q)}for(let k=0;k<d;k++){let L=C._ts_query_string_value_for_id(u,k,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");_[k]=UTF8ToString(L,Q)}let S=new Array(p),T=new Array(p),I=new Array(p),P=new Array(p),U=new Array(p);for(let k=0;k<p;k++){let L=C._ts_query_predicates_for_pattern(u,k,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");P[k]=[],U[k]=[];let te=[],Ce=L;for(let De=0;De<Q;De++){let pe=getValue(Ce,"i32");Ce+=SIZE_OF_INT;let Ie=getValue(Ce,"i32");if(Ce+=SIZE_OF_INT,pe===PREDICATE_STEP_TYPE_CAPTURE)te.push({type:"capture",name:y[Ie]});else if(pe===PREDICATE_STEP_TYPE_STRING)te.push({type:"string",value:_[Ie]});else if(te.length>0){if(te[0].type!=="string")throw new Error("Predicates must begin with a literal value");let ie=te[0].value,Z=!0;switch(ie){case"not-eq?":Z=!1;case"eq?":if(te.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(te.length-1));if(te[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${te[1].value}"`);if(te[2].type==="capture"){let ze=te[1].name,ce=te[2].name;U[k].push(function(ve){let le,Ee;for(let mt of ve)mt.name===ze&&(le=mt.node),mt.name===ce&&(Ee=mt.node);return le===void 0||Ee===void 0||le.text===Ee.text===Z})}else{let ze=te[1].name,ce=te[2].value;U[k].push(function(ve){for(let le of ve)if(le.name===ze)return le.node.text===ce===Z;return!0})}break;case"not-match?":Z=!1;case"match?":if(te.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${te.length-1}.`);if(te[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${te[1].value}".`);if(te[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${te[2].value}.`);let _e=te[1].name,Ae=new RegExp(te[2].value);U[k].push(function(ze){for(let ce of ze)if(ce.name===_e)return Ae.test(ce.node.text)===Z;return!0});break;case"set!":if(te.length<2||te.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${te.length-1}.`);if(te.some(ze=>ze.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');S[k]||(S[k]={}),S[k][te[1].value]=te[2]?te[2].value:null;break;case"is?":case"is-not?":if(te.length<2||te.length>3)throw new Error(`Wrong number of arguments to \`#${ie}\` predicate. Expected 1 or 2. Got ${te.length-1}.`);if(te.some(ze=>ze.type!=="string"))throw new Error(`Arguments to \`#${ie}\` predicate must be a strings.".`);let be=ie==="is?"?T:I;be[k]||(be[k]={}),be[k][te[1].value]=te[2]?te[2].value:null;break;default:P[k].push({operator:ie,operands:te.slice(1)})}te.length=0}}Object.freeze(S[k]),Object.freeze(T[k]),Object.freeze(I[k])}return C._free(c),new Query(INTERNAL,u,y,U,P,Object.freeze(S),Object.freeze(T),Object.freeze(I))}static load(l){let f;if(l instanceof Uint8Array)f=Promise.resolve(l);else{let u=l;if(typeof process<"u"&&process.versions&&process.versions.node){let d=require("fs");f=Promise.resolve(d.readFileSync(u))}else f=fetch(u).then(d=>d.arrayBuffer().then(g=>{if(d.ok)return new Uint8Array(g);{let p=new TextDecoder("utf-8").decode(g);throw new Error(`Language.load failed with status ${d.status}.

${p}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return f.then(u=>c(u,{loadAsync:!0})).then(u=>{let d=Object.keys(u),g=d.find(y=>LANGUAGE_FUNCTION_REGEX.test(y)&&!y.includes("external_scanner_"));g||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(d,null,2)}`);let p=u[g]();return new i(INTERNAL,p)})}};s(i,"Language");let Language=i,o=class o{constructor(l,f,c,u,d,g,p,y){assertInternal(l),this[0]=f,this.captureNames=c,this.textPredicates=u,this.predicates=d,this.setProperties=g,this.assertedProperties=p,this.refutedProperties=y,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(l,f,c,u){f||(f=ZERO_POINT),c||(c=ZERO_POINT),u||(u={});let d=u.matchLimit;if(d===void 0)d=0;else if(typeof d!="number")throw new Error("Arguments must be numbers");marshalNode(l),C._ts_query_matches_wasm(this[0],l.tree[0],f.row,f.column,c.row,c.column,d);let g=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=new Array(g);this.exceededMatchLimit=!!y;let S=0,T=p;for(let I=0;I<g;I++){let P=getValue(T,"i32");T+=SIZE_OF_INT;let U=getValue(T,"i32");T+=SIZE_OF_INT;let k=new Array(U);if(T=unmarshalCaptures(this,l.tree,T,k),this.textPredicates[P].every(L=>L(k))){_[S++]={pattern:P,captures:k};let L=this.setProperties[P];L&&(_[I].setProperties=L);let Q=this.assertedProperties[P];Q&&(_[I].assertedProperties=Q);let te=this.refutedProperties[P];te&&(_[I].refutedProperties=te)}}return _.length=S,C._free(p),_}captures(l,f,c,u){f||(f=ZERO_POINT),c||(c=ZERO_POINT),u||(u={});let d=u.matchLimit;if(d===void 0)d=0;else if(typeof d!="number")throw new Error("Arguments must be numbers");marshalNode(l),C._ts_query_captures_wasm(this[0],l.tree[0],f.row,f.column,c.row,c.column,d);let g=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=[];this.exceededMatchLimit=!!y;let S=[],T=p;for(let I=0;I<g;I++){let P=getValue(T,"i32");T+=SIZE_OF_INT;let U=getValue(T,"i32");T+=SIZE_OF_INT;let k=getValue(T,"i32");if(T+=SIZE_OF_INT,S.length=U,T=unmarshalCaptures(this,l.tree,T,S),this.textPredicates[P].every(L=>L(S))){let L=S[k],Q=this.setProperties[P];Q&&(L.setProperties=Q);let te=this.assertedProperties[P];te&&(L.assertedProperties=te);let Ce=this.refutedProperties[P];Ce&&(L.refutedProperties=Ce),_.push(L)}}return C._free(p),_}predicatesForPattern(l){return this.predicates[l]}didExceedMatchLimit(){return this.exceededMatchLimit}};s(o,"Query");let Query=o;function getText(a,l,f){let c=f-l,u=a.textCallback(l,null,f);for(l+=u.length;l<f;){let d=a.textCallback(l,null,f);if(!(d&&d.length>0))break;l+=d.length,u+=d}return l>f&&(u=u.slice(0,c)),u}s(getText,"getText");function unmarshalCaptures(a,l,f,c){for(let u=0,d=c.length;u<d;u++){let g=getValue(f,"i32"),p=unmarshalNode(l,f+=SIZE_OF_INT);f+=SIZE_OF_NODE,c[u]={name:a.captureNames[g],node:p}}return f}s(unmarshalCaptures,"unmarshalCaptures");function assertInternal(a){if(a!==INTERNAL)throw new Error("Illegal constructor")}s(assertInternal,"assertInternal");function isPoint(a){return a&&typeof a.row=="number"&&typeof a.column=="number"}s(isPoint,"isPoint");function marshalNode(a){let l=TRANSFER_BUFFER;setValue(l,a.id,"i32"),l+=SIZE_OF_INT,setValue(l,a.startIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.startPosition.row,"i32"),l+=SIZE_OF_INT,setValue(l,a.startPosition.column,"i32"),l+=SIZE_OF_INT,setValue(l,a[0],"i32")}s(marshalNode,"marshalNode");function unmarshalNode(a,l=TRANSFER_BUFFER){let f=getValue(l,"i32");if(f===0)return null;let c=getValue(l+=SIZE_OF_INT,"i32"),u=getValue(l+=SIZE_OF_INT,"i32"),d=getValue(l+=SIZE_OF_INT,"i32"),g=getValue(l+=SIZE_OF_INT,"i32"),p=new Node(INTERNAL,a);return p.id=f,p.startIndex=c,p.startPosition={row:u,column:d},p[0]=g,p}s(unmarshalNode,"unmarshalNode");function marshalTreeCursor(a,l=TRANSFER_BUFFER){setValue(l+0*SIZE_OF_INT,a[0],"i32"),setValue(l+1*SIZE_OF_INT,a[1],"i32"),setValue(l+2*SIZE_OF_INT,a[2],"i32")}s(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(a){a[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),a[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),a[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}s(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(a,l){setValue(a,l.row,"i32"),setValue(a+SIZE_OF_INT,l.column,"i32")}s(marshalPoint,"marshalPoint");function unmarshalPoint(a){return{row:getValue(a,"i32"),column:getValue(a+SIZE_OF_INT,"i32")}}s(unmarshalPoint,"unmarshalPoint");function marshalRange(a,l){marshalPoint(a,l.startPosition),marshalPoint(a+=SIZE_OF_POINT,l.endPosition),setValue(a+=SIZE_OF_POINT,l.startIndex,"i32"),setValue(a+=SIZE_OF_INT,l.endIndex,"i32"),a+=SIZE_OF_INT}s(marshalRange,"marshalRange");function unmarshalRange(a){let l={};return l.startPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,l.endPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,l.startIndex=getValue(a,"i32"),a+=SIZE_OF_INT,l.endIndex=getValue(a,"i32"),l}s(unmarshalRange,"unmarshalRange");function marshalEdit(a){let l=TRANSFER_BUFFER;marshalPoint(l,a.startPosition),l+=SIZE_OF_POINT,marshalPoint(l,a.oldEndPosition),l+=SIZE_OF_POINT,marshalPoint(l,a.newEndPosition),l+=SIZE_OF_POINT,setValue(l,a.startIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.oldEndIndex,"i32"),l+=SIZE_OF_INT,setValue(l,a.newEndIndex,"i32"),l+=SIZE_OF_INT}s(marshalEdit,"marshalEdit");for(let a of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,a,{value:ParserImpl.prototype[a],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};s(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function Fu(e){return e in iT}function HO(e){if(!(e in iT))throw new Error(`Unrecognized language: ${e}`);return iT[e]}async function IX(e){let t,r=F9.default.resolve(F9.default.extname(__filename)!==".ts"?__dirname:F9.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await $O.promises.readFile(r)}catch(n){if(typeof n.code=="string"&&n instanceof Error&&n.name==="Error"){let i=new Error(`Could not load tree-sitter-${e}.wasm`);throw i.code="CopilotPromptLoadFailure",i.cause=n,i}throw n}return M9.default.Language.load(t)}async function AX(e){let t=HO(e);if(!nT.has(t)){let r=await IX(t);nT.set(t,r)}return nT.get(t)}async function sT(e,t){await M9.default.init();let r;try{r=new M9.default}catch(o){let a=o.message;if(a&&a.includes("table index is out of bounds")){let l=new Error(`Could not init Parse for language <${e}>`);throw l.cause=o,l}throw o}let n=await AX(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}function PX(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}function VO(e){return PX([RX],e).length==1}var $O,F9,M9,iT,nT,RX,Nh=C0(()=>{"use strict";$O=require("fs"),F9=U0(require("path")),M9=U0(jO()),iT={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};s(Fu,"isSupportedLanguageId");s(HO,"languageIdToWasmLanguage");nT=new Map;s(IX,"loadWasmLanguage");s(AX,"getLanguage");s(sT,"parseTreeSitter");s(PX,"innerQuery");RX=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];s(VO,"queryPythonIsDocstring")});var zO=ae(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.bytePairEncode=Oa.BinaryMap=Oa.binaryMapKey=void 0;var kX=s((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),o=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return o+16777216*l},"binaryMapKey");Oa.binaryMapKey=kX;var Lh=class Lh{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){var a;let i=n<6+r,o=(0,Oa.binaryMapKey)(t,r,n);return i?this.final.get(o):(a=this.nested.get(o))==null?void 0:a.get(t,6+r,n)}set(t,r){let n=(0,Oa.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let o=this.nested.get(n);if(o instanceof Lh)o.set(t.subarray(6),r);else{let a=new Lh;a.set(t.subarray(6),r),this.nested.set(n,a)}}};s(Lh,"BinaryMap");var oT=Lh;Oa.BinaryMap=oT;var Ba=new Int32Array(128),Ni=new Int32Array(128);function NX(e,t,r){var f;if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;Ba.length<r*2;)Ni=new Int32Array(Ni.length*2),Ba=new Int32Array(Ba.length*2);for(let c=0;c<r-1;c++){let u=(f=t.get(e,c,c+2))!=null?f:2147483647;u<n&&(n=u,i=c),Ni[c]=c,Ba[c]=u}Ni[r-1]=r-1,Ba[r-1]=2147483647,Ni[r]=r,Ba[r]=2147483647;let o=r+1;function a(c,u=0){if(c+u+2<o){let d=t.get(e,Ni[c],Ni[c+u+2]);if(d!==void 0)return d}return 2147483647}for(s(a,"getRank");n!==2147483647;){Ba[Ni[i]]=a(i,1),i>0&&(Ba[Ni[i-1]]=a(i-1,1));for(let c=i+1;c<o-1;c++)Ni[c]=Ni[c+1];o--,i=-1,n=2147483647;for(let c=0;c<o-1;c++){let u=Ba[Ni[c]];Ba[Ni[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<o-1;c++)l.push(t.get(e,Ni[c],Ni[c+1]));return l}s(NX,"bytePairEncode");Oa.bytePairEncode=NX});var KO=ae(U9=>{"use strict";Object.defineProperty(U9,"__esModule",{value:!0});U9.makeTextEncoder=void 0;var fT=class fT{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};s(fT,"UniversalTextEncoder");var aT=fT,cT=class cT{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};s(cT,"NodeTextEncoder");var lT=cT,DX=s(()=>typeof Buffer<"u"?new lT:new aT,"makeTextEncoder");U9.makeTextEncoder=DX});var WO=ae(q9=>{"use strict";Object.defineProperty(q9,"__esModule",{value:!0});q9.LRUCache=void 0;var hT=class hT{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new dT(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};s(hT,"LRUCache");var uT=hT;q9.LRUCache=uT;var mT=class mT{constructor(t,r){this.key=t,this.value=r}};s(mT,"Node");var dT=mT});var yT=ae($9=>{"use strict";Object.defineProperty($9,"__esModule",{value:!0});$9.TikTokenizer=void 0;var LX=require("fs"),BX=require("util"),j9=zO(),OX=KO(),FX=WO();function MX(e){let t=new Map;try{let n=LX.readFileSync(e,"utf-8");return r(n),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let o=i.split(" ");if(o.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(o[0],"base64")),l=parseInt(o[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${o[1]} to integer`)}}s(r,"processBpeRanks")}s(MX,"loadTikTokenBpe");function UX(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(UX,"escapeRegExp");var pT=class pT{constructor(t,r,n,i=8192){this.textEncoder=(0,OX.makeTextEncoder)(),this.textDecoder=new BX.TextDecoder("utf-8"),this.cache=new FX.LRUCache(i);let o=MX(t);this.init(o,r,n)}init(t,r,n){this.encoder=new j9.BinaryMap;for(let[i,o]of t)this.encoder.set(i,o);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>UX(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,o]of t)this.decoder.set(o,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,o]of r)this.specialTokensDecoder.set(o,i)}findNextSpecialToken(t,r,n){let i=r,o=null;if(n&&this.specialTokensRegex)for(;o=t.slice(i).match(this.specialTokensRegex),!(!o||n&&n.includes(o[0]));)i+=o.index+1;let a=o?i+o.index:t.length;return[o,a]}encode(t,r){let n=[],i=0;for(;;){let o,a;if([o,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),o){if(i=i+this.encodeSpecialToken(n,o),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){var i;let n=(i=this.specialTokensEncoder)==null?void 0:i.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let o,a=t.substring(n,i);for(this.regex.lastIndex=0;o=this.regex.exec(a);){let l=this.cache.get(o[0]);if(l)for(let f of l)r.push(f);else{let f=this.textEncoder.encode(o[0]),c=this.encoder.get(f,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(o[0],[c]);else{let u=(0,j9.bytePairEncode)(f,this.encoder,this.textEncoder.length);for(let d of u)r.push(d);this.cache.set(o[0],u)}}}}encodeTrimSuffixByIndex(t,r,n,i,o,a,l){let f,c=t.substring(n,i);for(this.regex.lastIndex=0;f=this.regex.exec(c);){let u=f[0],d=this.cache.get(u);if(d)if(a+d.length<=o)a+=d.length,l+=u.length,r.push(...d);else{let g=o-a;a+=g,l+=u.length,r.push(...d.slice(0,g));break}else{let g=this.textEncoder.encode(u),p=this.encoder.get(g,0,g.length);if(p!==void 0)if(this.cache.set(u,[p]),a+1<=o)a++,l+=u.length,r.push(p);else break;else{let y=(0,j9.bytePairEncode)(g,this.encoder,this.textEncoder.length);if(this.cache.set(u,y),a+y.length<=o){a+=y.length,l+=u.length;for(let _ of y)r.push(_)}else{let _=o-a;a+=_,l+=u.length;for(let S=0;S<_;S++)r.push(y[S]);break}}}if(a>=o)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],o=0,a=0,l=0;for(;;){let c,u;if([c,u]=this.findNextSpecialToken(t,o,n),u>o){let{tokenCount:d,encodeLength:g}=this.encodeTrimSuffixByIndex(t,i,o,u,r,a,l);if(a=d,l=g,a>=r)break}if(c!==null){if(a++,a<=r&&(o=o+this.encodeSpecialToken(i,c),l+=c[0].length,o>=t.length)||a>=r)break}else break}let f=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:f}}encodeTrimPrefix(t,r,n){let i=[],o=0,a=0,l=0,f=new Map;for(f.set(a,l);;){let g,p;if([g,p]=this.findNextSpecialToken(t,o,n),p>o){let y,_=t.substring(o,p);for(this.regex.lastIndex=0;y=this.regex.exec(_);){let S=y[0],T=this.cache.get(S);if(T)a+=T.length,l+=S.length,i.push(...T),f.set(a,l);else{let I=this.textEncoder.encode(S),P=this.encoder.get(I);if(P!==void 0)this.cache.set(S,[P]),a++,l+=S.length,i.push(P),f.set(a,l);else{let U=(0,j9.bytePairEncode)(I,this.encoder,this.textEncoder.length);this.cache.set(S,U),a+=U.length,l+=S.length;for(let k of U)i.push(k);f.set(a,l)}}}}if(g!==null){if(o=o+this.encodeSpecialToken(i,g),a++,l+=g[0].length,f.set(a,l),o>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let c=a-r,u=0,d=0;for(let[g,p]of f)if(g>=c){u=g,d=p;break}if(u>r){let g=this.encode(t,n),p=g.slice(g.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(u),text:t.slice(d)}}decode(t){var n,i;let r=[];for(let o of t){let a=[],l=(n=this.decoder)==null?void 0:n.get(o);if(l!==void 0)a=Array.from(l);else{let f=(i=this.specialTokensDecoder)==null?void 0:i.get(o);if(f!==void 0){let c=this.textEncoder.encode(f);a=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...a)}return this.textDecoder.decode(new Uint8Array(r))}};s(pT,"TikTokenizer");var gT=pT;$9.TikTokenizer=gT});var nF=ae(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.createTokenizer=on.createByEncoderName=on.createByModelName=on.getRegexByModel=on.getRegexByEncoder=on.getSpecialTokensByModel=on.getSpecialTokensByEncoder=on.MODEL_TO_ENCODING=void 0;var V9=require("fs"),vT=require("path"),qX=yT(),jX=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);on.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var H9="<|endoftext|>",GO="<|fim_prefix|>",YO="<|fim_middle|>",JO="<|fim_suffix|>",XO="<|endofprompt|>",Bh="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",QO="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",$X=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],ZO=$X.join("|");function xT(e){let t="";if(on.MODEL_TO_ENCODING.has(e))t=on.MODEL_TO_ENCODING.get(e);else for(let[r,n]of jX)if(e.startsWith(r)){t=n;break}return t}s(xT,"getEncoderFromModelName");async function HX(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let n=await r.text();V9.writeFileSync(t,n)}s(HX,"fetchAndSaveFile");function _T(e){let t=new Map([[H9,50256]]);switch(e){case"o200k_base":t=new Map([[H9,199999],[XO,200018]]);break;case"cl100k_base":t=new Map([[H9,100257],[GO,100258],[YO,100259],[JO,100260],[XO,100276]]);break;case"p50k_edit":t=new Map([[H9,50256],[GO,50281],[YO,50282],[JO,50283]]);break;default:break}return t}s(_T,"getSpecialTokensByEncoder");on.getSpecialTokensByEncoder=_T;function VX(e){let t=xT(e);return _T(t)}s(VX,"getSpecialTokensByModel");on.getSpecialTokensByModel=VX;function eF(e){switch(e){case"o200k_base":return ZO;case"cl100k_base":return QO;default:break}return Bh}s(eF,"getRegexByEncoder");on.getRegexByEncoder=eF;function zX(e){let t=xT(e);return eF(t)}s(zX,"getRegexByModel");on.getRegexByModel=zX;async function KX(e,t=null){return tF(xT(e),t)}s(KX,"createByModelName");on.createByModelName=KX;async function tF(e,t=null){let r,n,i=_T(e);switch(e){case"o200k_base":r=ZO,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=QO,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=Bh,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=Bh,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=Bh,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=Bh,n="https://pythia.blob.core.windows.net/public/encoding/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let o=vT.basename(n),a=vT.resolve(__dirname,"..","model");V9.existsSync(a)||V9.mkdirSync(a,{recursive:!0});let l=vT.resolve(a,o);return V9.existsSync(l)||(console.log(`Downloading file from ${n}`),await HX(n,l),console.log(`Saved file to ${l}`)),rF(l,i,r)}s(tF,"createByEncoderName");on.createByEncoderName=tF;function rF(e,t,r,n=8192){return new qX.TikTokenizer(e,t,r,n)}s(rF,"createTokenizer");on.createTokenizer=rF});var iF=ae(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.createTokenizer=an.createByEncoderName=an.createByModelName=an.getSpecialTokensByModel=an.getSpecialTokensByEncoder=an.getRegexByModel=an.getRegexByEncoder=an.MODEL_TO_ENCODING=an.TikTokenizer=void 0;var WX=yT();Object.defineProperty(an,"TikTokenizer",{enumerable:!0,get:function(){return WX.TikTokenizer}});var Ec=nF();Object.defineProperty(an,"MODEL_TO_ENCODING",{enumerable:!0,get:function(){return Ec.MODEL_TO_ENCODING}});Object.defineProperty(an,"getRegexByEncoder",{enumerable:!0,get:function(){return Ec.getRegexByEncoder}});Object.defineProperty(an,"getRegexByModel",{enumerable:!0,get:function(){return Ec.getRegexByModel}});Object.defineProperty(an,"getSpecialTokensByEncoder",{enumerable:!0,get:function(){return Ec.getSpecialTokensByEncoder}});Object.defineProperty(an,"getSpecialTokensByModel",{enumerable:!0,get:function(){return Ec.getSpecialTokensByModel}});Object.defineProperty(an,"createByModelName",{enumerable:!0,get:function(){return Ec.createByModelName}});Object.defineProperty(an,"createByEncoderName",{enumerable:!0,get:function(){return Ec.createByEncoderName}});Object.defineProperty(an,"createTokenizer",{enumerable:!0,get:function(){return Ec.createTokenizer}})});function Oh(e="cl100k_base"){let t=sF.get(e);return t!==void 0||(e==="mock"?t=new CT:t=new bT(e),sF.set(e,t)),t}var g3,oF,sF,TT,bT,ET,CT,aF=C0(()=>{"use strict";g3=U0(iF()),oF=require("path"),sF=new Map;s(Oh,"getTokenizer");TT=class TT{constructor(t){try{this._tokenizer=(0,g3.createTokenizer)((0,oF.join)(__dirname,`./resources/${t}.tiktoken`),(0,g3.getSpecialTokensByEncoder)(t),(0,g3.getRegexByEncoder)(t),32768)}catch(r){if(r instanceof Error){let n=new Error("Could not load tokenizer");throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return"";let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(-o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(-o),l=this.tokenize(a);return l.length<r?t:(l=l.slice(-r),this.detokenize(l))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(0,o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(0,o),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};s(TT,"TTokenizer");bT=TT,ET=class ET{constructor(){this.hash=s(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};s(ET,"MockTokenizer");CT=ET});var p3=C0(()=>{"use strict";aF()});function ST(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}function wT(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}function is(e){return e.type==="blank"}function y3(e){return e.type==="line"}function Mu(e){return e.type==="virtual"}var Uu=C0(()=>{"use strict";s(ST,"virtualNode");s(wT,"topNode");s(is,"isBlank");s(y3,"isLine");s(Mu,"isVirtual")});function lF(e,t){return Fa(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}function Fa(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(o=>{n(o)}),r==="bottomUp"&&t(i)}s(n,"_visit"),n(e)}function z9(e,t,r){let n=s(o=>{if(r!==void 0&&r(o))return o;{let a=o.subs.map(n).filter(l=>l!==void 0);return o.subs=a,t(o)}},"rebuild"),i=n(e);return i!==void 0?i:wT()}var v3=C0(()=>{"use strict";Uu();s(lF,"clearLabelsIf");s(Fa,"visitTree");s(z9,"rebuildTree")});function K9(e,t){function r(n){if(y3(n)){let i=t.find(o=>o.matches(n.sourceLine));i&&(n.label=i.label)}}s(r,"visitor"),Fa(e,r,"bottomUp")}function W9(e){function t(r){if(Mu(r)&&r.label===void 0){let n=r.subs.filter(i=>!is(i));n.length===1&&(r.label=n[0].label)}}s(t,"visitor"),Fa(e,t,"bottomUp")}function Fh(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=s(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}function fF(e){let r=z9(e,s(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],o;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],f=n.subs[a-1];if(l.label==="opener"&&f!==void 0&&y3(f))f.subs.push(l),l.subs.forEach(c=>f.subs.push(c)),l.subs=[];else if(l.label==="closer"&&o!==void 0&&(y3(l)||Mu(l))&&l.indentation>=o.indentation){let c=i.length-1;for(;c>0&&is(i[c]);)c-=1;if(o.subs.push(...i.splice(c+1)),l.subs.length>0){let u=o.subs.findIndex(y=>y.label!=="newVirtual"),d=o.subs.slice(0,u),g=o.subs.slice(u),p=g.length>0?[ST(l.indentation,g,"newVirtual")]:[];o.subs=[...d,...p,l]}else o.subs.push(l)}else i.push(l),is(l)||(o=l)}return n.subs=i,n},"rebuilder"));return lF(e,n=>n==="newVirtual"),r}function cF(e,t=is,r){return z9(e,s(function(i){if(i.subs.length<=1)return i;let o=[],a=[],l,f=!1;function c(u=!1){if(l!==void 0&&(o.length>0||!u)){let d=ST(l,a,r);o.push(d)}else a.forEach(d=>o.push(d))}s(c,"flushBlockIntoNewSubs");for(let u=0;u<i.subs.length;u++){let d=i.subs[u],g=t(d);!g&&f&&(c(),a=[]),f=g,a.push(d),is(d)||(l=l!=null?l:d.indentation)}return c(!0),i.subs=o,i},"rebuilder"))}function x3(e){return z9(e,s(function(r){return Mu(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&Mu(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}function IT(e,t){JX[e]=t}var YX,Wde,JX,_3=C0(()=>{"use strict";Uu();v3();s(K9,"labelLines");s(W9,"labelVirtualInherited");s(Fh,"buildLabelRules");s(fF,"combineClosersAndOpeners");s(cF,"groupBlocks");s(x3,"flattenVirtual");YX={opener:/^[\[({]/,closer:/^[\])}]/},Wde=Fh(YX),JX={};s(IT,"registerLanguageSpecificParser")});function uF(e){let t=e;return K9(t,QX),t=fF(t),t=x3(t),W9(t),Fa(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!is(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}var XX,QX,dF=C0(()=>{"use strict";Uu();v3();_3();XX={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},QX=Fh(XX);s(uF,"processJava")});function hF(e){let t=e;if(K9(t,eQ),is(t))return t;function r(o){if(o.label==="heading")return 1;if(o.label==="subheading")return 2;if(o.label==="subsubheading")return 3}s(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let o of i){let a=r(o);if(a===void 0||is(o))n[n.length-1].subs.push(o);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(o),n[a]=o;n.length>a+1;)n.pop()}}return t=cF(t),t=x3(t),W9(t),t}var ZX,eQ,mF=C0(()=>{"use strict";Uu();_3();ZX={heading:/^# /,subheading:/^## /,subsubheading:/### /},eQ=Fh(ZX);s(hF,"processMarkdown")});var gF=C0(()=>{"use strict";Uu();v3()});var Mh=C0(()=>{"use strict";dF();mF();_3();Uu();gF();v3();_3();IT("markdown",hF);IT("java",uF)});var G9=C0(()=>{"use strict";Mh();AT()});var PT=C0(()=>{"use strict";Mh();G9()});var RT=C0(()=>{"use strict";p3()});var AT=C0(()=>{"use strict";p3();PT();RT()});function jl(){}function nQ(e,t,r,n,i){for(var o=[],a;t;)o.push(t),a=t.previousComponent,delete t.previousComponent,t=a;o.reverse();for(var l=0,f=o.length,c=0,u=0;l<f;l++){var d=o[l];if(d.removed){if(d.value=e.join(n.slice(u,u+d.count)),u+=d.count,l&&o[l-1].added){var p=o[l-1];o[l-1]=o[l],o[l]=p}}else{if(!d.added&&i){var g=r.slice(c,c+d.count);g=g.map(function(_,S){var T=n[u+S];return T.length>_.length?T:_}),d.value=e.join(g)}else d.value=e.join(r.slice(c,c+d.count));c+=d.count,d.added||(u+=d.count)}}var y=o[f-1];return f>1&&typeof y.value=="string"&&(y.added||y.removed)&&e.equals("",y.value)&&(o[f-2].value+=y.value,o.pop()),o}function Y9(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Y9=s(function(t){return typeof t},"_typeof"):Y9=s(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),Y9(e)}function kT(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return r[o];var a;if(oQ.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),o=0;o<e.length;o+=1)a[o]=kT(e[o],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),Y9(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],f;for(f in e)e.hasOwnProperty(f)&&l.push(f);for(l.sort(),o=0;o<l.length;o+=1)f=l[o],a[f]=kT(e[f],t,r,n,f);t.pop(),r.pop()}else a=e;return a}var G5e,vF,xF,_F,bF,iQ,sQ,oQ,Uh,NT,CF=C0(()=>{s(jl,"Diff");jl.prototype={diff:s(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.callback;typeof i=="function"&&(o=i,i={}),this.options=i;var a=this;function l(U){return o?(setTimeout(function(){o(void 0,U)},0),!0):U}s(l,"done"),t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var f=r.length,c=t.length,u=1,d=f+c;i.maxEditLength&&(d=Math.min(d,i.maxEditLength));var g=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+g,y=[{oldPos:-1,lastComponent:void 0}],_=this.extractCommon(y[0],r,t,0);if(y[0].oldPos+1>=c&&_+1>=f)return l([{value:this.join(r),count:r.length}]);var S=-1/0,T=1/0;function I(){for(var U=Math.max(S,-u);U<=Math.min(T,u);U+=2){var k=void 0,L=y[U-1],Q=y[U+1];L&&(y[U-1]=void 0);var te=!1;if(Q){var Ce=Q.oldPos-U;te=Q&&0<=Ce&&Ce<f}var De=L&&L.oldPos+1<c;if(!te&&!De){y[U]=void 0;continue}if(!De||te&&L.oldPos+1<Q.oldPos?k=a.addToPath(Q,!0,void 0,0):k=a.addToPath(L,void 0,!0,1),_=a.extractCommon(k,r,t,U),k.oldPos+1>=c&&_+1>=f)return l(nQ(a,k.lastComponent,r,t,a.useLongestToken));y[U]=k,k.oldPos+1>=c&&(T=Math.min(T,U-1)),_+1>=f&&(S=Math.max(S,U+1))}u++}if(s(I,"execEditLength"),o)s(function U(){setTimeout(function(){if(u>d||Date.now()>p)return o();I()||U()},0)},"exec")();else for(;u<=d&&Date.now()<=p;){var P=I();if(P)return P}},"diff"),addToPath:s(function(t,r,n,i){var o=t.lastComponent;return o&&o.added===r&&o.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:o.count+1,added:r,removed:n,previousComponent:o.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:o}}},"addToPath"),extractCommon:s(function(t,r,n,i){for(var o=r.length,a=n.length,l=t.oldPos,f=l-i,c=0;f+1<o&&l+1<a&&this.equals(r[f+1],n[l+1]);)f++,l++,c++;return c&&(t.lastComponent={count:c,previousComponent:t.lastComponent}),t.oldPos=l,f},"extractCommon"),equals:s(function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:s(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:s(function(t){return t},"castInput"),tokenize:s(function(t){return t.split("")},"tokenize"),join:s(function(t){return t.join("")},"join")};s(nQ,"buildValues");G5e=new jl,vF=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,xF=/\S/,_F=new jl;_F.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!xF.test(e)&&!xF.test(t)};_F.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&vF.test(t[r])&&vF.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};bF=new jl;bF.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var i=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};iQ=new jl;iQ.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};sQ=new jl;sQ.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};s(Y9,"_typeof");oQ=Object.prototype.toString,Uh=new jl;Uh.useLongestToken=!0;Uh.tokenize=bF.tokenize;Uh.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(o,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(kT(e,null,null,i),i,"  ")};Uh.equals=function(e,t){return jl.prototype.equals.call(Uh,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};s(kT,"canonicalize");NT=new jl;NT.tokenize=function(e){return e.slice()};NT.join=NT.removeEmpty=function(e){return e}});var TF=C0(()=>{"use strict";CF();Mh();G9()});var EF=C0(()=>{"use strict";AT();TF();G9();PT();RT()});function cQ({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}function J9(e,t){var n;let r=(n=wF[t])!=null?n:lQ;if(r){let i=r.end==""?"":" "+r.end;return`${r.start} ${e}${i}`}return""}function qh(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(o=>J9(o,t)).join(`
`);return r?i+`
`:i}function IF(e){let{languageId:t}=e;return fQ.indexOf(t)===-1&&!cQ(e)?t in SF?SF[t]:J9(`Language: ${t}`,t):""}function AF(e){return e.relativePath?J9(`Path: ${e.relativePath}`,e.languageId):""}function b3(e){return e===""||e.endsWith(`
`)?e:e+`
`}var wF,lQ,fQ,SF,qu=C0(()=>{"use strict";wF={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},lQ={start:"//",end:""},fQ=["php","plaintext"],SF={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};s(cQ,"hasLanguageMarker");s(J9,"comment");s(qh,"commentBlockAsSingles");s(IF,"getLanguageMarker");s(AF,"getPathMarker");s(b3,"newLineEnded")});function hQ(e){return{...dQ,...e}}function DT(e,t={}){let r=hQ(t),n=Oh(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}var dQ,LT=C0(()=>{"use strict";p3();dQ={tokenizerName:"cl100k_base"};s(hQ,"cursorContextOptions");s(DT,"getCursorContext")});var PF=C0(()=>{"use strict"});var X9=C0(()=>{"use strict";wc();C3();PF()});var ju=C0(()=>{"use strict";qu();X9()});function gQ(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}var FT,BT,MT,OT,RF,UT,Q9,pQ,yQ,vQ,qT=C0(()=>{"use strict";ju();FT=class FT{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let i=(n=this.keys.shift())!=null?n:"";delete this.cache[i]}}get(t){return this.cache[t]}};s(FT,"FifoCache");BT=FT,MT=class MT{constructor(t){var r;this.stopsForLanguage=(r=vQ.get(t.languageId))!=null?r:yQ}tokenize(t){return new Set(gQ(t).filter(r=>!this.stopsForLanguage.has(r)))}};s(MT,"Tokenizer");OT=MT,RF=new BT(20),UT=class UT{constructor(t,r){this.referenceDoc=t,this.cacheReferenceTokens=r,this.tokenizer=new OT(t)}get referenceTokens(){var t;return this.cacheReferenceTokens?(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context):this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var c;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let i=t.source.split(`
`),o=this.id()+":"+t.source,a=(c=RF.get(o))!=null?c:[],l=a.length==0,f=l?i.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[u,[d,g]]of this.getWindowsDelineations(i).entries()){if(l){let _=new Set;f.slice(d,g).forEach(S=>S.forEach(_.add,_)),a.push(_)}let p=a[u],y=this.similarityScore(p,this.referenceTokens);n.push({score:y,startLine:d,endLine:g})}return l&&RF.put(o,a),this.sortScoredSnippets(n,r)}async findMatches(t){let r=await this.findBestMatch(t);return r?[r]:[]}async findBestMatch(t){if(t.source.length===0||this.referenceTokens.size===0)return;let r=t.source.split(`
`),n=this.retrieveAllSnippets(t,"descending");return n.length===0||n[0].score===0?void 0:{snippet:r.slice(n[0].startLine,n[0].endLine).join(`
`),semantics:"snippet",provider:"similar-files",...n[0]}}};s(UT,"WindowedMatcher");Q9=UT;s(gQ,"splitIntoWords");pQ=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),yQ=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...pQ]),vQ=new Map([])});function kF(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}var NF=C0(()=>{"use strict";v3();_3();s(kF,"getBasicWindowDelineations")});function xQ(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}var jh,e7,DF=C0(()=>{"use strict";LT();qT();NF();jh=class jh extends Q9{constructor(t,r,n){super(t,n),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return kF(this.windowLength,t)}_getCursorContextInfo(t){return DT(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return xQ(t,r)}};s(jh,"FixedWindowSizeJaccardMatcher"),jh.FACTORY=s((t,r)=>({to:n=>new jh(n,t,r)}),"FACTORY");e7=jh;s(xQ,"computeScore")});function TQ(e,t,r){return e7.FACTORY(t.snippetLength,r).to(e)}async function LF(e,t,r,n){let i={..._Q[r]},o=TQ(e,i,n);return i.numberOfSnippets===0?[]:(await t.filter(l=>l.source.length<bQ&&l.source.length>0).slice(0,CQ).reduce(async(l,f)=>(await l).concat((await o.findMatches(f)).map(c=>({relativePath:f.relativePath,...c}))),Promise.resolve([]))).filter(l=>l.score&&l.snippet&&l.score>i.threshold).sort((l,f)=>l.score-f.score).slice(-i.numberOfSnippets)}var _Q,bQ,CQ,$h=C0(()=>{"use strict";DF();_Q={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},bQ=1e4,CQ=20;s(TQ,"getMatcher");s(LF,"getSimilarSnippets")});var BF=C0(()=>{"use strict"});var OF=C0(()=>{"use strict";BF();X9()});function FF(e,t){let r=`Use ${e}`;return qh(r,t)}function MF(e){let t=e.source.substring(0,e.offset);return SQ.test(t)}var SQ,jT=C0(()=>{"use strict";qu();SQ=/(\.|\->|::)\w+$/;s(FF,"announceTooltipSignatureSnippet");s(MF,"endsWithAttributesOrMethod")});function $l(e){var t;return e=e.toLowerCase(),(t=wQ[e])!=null?t:e}var Hh,UF,qF,jF,$F,wQ,C3=C0(()=>{"use strict";$h();ju();OF();p3();jT();X9();Hh=500,UF=8192-Hh,qF=4,jF=10,$F=15,wQ={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};s($l,"normalizeLanguageId")});var HT,$u,VT,Ma,Hu=C0(()=>{"use strict";t7();HT=class HT extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}};s(HT,"ProviderTimeoutError");$u=HT,VT=class VT{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,i)=>{r.aborted&&i({error:new $u("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{i({error:new $u(`max runtime exceeded: ${zT} ms`),providerType:this.type})},{once:!0});let o=performance.now();this.buildSnippets(t).then(a=>{let l=performance.now();n({snippets:a,providerType:this.type,runtime:l-o})}).catch(a=>{i({error:a,providerType:this.type})})})}};s(VT,"SnippetProvider");Ma=VT});var KT,r7,HF=C0(()=>{"use strict";qu();C3();ju();Hu();KT=class KT extends Ma{constructor(){super(...arguments);this.type="language"}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=$l(n.languageId),[{provider:this.type,semantics:"snippet",snippet:b3(IF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};s(KT,"LanguageSnippetProvider");r7=KT});var WT,n7,VF=C0(()=>{"use strict";qu();C3();ju();Hu();WT=class WT extends Ma{constructor(){super(...arguments);this.type="path"}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=$l(n.languageId),[{provider:this.type,semantics:"snippet",snippet:b3(AF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};s(WT,"PathSnippetProvider");n7=WT});var GT,i7,zF=C0(()=>{"use strict";wc();$h();Hu();GT=class GT extends Ma{constructor(){super(...arguments);this.type="similar-files"}async buildSnippets(r){let{currentFile:n,similarFiles:i,options:o}=r;return o&&i&&i.length&&o.similarFiles!=="none"?await this.api.getSimilarSnippets(n,i,o.similarFiles,o.cacheReferenceTokens):[]}};s(GT,"SimilarFilesProvider");i7=GT});var YT,s7,KF=C0(()=>{"use strict";qu();C3();ju();jT();Hu();YT=class YT extends Ma{constructor(){super(...arguments);this.type="tooltip-signature"}async buildSnippets(r){let{currentFile:n,tooltipSignature:i}=r,o=[];return n.languageId=$l(n.languageId),i&&MF(n)&&o.push({provider:this.type,semantics:"snippet",snippet:b3(FF(i,n.languageId)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}),o}};s(YT,"TooltipSignatureSnippetProvider");s7=YT});var GF=ae(JT=>{var WF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");JT.encode=function(e){if(0<=e&&e<WF.length)return WF[e];throw new TypeError("Must be between 0 and 63: "+e)};JT.decode=function(e){var t=65,r=90,n=97,i=122,o=48,a=57,l=43,f=47,c=26,u=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+c:o<=e&&e<=a?e-o+u:e==l?62:e==f?63:-1}});var ZT=ae(QT=>{var YF=GF(),XT=5,JF=1<<XT,XF=JF-1,QF=JF;function IQ(e){return e<0?(-e<<1)+1:(e<<1)+0}s(IQ,"toVLQSigned");function AQ(e){var t=(e&1)===1,r=e>>1;return t?-r:r}s(AQ,"fromVLQSigned");QT.encode=s(function(t){var r="",n,i=IQ(t);do n=i&XF,i>>>=XT,i>0&&(n|=QF),r+=YF.encode(n);while(i>0);return r},"base64VLQ_encode");QT.decode=s(function(t,r,n){var i=t.length,o=0,a=0,l,f;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(f=YF.decode(t.charCodeAt(r++)),f===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(f&QF),f&=XF,o=o+(f<<a),a+=XT}while(l);n.value=AQ(o),n.rest=r},"base64VLQ_decode")});var S3=ae(Ti=>{function PQ(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}s(PQ,"getArg");Ti.getArg=PQ;var ZF=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,RQ=/^data:.+\,.+$/;function Vh(e){var t=e.match(ZF);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}s(Vh,"urlParse");Ti.urlParse=Vh;function T3(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}s(T3,"urlGenerate");Ti.urlGenerate=T3;function eE(e){var t=e,r=Vh(e);if(r){if(!r.path)return e;t=r.path}for(var n=Ti.isAbsolute(t),i=t.split(/\/+/),o,a=0,l=i.length-1;l>=0;l--)o=i[l],o==="."?i.splice(l,1):o===".."?a++:a>0&&(o===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,T3(r)):t}s(eE,"normalize");Ti.normalize=eE;function eM(e,t){e===""&&(e="."),t===""&&(t=".");var r=Vh(t),n=Vh(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),T3(r);if(r||t.match(RQ))return t;if(n&&!n.host&&!n.path)return n.host=t,T3(n);var i=t.charAt(0)==="/"?t:eE(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,T3(n)):i}s(eM,"join");Ti.join=eM;Ti.isAbsolute=function(e){return e.charAt(0)==="/"||ZF.test(e)};function kQ(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}s(kQ,"relative");Ti.relative=kQ;var tM=function(){var e=Object.create(null);return!("__proto__"in e)}();function rM(e){return e}s(rM,"identity");function NQ(e){return nM(e)?"$"+e:e}s(NQ,"toSetString");Ti.toSetString=tM?rM:NQ;function DQ(e){return nM(e)?e.slice(1):e}s(DQ,"fromSetString");Ti.fromSetString=tM?rM:DQ;function nM(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}s(nM,"isProtoString");function LQ(e,t,r){var n=E3(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:E3(e.name,t.name)}s(LQ,"compareByOriginalPositions");Ti.compareByOriginalPositions=LQ;function BQ(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=E3(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:E3(e.name,t.name)}s(BQ,"compareByGeneratedPositionsDeflated");Ti.compareByGeneratedPositionsDeflated=BQ;function E3(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}s(E3,"strcmp");function OQ(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=E3(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:E3(e.name,t.name)}s(OQ,"compareByGeneratedPositionsInflated");Ti.compareByGeneratedPositionsInflated=OQ;function FQ(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}s(FQ,"parseSourceMapInput");Ti.parseSourceMapInput=FQ;function MQ(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=Vh(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=eM(T3(n),t)}return eE(t)}s(MQ,"computeSourceURL");Ti.computeSourceURL=MQ});var nE=ae(iM=>{var tE=S3(),rE=Object.prototype.hasOwnProperty,Vu=typeof Map<"u";function Hl(){this._array=[],this._set=Vu?new Map:Object.create(null)}s(Hl,"ArraySet");Hl.fromArray=s(function(t,r){for(var n=new Hl,i=0,o=t.length;i<o;i++)n.add(t[i],r);return n},"ArraySet_fromArray");Hl.prototype.size=s(function(){return Vu?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Hl.prototype.add=s(function(t,r){var n=Vu?t:tE.toSetString(t),i=Vu?this.has(t):rE.call(this._set,n),o=this._array.length;(!i||r)&&this._array.push(t),i||(Vu?this._set.set(t,o):this._set[n]=o)},"ArraySet_add");Hl.prototype.has=s(function(t){if(Vu)return this._set.has(t);var r=tE.toSetString(t);return rE.call(this._set,r)},"ArraySet_has");Hl.prototype.indexOf=s(function(t){if(Vu){var r=this._set.get(t);if(r>=0)return r}else{var n=tE.toSetString(t);if(rE.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Hl.prototype.at=s(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Hl.prototype.toArray=s(function(){return this._array.slice()},"ArraySet_toArray");iM.ArraySet=Hl});var aM=ae(oM=>{var sM=S3();function UQ(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,o=t.generatedColumn;return n>r||n==r&&o>=i||sM.compareByGeneratedPositionsInflated(e,t)<=0}s(UQ,"generatedPositionAfter");function o7(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}s(o7,"MappingList");o7.prototype.unsortedForEach=s(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");o7.prototype.add=s(function(t){UQ(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");o7.prototype.toArray=s(function(){return this._sorted||(this._array.sort(sM.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");oM.MappingList=o7});var iE=ae(lM=>{var zh=ZT(),ln=S3(),a7=nE().ArraySet,qQ=aM().MappingList;function no(e){e||(e={}),this._file=ln.getArg(e,"file",null),this._sourceRoot=ln.getArg(e,"sourceRoot",null),this._skipValidation=ln.getArg(e,"skipValidation",!1),this._sources=new a7,this._names=new a7,this._mappings=new qQ,this._sourcesContents=null}s(no,"SourceMapGenerator");no.prototype._version=3;no.fromSourceMap=s(function(t){var r=t.sourceRoot,n=new no({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,r!=null&&(o.source=ln.relative(r,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),n.addMapping(o)}),t.sources.forEach(function(i){var o=i;r!==null&&(o=ln.relative(r,i)),n._sources.has(o)||n._sources.add(o);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");no.prototype.addMapping=s(function(t){var r=ln.getArg(t,"generated"),n=ln.getArg(t,"original",null),i=ln.getArg(t,"source",null),o=ln.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o})},"SourceMapGenerator_addMapping");no.prototype.setSourceContent=s(function(t,r){var n=t;this._sourceRoot!=null&&(n=ln.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ln.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[ln.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");no.prototype.applySourceMap=s(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var o=this._sourceRoot;o!=null&&(i=ln.relative(o,i));var a=new a7,l=new a7;this._mappings.unsortedForEach(function(f){if(f.source===i&&f.originalLine!=null){var c=t.originalPositionFor({line:f.originalLine,column:f.originalColumn});c.source!=null&&(f.source=c.source,n!=null&&(f.source=ln.join(n,f.source)),o!=null&&(f.source=ln.relative(o,f.source)),f.originalLine=c.line,f.originalColumn=c.column,c.name!=null&&(f.name=c.name))}var u=f.source;u!=null&&!a.has(u)&&a.add(u);var d=f.name;d!=null&&!l.has(d)&&l.add(d)},this),this._sources=a,this._names=l,t.sources.forEach(function(f){var c=t.sourceContentFor(f);c!=null&&(n!=null&&(f=ln.join(n,f)),o!=null&&(f=ln.relative(o,f)),this.setSourceContent(f,c))},this)},"SourceMapGenerator_applySourceMap");no.prototype._validateMapping=s(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");no.prototype._serializeMappings=s(function(){for(var t=0,r=1,n=0,i=0,o=0,a=0,l="",f,c,u,d,g=this._mappings.toArray(),p=0,y=g.length;p<y;p++){if(c=g[p],f="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)f+=";",r++;else if(p>0){if(!ln.compareByGeneratedPositionsInflated(c,g[p-1]))continue;f+=","}f+=zh.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(d=this._sources.indexOf(c.source),f+=zh.encode(d-a),a=d,f+=zh.encode(c.originalLine-1-i),i=c.originalLine-1,f+=zh.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(u=this._names.indexOf(c.name),f+=zh.encode(u-o),o=u)),l+=f}return l},"SourceMapGenerator_serializeMappings");no.prototype._generateSourcesContent=s(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=ln.relative(r,n));var i=ln.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");no.prototype.toJSON=s(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");no.prototype.toString=s(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");lM.SourceMapGenerator=no});var fM=ae(zu=>{zu.GREATEST_LOWER_BOUND=1;zu.LEAST_UPPER_BOUND=2;function sE(e,t,r,n,i,o){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?sE(a,t,r,n,i,o):o==zu.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?sE(e,a,r,n,i,o):o==zu.LEAST_UPPER_BOUND?a:e<0?-1:e}s(sE,"recursiveSearch");zu.search=s(function(t,r,n,i){if(r.length===0)return-1;var o=sE(-1,r.length,t,r,n,i||zu.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o},"search")});var uM=ae(cM=>{function oE(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}s(oE,"swap");function jQ(e,t){return Math.round(e+Math.random()*(t-e))}s(jQ,"randomIntInRange");function aE(e,t,r,n){if(r<n){var i=jQ(r,n),o=r-1;oE(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(o+=1,oE(e,o,l));oE(e,o+1,l);var f=o+1;aE(e,t,r,f-1),aE(e,t,f+1,n)}}s(aE,"doQuickSort");cM.quickSort=function(e,t){aE(e,t,0,e.length-1)}});var hM=ae(l7=>{var Rt=S3(),lE=fM(),w3=nE().ArraySet,$Q=ZT(),Kh=uM().quickSort;function br(e,t){var r=e;return typeof e=="string"&&(r=Rt.parseSourceMapInput(e)),r.sections!=null?new Ko(r,t):new Zn(r,t)}s(br,"SourceMapConsumer");br.fromSourceMap=function(e,t){return Zn.fromSourceMap(e,t)};br.prototype._version=3;br.prototype.__generatedMappings=null;Object.defineProperty(br.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});br.prototype.__originalMappings=null;Object.defineProperty(br.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});br.prototype._charIsMappingSeparator=s(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");br.prototype._parseMappings=s(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");br.GENERATED_ORDER=1;br.ORIGINAL_ORDER=2;br.GREATEST_LOWER_BOUND=1;br.LEAST_UPPER_BOUND=2;br.prototype.eachMapping=s(function(t,r,n){var i=r||null,o=n||br.GENERATED_ORDER,a;switch(o){case br.GENERATED_ORDER:a=this._generatedMappings;break;case br.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(f){var c=f.source===null?null:this._sources.at(f.source);return c=Rt.computeSourceURL(l,c,this._sourceMapURL),{source:c,generatedLine:f.generatedLine,generatedColumn:f.generatedColumn,originalLine:f.originalLine,originalColumn:f.originalColumn,name:f.name===null?null:this._names.at(f.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");br.prototype.allGeneratedPositionsFor=s(function(t){var r=Rt.getArg(t,"line"),n={source:Rt.getArg(t,"source"),originalLine:r,originalColumn:Rt.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Rt.compareByOriginalPositions,lE.LEAST_UPPER_BOUND);if(o>=0){var a=this._originalMappings[o];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Rt.getArg(a,"generatedLine",null),column:Rt.getArg(a,"generatedColumn",null),lastColumn:Rt.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o];else for(var f=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==f;)i.push({line:Rt.getArg(a,"generatedLine",null),column:Rt.getArg(a,"generatedColumn",null),lastColumn:Rt.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o]}return i},"SourceMapConsumer_allGeneratedPositionsFor");l7.SourceMapConsumer=br;function Zn(e,t){var r=e;typeof e=="string"&&(r=Rt.parseSourceMapInput(e));var n=Rt.getArg(r,"version"),i=Rt.getArg(r,"sources"),o=Rt.getArg(r,"names",[]),a=Rt.getArg(r,"sourceRoot",null),l=Rt.getArg(r,"sourcesContent",null),f=Rt.getArg(r,"mappings"),c=Rt.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Rt.normalize(a)),i=i.map(String).map(Rt.normalize).map(function(u){return a&&Rt.isAbsolute(a)&&Rt.isAbsolute(u)?Rt.relative(a,u):u}),this._names=w3.fromArray(o.map(String),!0),this._sources=w3.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(u){return Rt.computeSourceURL(a,u,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=f,this._sourceMapURL=t,this.file=c}s(Zn,"BasicSourceMapConsumer");Zn.prototype=Object.create(br.prototype);Zn.prototype.consumer=br;Zn.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Rt.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Zn.fromSourceMap=s(function(t,r){var n=Object.create(Zn.prototype),i=n._names=w3.fromArray(t._names.toArray(),!0),o=n._sources=w3.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Rt.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],f=n.__originalMappings=[],c=0,u=a.length;c<u;c++){var d=a[c],g=new dM;g.generatedLine=d.generatedLine,g.generatedColumn=d.generatedColumn,d.source&&(g.source=o.indexOf(d.source),g.originalLine=d.originalLine,g.originalColumn=d.originalColumn,d.name&&(g.name=i.indexOf(d.name)),f.push(g)),l.push(g)}return Kh(n.__originalMappings,Rt.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");Zn.prototype._version=3;Object.defineProperty(Zn.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function dM(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s(dM,"Mapping");Zn.prototype._parseMappings=s(function(t,r){for(var n=1,i=0,o=0,a=0,l=0,f=0,c=t.length,u=0,d={},g={},p=[],y=[],_,S,T,I,P;u<c;)if(t.charAt(u)===";")n++,u++,i=0;else if(t.charAt(u)===",")u++;else{for(_=new dM,_.generatedLine=n,I=u;I<c&&!this._charIsMappingSeparator(t,I);I++);if(S=t.slice(u,I),T=d[S],T)u+=S.length;else{for(T=[];u<I;)$Q.decode(t,u,g),P=g.value,u=g.rest,T.push(P);if(T.length===2)throw new Error("Found a source, but no line and column");if(T.length===3)throw new Error("Found a source and line, but no column");d[S]=T}_.generatedColumn=i+T[0],i=_.generatedColumn,T.length>1&&(_.source=l+T[1],l+=T[1],_.originalLine=o+T[2],o=_.originalLine,_.originalLine+=1,_.originalColumn=a+T[3],a=_.originalColumn,T.length>4&&(_.name=f+T[4],f+=T[4])),y.push(_),typeof _.originalLine=="number"&&p.push(_)}Kh(y,Rt.compareByGeneratedPositionsDeflated),this.__generatedMappings=y,Kh(p,Rt.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");Zn.prototype._findMapping=s(function(t,r,n,i,o,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return lE.search(t,r,o,a)},"SourceMapConsumer_findMapping");Zn.prototype.computeColumnSpans=s(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Zn.prototype.originalPositionFor=s(function(t){var r={generatedLine:Rt.getArg(t,"line"),generatedColumn:Rt.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Rt.compareByGeneratedPositionsDeflated,Rt.getArg(t,"bias",br.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var o=Rt.getArg(i,"source",null);o!==null&&(o=this._sources.at(o),o=Rt.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var a=Rt.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:o,line:Rt.getArg(i,"originalLine",null),column:Rt.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Zn.prototype.hasContentsOfAllSources=s(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Zn.prototype.sourceContentFor=s(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Rt.relative(this.sourceRoot,i));var o;if(this.sourceRoot!=null&&(o=Rt.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(o.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!o.path||o.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Zn.prototype.generatedPositionFor=s(function(t){var r=Rt.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Rt.getArg(t,"line"),originalColumn:Rt.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Rt.compareByOriginalPositions,Rt.getArg(t,"bias",br.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:Rt.getArg(o,"generatedLine",null),column:Rt.getArg(o,"generatedColumn",null),lastColumn:Rt.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");l7.BasicSourceMapConsumer=Zn;function Ko(e,t){var r=e;typeof e=="string"&&(r=Rt.parseSourceMapInput(e));var n=Rt.getArg(r,"version"),i=Rt.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new w3,this._names=new w3;var o={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Rt.getArg(a,"offset"),f=Rt.getArg(l,"line"),c=Rt.getArg(l,"column");if(f<o.line||f===o.line&&c<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=l,{generatedOffset:{generatedLine:f+1,generatedColumn:c+1},consumer:new br(Rt.getArg(a,"map"),t)}})}s(Ko,"IndexedSourceMapConsumer");Ko.prototype=Object.create(br.prototype);Ko.prototype.constructor=br;Ko.prototype._version=3;Object.defineProperty(Ko.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}});Ko.prototype.originalPositionFor=s(function(t){var r={generatedLine:Rt.getArg(t,"line"),generatedColumn:Rt.getArg(t,"column")},n=lE.search(r,this._sections,function(o,a){var l=o.generatedLine-a.generatedOffset.generatedLine;return l||o.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Ko.prototype.hasContentsOfAllSources=s(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Ko.prototype.sourceContentFor=s(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],o=i.consumer.sourceContentFor(t,!0);if(o)return o}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Ko.prototype.generatedPositionFor=s(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Rt.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var o={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Ko.prototype._parseMappings=s(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,a=0;a<o.length;a++){var l=o[a],f=i.consumer._sources.at(l.source);f=Rt.computeSourceURL(i.consumer.sourceRoot,f,this._sourceMapURL),this._sources.add(f),f=this._sources.indexOf(f);var c=null;l.name&&(c=i.consumer._names.at(l.name),this._names.add(c),c=this._names.indexOf(c));var u={source:f,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:c};this.__generatedMappings.push(u),typeof u.originalLine=="number"&&this.__originalMappings.push(u)}Kh(this.__generatedMappings,Rt.compareByGeneratedPositionsDeflated),Kh(this.__originalMappings,Rt.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");l7.IndexedSourceMapConsumer=Ko});var gM=ae(mM=>{var HQ=iE().SourceMapGenerator,f7=S3(),VQ=/(\r?\n)/,zQ=10,I3="$$$isSourceNode$$$";function Rs(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=i==null?null:i,this[I3]=!0,n!=null&&this.add(n)}s(Rs,"SourceNode");Rs.fromStringWithSourceMap=s(function(t,r,n){var i=new Rs,o=t.split(VQ),a=0,l=s(function(){var g=y(),p=y()||"";return g+p;function y(){return a<o.length?o[a++]:void 0}},"shiftNextLine"),f=1,c=0,u=null;return r.eachMapping(function(g){if(u!==null)if(f<g.generatedLine)d(u,l()),f++,c=0;else{var p=o[a]||"",y=p.substr(0,g.generatedColumn-c);o[a]=p.substr(g.generatedColumn-c),c=g.generatedColumn,d(u,y),u=g;return}for(;f<g.generatedLine;)i.add(l()),f++;if(c<g.generatedColumn){var p=o[a]||"";i.add(p.substr(0,g.generatedColumn)),o[a]=p.substr(g.generatedColumn),c=g.generatedColumn}u=g},this),a<o.length&&(u&&d(u,l()),i.add(o.splice(a).join(""))),r.sources.forEach(function(g){var p=r.sourceContentFor(g);p!=null&&(n!=null&&(g=f7.join(n,g)),i.setSourceContent(g,p))}),i;function d(g,p){if(g===null||g.source===void 0)i.add(p);else{var y=n?f7.join(n,g.source):g.source;i.add(new Rs(g.originalLine,g.originalColumn,y,p,g.name))}}s(d,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Rs.prototype.add=s(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[I3]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Rs.prototype.prepend=s(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[I3]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Rs.prototype.walk=s(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[I3]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Rs.prototype.join=s(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");Rs.prototype.replaceRight=s(function(t,r){var n=this.children[this.children.length-1];return n[I3]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Rs.prototype.setSourceContent=s(function(t,r){this.sourceContents[f7.toSetString(t)]=r},"SourceNode_setSourceContent");Rs.prototype.walkSourceContents=s(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][I3]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(f7.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");Rs.prototype.toString=s(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Rs.prototype.toStringWithSourceMap=s(function(t){var r={code:"",line:1,column:0},n=new HQ(t),i=!1,o=null,a=null,l=null,f=null;return this.walk(function(c,u){r.code+=c,u.source!==null&&u.line!==null&&u.column!==null?((o!==u.source||a!==u.line||l!==u.column||f!==u.name)&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:r.line,column:r.column},name:u.name}),o=u.source,a=u.line,l=u.column,f=u.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(var d=0,g=c.length;d<g;d++)c.charCodeAt(d)===zQ?(r.line++,r.column=0,d+1===g?(o=null,i=!1):i&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:r.line,column:r.column},name:u.name})):r.column++}),this.walkSourceContents(function(c,u){n.setSourceContent(c,u)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");mM.SourceNode=Rs});var pM=ae(c7=>{c7.SourceMapGenerator=iE().SourceMapGenerator;c7.SourceMapConsumer=hM().SourceMapConsumer;c7.SourceNode=gM().SourceNode});var vM=ae((b4e,yM)=>{var KQ=Object.prototype.toString,fE=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function WQ(e){return KQ.call(e).slice(8,-1)==="ArrayBuffer"}s(WQ,"isArrayBuffer");function GQ(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return fE?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}s(GQ,"fromArrayBuffer");function YQ(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return fE?Buffer.from(e,t):new Buffer(e,t)}s(YQ,"fromString");function JQ(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return WQ(e)?GQ(e,t,r):typeof e=="string"?YQ(e,t):fE?Buffer.from(e):new Buffer(e)}s(JQ,"bufferFrom");yM.exports=JQ});var wM=ae((Wu,hE)=>{var XQ=pM().SourceMapConsumer,cE=require("path"),Ua;try{Ua=require("fs"),(!Ua.existsSync||!Ua.readFileSync)&&(Ua=null)}catch{}var QQ=vM();function xM(e,t){return e.require(t)}s(xM,"dynamicRequire");var _M=!1,bM=!1,uE=!1,Wh="auto",Ku={},Gh={},ZQ=/^data:application\/json[^,]+base64,/,Ic=[],Ac=[];function mE(){return Wh==="browser"?!0:Wh==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}s(mE,"isInBrowser");function eZ(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}s(eZ,"hasGlobalProcessEventEmitter");function tZ(){return typeof process=="object"&&process!==null?process.version:""}s(tZ,"globalProcessVersion");function rZ(){if(typeof process=="object"&&process!==null)return process.stderr}s(rZ,"globalProcessStderr");function nZ(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}s(nZ,"globalProcessExit");function u7(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}s(u7,"handlerExec");var gE=u7(Ic);Ic.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in Ku)return Ku[e];var t="";try{if(Ua)Ua.existsSync(e)&&(t=Ua.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Ku[e]=t});function dE(e,t){if(!e)return t;var r=cE.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",o=r.slice(i.length);return i&&/^\/\w\:/.test(o)?(i+="/",i+cE.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+cE.resolve(r.slice(i.length),t)}s(dE,"supportRelativeURL");function iZ(e){var t;if(mE())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=gE(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,o,a;a=i.exec(t);)o=a;return o?o[1]:null}s(iZ,"retrieveSourceMapURL");var pE=u7(Ac);Ac.push(function(e){var t=iZ(e);if(!t)return null;var r;if(ZQ.test(t)){var n=t.slice(t.indexOf(",")+1);r=QQ(n,"base64").toString(),t=e}else t=dE(e,t),r=gE(t);return r?{url:t,map:r}:null});function yE(e){var t=Gh[e.source];if(!t){var r=pE(e.source);r?(t=Gh[e.source]={url:r.url,map:new XQ(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,o){var a=t.map.sourcesContent[o];if(a){var l=dE(t.url,i);Ku[l]=a}})):t=Gh[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=dE(t.url,n.source),n}return e}s(yE,"mapSourcePosition");function TM(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=yE({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+TM(t[2])+")":e}s(TM,"mapEvalOrigin");function sZ(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",o=this.getFunctionName(),a=!0,l=this.isConstructor(),f=!(this.isToplevel()||l);if(f){var c=this.getTypeName();c==="[object Object]"&&(c="null");var u=this.getMethodName();o?(c&&o.indexOf(c)!=0&&(i+=c+"."),i+=o,u&&o.indexOf("."+u)!=o.length-u.length-1&&(i+=" [as "+u+"]")):i+=c+"."+(u||"<anonymous>")}else l?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}s(sZ,"CallSiteToString");function CM(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=sZ,t}s(CM,"cloneCallSite");function EM(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,o=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=o.test(tZ())?0:62;n===1&&i>a&&!mE()&&!e.isEval()&&(i-=a);var l=yE({source:r,line:n,column:i});t.curPosition=l,e=CM(e);var f=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?f():t.nextPosition.name||f()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=TM(c),e=CM(e),e.getEvalOrigin=function(){return c}),e}s(EM,"wrapCallSite");function oZ(e,t){uE&&(Ku={},Gh={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,o={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+EM(t[l],o)),o.nextPosition=o.curPosition;return o.curPosition=o.nextPosition=null,i+a.reverse().join("")}s(oZ,"prepareStackTrace");function SM(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],o=Ku[r];if(!o&&Ua&&Ua.existsSync(r))try{o=Ua.readFileSync(r,"utf8")}catch{o=""}if(o){var a=o.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}s(SM,"getErrorSource");function aZ(e){var t=SM(e),r=rZ();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),nZ(1)}s(aZ,"printErrorAndExit");function lZ(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return aZ(arguments[1])}return e.apply(this,arguments)}}s(lZ,"shimEmitUncaughtException");var fZ=Ic.slice(0),cZ=Ac.slice(0);Wu.wrapCallSite=EM;Wu.getErrorSource=SM;Wu.mapSourcePosition=yE;Wu.retrieveSourceMap=pE;Wu.install=function(e){if(e=e||{},e.environment&&(Wh=e.environment,["node","browser","auto"].indexOf(Wh)===-1))throw new Error("environment "+Wh+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(Ic.length=0),Ic.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Ac.length=0),Ac.unshift(e.retrieveSourceMap)),e.hookRequire&&!mE()){var t=xM(hE,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(o,a){return Ku[a]=o,Gh[a]=void 0,r.call(this,o,a)},t.prototype._compile.__sourceMapSupport=!0)}if(uE||(uE="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),_M||(_M=!0,Error.prepareStackTrace=oZ),!bM){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=xM(hE,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&eZ()&&(bM=!0,lZ())}};Wu.resetRetrieveHandlers=function(){Ic.length=0,Ac.length=0,Ic=fZ.slice(0),Ac=cZ.slice(0),pE=u7(Ac),gE=u7(Ic)}});var IM=ae(()=>{wM().install()});function uZ(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}var d7,qa,AM,xE,vE,h7,PM=C0(()=>{"use strict";d7=U0(require("path")),qa=require("worker_threads");$h();s(uZ,"sleep");AM=["getSimilarSnippets","sleep"],xE=class xE{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=LF;this.sleep=uZ;var t;!qa.isMainThread&&((t=qa.workerData)!=null&&t.port)&&(IM(),process.cwd=()=>qa.workerData.cwd,this.configureWorkerResponse(qa.workerData.port))}initWorker(){let{port1:t,port2:r}=new qa.MessageChannel;this.port=t,this.worker=new qa.Worker(d7.default.resolve(d7.default.extname(__filename)!==".ts"?__dirname:d7.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of AM)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of AM){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:i})=>{let o=this[n];if(!o)throw new Error(`Function not found: ${n}`);try{let a=await o.apply(this,i);this.port.postMessage({id:r,res:a})}catch(a){if(!(a instanceof Error))throw a;typeof a.code=="string"?this.port.postMessage({id:r,err:a,code:a.code}):this.port.postMessage({id:r,err:a})}})}handleMessage({id:t,err:r,code:n,res:i}){let o=this.handlers.get(t);o&&(this.handlers.delete(t),r?(r.code=n,o.reject(r)):o.resolve(i))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let i=new Error().stack;r.stack&&(i!=null&&i.match(/^Error\n/))&&(r.stack+=i.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let i of this.handlers.values())i.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((i,o)=>{var a;this.handlers.set(n,{resolve:i,reject:o}),(a=this.port)==null||a.postMessage({id:n,fn:t,args:r})})}}};s(xE,"WorkerProxy");vE=xE,h7=new vE});function hZ(e){return Promise.all(e.map(t=>t.then(mZ,gZ)))}function mZ(e){return{status:"fulfilled",value:e}}function gZ(e){return{status:"rejected",reason:e}}var zT,dZ,_E,Gu,t7=C0(()=>{"use strict";HF();VF();zF();Hu();KF();PM();zT=300,dZ=[r7,n7,i7,s7],_E=class _E{constructor(t=dZ){this.startThreading=s(()=>h7.startThreading(),"startThreading");this.stopThreading=s(()=>h7.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(h7))}async getSnippets(t){let r=AbortSignal.timeout(zT),n=this.providers.map(i=>i.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):hZ(n)}};s(_E,"SnippetOrchestrator");Gu=_E;s(hZ,"allSettledBackup");s(mZ,"createPromiseFulfilledResult");s(gZ,"createPromiseRejectedResult")});function pZ(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}function kM(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}function RM(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}function yZ(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=RM(e,r),i=RM(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}var bE,m7,CE,g7,TE,A3,H4e,NM=C0(()=>{"use strict";Nh();bE=class bE{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){let i=await sT(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let f=this.nodeTypesWithBlockOrStmtChild.get(a.type),c=f==""?a.namedChildren[0]:a.childForFieldName(f);if((c==null?void 0:c.type)==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let o=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(o){if(this.languageId=="python"&&o.parent){let a=o.parent.type==":"?o.parent.parent:o.parent,l=a==null?void 0:a.nextSibling;for(;l&&l.type=="comment";){let f=l.startPosition.row==o.endPosition.row&&l.startPosition.column>=o.endPosition.column,c=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(f||c)o=l,l=l.nextSibling;else break}}if(!(o.endIndex>=o.tree.rootNode.endIndex-1&&(o.hasError()||o.parent.hasError())))return n(o)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),o=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(o!==void 0&&o<i.length){let a=o-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}};s(bE,"BaseBlockParser");m7=bE,CE=class CE extends m7{constructor(r,n,i,o,a){super(r,o,a);this.blockEmptyMatch=n;this.lineMatch=i}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,o=>{o.startIndex<n&&(n=o.startIndex);let a=r.substring(n,o.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=kM(r,n),this.isBlockStart(pZ(r,n))&&this.isBlockBodyEmpty(r,n)}};s(CE,"RegexBasedBlockParser");g7=CE;s(pZ,"getLineAtOffset");s(kM,"rewindToNearestNonWs");s(RM,"indent");s(yZ,"outdented");TE=class TE extends m7{constructor(r,n,i,o,a,l,f){super(r,n,i);this.startKeywords=o;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=f}isBlockEmpty(r,n){var o,a;let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(((o=r.parent)==null?void 0:o.type)=="class_definition"||((a=r.parent)==null?void 0:a.type)=="function_definition")&&r.children.length==1&&VO(r.parent))}async isEmptyBlockStart(r,n){var o,a,l,f;if(n>r.length)throw new RangeError("Invalid offset");for(let c=n;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;n=kM(r,n);let i=await sT(this.languageId,r);try{let c=i.rootNode.descendantForIndex(n-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let y=c;for(;y.parent;){if(y.type=="function_signature"||y.type=="method_signature"){let _=c.nextSibling;return _&&y.hasError()&&yZ(y,_,r)?!0:!y.children.find(T=>T.type==";")&&y.endIndex<=n}y=y.parent}}let u=null,d=null,g=null,p=c;for(;p!=null;){if(p.type==this.blockNodeType){d=p;break}if(this.nodeMatch[p.type]){g=p;break}if(p.type=="ERROR"){u=p;break}p=p.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let y=d.previousSibling;if(y!=null&&y.hasError()&&(y.text.startsWith('"""')||y.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,n)}if(u!=null){if(((o=u.previousSibling)==null?void 0:o.type)=="module"||((a=u.previousSibling)==null?void 0:a.type)=="internal_module"||((l=u.previousSibling)==null?void 0:l.type)=="def")return!0;let y=[...u.children].reverse(),_=y.find(T=>this.startKeywords.includes(T.type)),S=y.find(T=>T.type==this.blockNodeType);if(_){switch(this.languageId){case"python":{_.type=="try"&&c.type=="identifier"&&c.text.length>4&&(S=(f=y.find(P=>P.hasError()))==null?void 0:f.children.find(P=>P.type=="block"));let T,I=0;for(let P of u.children){if(P.type==":"&&I==0){T=P;break}P.type=="("&&(I+=1),P.type==")"&&(I-=1)}if(T&&_.endIndex<=T.startIndex&&T.nextSibling){if(_.type=="def"){let P=T.nextSibling;if(P.type=='"'||P.type=="'"||P.type=="ERROR"&&(P.text=='"""'||P.text=="'''"))return!0}return!1}break}case"javascript":{let T=y.find(U=>U.type=="formal_parameters");if(_.type=="class"&&T)return!0;let I=y.find(U=>U.type=="{");if(I&&I.startIndex>_.endIndex&&I.nextSibling!=null||y.find(U=>U.type=="do")&&_.type=="while"||_.type=="=>"&&_.nextSibling&&_.nextSibling.type!="{")return!1;break}case"typescript":{let T=y.find(P=>P.type=="{");if(T&&T.startIndex>_.endIndex&&T.nextSibling!=null||y.find(P=>P.type=="do")&&_.type=="while"||_.type=="=>"&&_.nextSibling&&_.nextSibling.type!="{")return!1;break}}return S&&S.startIndex>_.endIndex?this.isBlockEmpty(S,n):!0}}if(g!=null){let y=this.nodeMatch[g.type],_=g.children.slice().reverse().find(S=>S.type==y);if(_)return this.isBlockEmpty(_,n);if(this.nodeTypesWithBlockOrStmtChild.has(g.type)){let S=this.nodeTypesWithBlockOrStmtChild.get(g.type),T=S==""?g.children[0]:g.childForFieldName(S);if(T&&T.type!=this.blockNodeType&&T.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}};s(TE,"TreeSitterBasedBlockParser");A3=TE,H4e={python:new A3("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new A3("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new A3("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new A3("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new g7("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new g7("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)}});var wc=C0(()=>{"use strict";EF();Mh();qu();t7();Nh();NM();C3();LT();qT();$h();ju();Hu();p3()});var DE=ae((Ehe,MM)=>{"use strict";var FM=require("fs"),NE;function EZ(){try{return FM.statSync("/.dockerenv"),!0}catch{return!1}}s(EZ,"hasDockerEnv");function SZ(){try{return FM.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}s(SZ,"hasDockerCGroup");MM.exports=()=>(NE===void 0&&(NE=EZ()||SZ()),NE)});var jM=ae((whe,LE)=>{"use strict";var wZ=require("os"),IZ=require("fs"),UM=DE(),qM=s(()=>{if(process.platform!=="linux")return!1;if(wZ.release().toLowerCase().includes("microsoft"))return!UM();try{return IZ.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!UM():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?LE.exports=qM:LE.exports=qM()});var HM=ae((Ahe,$M)=>{"use strict";$M.exports=(e,t,r)=>{let n=s(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}});var JM=ae((Rhe,YM)=>{var AZ=require("path"),PZ=require("child_process"),{promises:x7,constants:GM}=require("fs"),v7=jM(),RZ=DE(),OE=HM(),VM=AZ.join(__dirname,"xdg-open"),{platform:k3,arch:zM}=process,kZ=s(()=>{try{return x7.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),BE;function NZ(){return BE===void 0&&(BE=kZ()||RZ()),BE}s(NZ,"isInsideContainer");var DZ=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await x7.access(r,GM.F_OK),n=!0}catch{}if(!n)return e;let i=await x7.readFile(r,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?(t=o.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),KM=s(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),_7=s(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return KM(e.app,l=>_7({...e,app:l}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return KM(t,l=>_7({...e,app:{name:l,arguments:r}}));let n,i=[],o={};if(k3==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(k3==="win32"||v7&&!NZ()&&!t){let l=await DZ();n=v7?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),v7||(o.windowsVerbatimArguments=!0);let f=["Start"];e.wait&&f.push("-Wait"),t?(f.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&f.push(`"${e.target}"`),r.length>0&&(r=r.map(c=>`"\`"${c}\`""`),f.push(r.join(","))),e.target=Buffer.from(f.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!__dirname||__dirname==="/",f=!1;try{await x7.access(VM,GM.X_OK),f=!0}catch{}n=process.versions.electron||k3==="android"||l||!f?"xdg-open":VM}r.length>0&&i.push(...r),e.wait||(o.stdio="ignore",o.detached=!0)}e.target&&i.push(e.target),k3==="darwin"&&r.length>0&&i.push("--args",...r);let a=PZ.spawn(n,i,o);return e.wait?new Promise((l,f)=>{a.once("error",f),a.once("close",c=>{if(!e.allowNonzeroExitCode&&c>0){f(new Error(`Exited with code ${c}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),FE=s((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return _7({...t,target:e})},"open"),LZ=s((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return _7({...t,app:{name:e,arguments:r}})},"openApp");function WM(e){if(typeof e=="string"||Array.isArray(e))return e;let{[zM]:t}=e;if(!t)throw new Error(`${zM} is not supported`);return t}s(WM,"detectArchBinary");function ME({[k3]:e},{wsl:t}){if(t&&v7)return WM(t);if(!e)throw new Error(`${k3} is not supported`);return WM(e)}s(ME,"detectPlatformBinary");var b7={};OE(b7,"chrome",()=>ME({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));OE(b7,"firefox",()=>ME({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));OE(b7,"edge",()=>ME({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));FE.apps=b7;FE.openApp=LZ;YM.exports=FE});var eU=ae(($he,ZM)=>{var N3=1e3,D3=N3*60,L3=D3*60,ed=L3*24,OZ=ed*7,FZ=ed*365.25;ZM.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return MZ(e);if(r==="number"&&isFinite(e))return t.long?qZ(e):UZ(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function MZ(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*FZ;case"weeks":case"week":case"w":return r*OZ;case"days":case"day":case"d":return r*ed;case"hours":case"hour":case"hrs":case"hr":case"h":return r*L3;case"minutes":case"minute":case"mins":case"min":case"m":return r*D3;case"seconds":case"second":case"secs":case"sec":case"s":return r*N3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}s(MZ,"parse");function UZ(e){var t=Math.abs(e);return t>=ed?Math.round(e/ed)+"d":t>=L3?Math.round(e/L3)+"h":t>=D3?Math.round(e/D3)+"m":t>=N3?Math.round(e/N3)+"s":e+"ms"}s(UZ,"fmtShort");function qZ(e){var t=Math.abs(e);return t>=ed?C7(e,t,ed,"day"):t>=L3?C7(e,t,L3,"hour"):t>=D3?C7(e,t,D3,"minute"):t>=N3?C7(e,t,N3,"second"):e+" ms"}s(qZ,"fmtLong");function C7(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}s(C7,"plural")});var $E=ae((Vhe,tU)=>{function jZ(e){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=a,r.humanize=eU(),r.destroy=c,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let d=0;for(let g=0;g<u.length;g++)d=(d<<5)-d+u.charCodeAt(g),d|=0;return r.colors[Math.abs(d)%r.colors.length]}s(t,"selectColor"),r.selectColor=t;function r(u){let d,g=null,p,y;function _(...S){if(!_.enabled)return;let T=_,I=Number(new Date),P=I-(d||I);T.diff=P,T.prev=d,T.curr=I,d=I,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let U=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(L,Q)=>{if(L==="%%")return"%";U++;let te=r.formatters[Q];if(typeof te=="function"){let Ce=S[U];L=te.call(T,Ce),S.splice(U,1),U--}return L}),r.formatArgs.call(T,S),(T.log||r.log).apply(T,S)}return s(_,"debug"),_.namespace=u,_.useColors=r.useColors(),_.color=r.selectColor(u),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(p!==r.namespaces&&(p=r.namespaces,y=r.enabled(u)),y),set:S=>{g=S}}),typeof r.init=="function"&&r.init(_),_}s(r,"createDebug");function n(u,d){let g=r(this.namespace+(typeof d>"u"?":":d)+u);return g.log=this.log,g}s(n,"extend");function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d,g=(typeof u=="string"?u:"").split(/[\s,]+/),p=g.length;for(d=0;d<p;d++)g[d]&&(u=g[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}s(i,"enable");function o(){let u=[...r.names.map(l),...r.skips.map(l).map(d=>"-"+d)].join(",");return r.enable(""),u}s(o,"disable");function a(u){if(u[u.length-1]==="*")return!0;let d,g;for(d=0,g=r.skips.length;d<g;d++)if(r.skips[d].test(u))return!1;for(d=0,g=r.names.length;d<g;d++)if(r.names[d].test(u))return!0;return!1}s(a,"enabled");function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}s(l,"toNamespace");function f(u){return u instanceof Error?u.stack||u.message:u}s(f,"coerce");function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(c,"destroy"),r.enable(r.load()),r}s(jZ,"setup");tU.exports=jZ});var rU=ae((ks,T7)=>{ks.formatArgs=HZ;ks.save=VZ;ks.load=zZ;ks.useColors=$Z;ks.storage=KZ();ks.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ks.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $Z(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s($Z,"useColors");function HZ(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+T7.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}s(HZ,"formatArgs");ks.log=console.debug||console.log||(()=>{});function VZ(e){try{e?ks.storage.setItem("debug",e):ks.storage.removeItem("debug")}catch{}}s(VZ,"save");function zZ(){let e;try{e=ks.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}s(zZ,"load");function KZ(){try{return localStorage}catch{}}s(KZ,"localstorage");T7.exports=$E()(ks);var{formatters:WZ}=T7.exports;WZ.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var iU=ae((Whe,nU)=>{"use strict";nU.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var aU=ae((Ghe,oU)=>{"use strict";var GZ=require("os"),sU=require("tty"),io=iU(),{env:An}=process,kc;io("no-color")||io("no-colors")||io("color=false")||io("color=never")?kc=0:(io("color")||io("colors")||io("color=true")||io("color=always"))&&(kc=1);"FORCE_COLOR"in An&&(An.FORCE_COLOR==="true"?kc=1:An.FORCE_COLOR==="false"?kc=0:kc=An.FORCE_COLOR.length===0?1:Math.min(parseInt(An.FORCE_COLOR,10),3));function HE(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}s(HE,"translateLevel");function VE(e,t){if(kc===0)return 0;if(io("color=16m")||io("color=full")||io("color=truecolor"))return 3;if(io("color=256"))return 2;if(e&&!t&&kc===void 0)return 0;let r=kc||0;if(An.TERM==="dumb")return r;if(process.platform==="win32"){let n=GZ.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in An)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in An)||An.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in An)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(An.TEAMCITY_VERSION)?1:0;if(An.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in An){let n=parseInt((An.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(An.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(An.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(An.TERM)||"COLORTERM"in An?1:r}s(VE,"supportsColor");function YZ(e){let t=VE(e,e&&e.isTTY);return HE(t)}s(YZ,"getSupportLevel");oU.exports={supportsColor:YZ,stdout:HE(VE(!0,sU.isatty(1))),stderr:HE(VE(!0,sU.isatty(2)))}});var fU=ae((ei,S7)=>{var JZ=require("tty"),E7=require("util");ei.init=nee;ei.log=eee;ei.formatArgs=QZ;ei.save=tee;ei.load=ree;ei.useColors=XZ;ei.destroy=E7.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ei.colors=[6,2,3,4,5,1];try{let e=aU();e&&(e.stderr||e).level>=2&&(ei.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ei.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function XZ(){return"colors"in ei.inspectOpts?!!ei.inspectOpts.colors:JZ.isatty(process.stderr.fd)}s(XZ,"useColors");function QZ(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+S7.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=ZZ()+t+" "+e[0]}s(QZ,"formatArgs");function ZZ(){return ei.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(ZZ,"getDate");function eee(...e){return process.stderr.write(E7.format(...e)+`
`)}s(eee,"log");function tee(e){e?process.env.DEBUG=e:delete process.env.DEBUG}s(tee,"save");function ree(){return process.env.DEBUG}s(ree,"load");function nee(e){e.inspectOpts={};let t=Object.keys(ei.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=ei.inspectOpts[t[r]]}s(nee,"init");S7.exports=$E()(ei);var{formatters:lU}=S7.exports;lU.o=function(e){return this.inspectOpts.colors=this.useColors,E7.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};lU.O=function(e){return this.inspectOpts.colors=this.useColors,E7.inspect(e,this.inspectOpts)}});var td=ae((Xhe,zE)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?zE.exports=rU():zE.exports=fU()});var ZE=ae((Qhe,hU)=>{var Zh=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,iee=typeof AbortController=="function",t8,w7=iee?AbortController:(t8=class{constructor(){this.signal=new cU}abort(){this.signal.dispatchEvent("abort")}},s(t8,"AbortController"),t8),see=typeof AbortSignal=="function",oee=typeof w7.AbortSignal=="function",r8,cU=see?AbortSignal:oee?w7.AbortController:(r8=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},s(r8,"AbortSignal"),r8),YE=new Set,KE=s((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;I7(r)&&JE(r,`${e} option`,`options.${t}`,O3)},"deprecatedOption"),WE=s((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(I7(r)){let{prototype:n}=O3,{get:i}=Object.getOwnPropertyDescriptor(n,e);JE(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),aee=s((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(I7(r)){let{prototype:n}=O3,{get:i}=Object.getOwnPropertyDescriptor(n,e);JE(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),uU=s((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),I7=s(e=>!YE.has(e),"shouldWarn"),JE=s((e,t,r,n)=>{YE.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;uU(i,"DeprecationWarning",e,n)},"warn"),rd=s(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),dU=s(e=>rd(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?B3:null:null,"getUintArray"),XE=class XE extends Array{constructor(t){super(t),this.fill(0)}};s(XE,"ZeroArray");var B3=XE,QE=class QE{constructor(t){if(t===0)return[];let r=dU(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};s(QE,"Stack");var GE=QE,e8=class e8{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:f,dispose:c,disposeAfter:u,noDisposeOnSet:d,noUpdateTTL:g,maxSize:p=0,sizeCalculation:y,fetchMethod:_,fetchContext:S,noDeleteOnFetchRejection:T,noDeleteOnStaleGet:I}=t,{length:P,maxAge:U,stale:k}=t instanceof e8?{}:t;if(r!==0&&!rd(r))throw new TypeError("max option must be a nonnegative integer");let L=r?dU(r):Array;if(!L)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=y||P,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=_||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=S,!this.fetchMethod&&S!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new L(r),this.prev=new L(r),this.head=0,this.tail=0,this.free=new GE(r),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof u=="function"?(this.disposeAfter=u,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!d,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!T,this.maxSize!==0){if(!rd(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!f||!!k,this.noDeleteOnStaleGet=!!I,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=rd(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||U||0,this.ttl){if(!rd(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let Q="LRU_CACHE_UNBOUNDED";I7(Q)&&(YE.add(Q),uU("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Q,e8))}k&&KE("stale","allowStale"),U&&KE("maxAge","ttl"),P&&KE("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new B3(this.max),this.starts=new B3(this.max),this.setItemTTL=(n,i,o=Zh.now())=>{if(this.starts[n]=i!==0?o:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?Zh.now():0};let t=0,r=s(()=>{let n=Zh.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new B3(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!rd(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!rd(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return WE("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=Zh.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=Zh.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let c=this.size===0?void 0:this.keyMap.get(t);if(c===void 0)c=this.newIndex(),this.keyList[c]=t,this.valList[c]=r,this.keyMap.set(t,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,a),f=!1;else{let u=this.valList[c];r!==u&&(this.isBackgroundFetch(u)?u.__abortController.abort():o||(this.dispose(u,t,"set"),this.disposeAfter&&this.disposed.push([u,t,"set"])),this.removeItemSize(c),this.valList[c]=r,this.addItemSize(c,a)),this.moveToTail(c)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),f||this.setItemTTL(c,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let o=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(o))return o;let a=new w7,l={signal:a.signal,options:n,context:i},f=s(g=>(a.signal.aborted||this.set(t,g,l.options),g),"cb"),c=s(g=>{if(this.valList[r]===d&&(!n.noDeleteOnFetchRejection||d.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=d.__staleWhileFetching),d.__returned===d)throw g},"eb"),u=s(g=>g(this.fetchMethod(t,o,l)),"pcall"),d=new Promise(u).then(f,c);return d.__abortController=a,d.__staleWhileFetching=o,d.__returned=null,r===void 0?(this.set(t,d,l.options),r=this.keyMap.get(t)):this.valList[r]=d,d}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,fetchContext:d=this.fetchContext,forceRefresh:g=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:f,noUpdateTTL:c,noDeleteOnFetchRejection:u},y=this.keyMap.get(t);if(y===void 0){let _=this.backgroundFetch(t,y,p,d);return _.__returned=_}else{let _=this.valList[y];if(this.isBackgroundFetch(_))return r&&_.__staleWhileFetching!==void 0?_.__staleWhileFetching:_.__returned=_;if(!g&&!this.isStale(y))return this.moveToTail(y),n&&this.updateItemAge(y),_;let S=this.backgroundFetch(t,y,p,d);return r&&S.__staleWhileFetching!==void 0?S.__staleWhileFetching:S.__returned=S}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let o=this.keyMap.get(t);if(o!==void 0){let a=this.valList[o],l=this.isBackgroundFetch(a);return this.isStale(o)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(o),n&&this.updateItemAge(o),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return WE("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return WE("reset","clear"),this.clear}get length(){return aee("length","size"),this.size}static get AbortController(){return w7}static get AbortSignal(){return cU}};s(e8,"LRUCache");var O3=e8;hU.exports=O3});var sS=ae((e8e,mU)=>{"use strict";var rS=class rS extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};s(rS,"FetchBaseError");var n8=rS,nS=class nS extends n8{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};s(nS,"FetchError");var eS=nS,iS=class iS extends n8{constructor(t,r="aborted"){super(t,r,"AbortError")}};s(iS,"AbortError");var tS=iS;mU.exports={FetchBaseError:n8,FetchError:eS,AbortError:tS}});var Vl=ae((r8e,pU)=>{"use strict";var{constants:{MAX_LENGTH:lee}}=require("buffer"),{pipeline:A7,PassThrough:fee}=require("stream"),{promisify:cee}=require("util"),{createGunzip:uee,createInflate:dee,createBrotliDecompress:hee,constants:{Z_SYNC_FLUSH:gU}}=require("zlib"),mee=td()("helix-fetch:utils"),gee=cee(A7),pee=s((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),yee=s((e,t,r,n)=>{if(!pee(e,t))return r;let i=s(o=>{o&&(mee(`encountered error while decoding stream: ${o}`),n(o))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return A7(r,uee({flush:gU,finishFlush:gU}),i);case"deflate":case"x-deflate":return A7(r,dee(),i);case"br":return A7(r,hee(),i);default:return r}},"decodeStream"),vee=s(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),P7=s((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?xee(e,t):_ee(e,t);default:return 0}},"calcSize"),xee=s((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:P7(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),_ee=s((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=P7(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=P7(e[i],t)}),r},"calcObjectSize"),bee=s(e=>P7(e,new WeakSet),"sizeof"),Cee=s(async e=>{let t=new fee,r=0,n=[];return t.on("data",i=>{if(r+i.length>lee)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await gee(e,t),Buffer.concat(n,r)},"streamToBuffer");pU.exports={decodeStream:yee,isPlainObject:vee,sizeof:bee,streamToBuffer:Cee}});var k7=ae((i8e,_U)=>{"use strict";var{PassThrough:yU,Readable:zl}=require("stream"),{types:{isAnyArrayBuffer:xU}}=require("util"),{FetchError:Tee,FetchBaseError:Eee}=sS(),{streamToBuffer:See}=Vl(),wee=Buffer.alloc(0),so=Symbol("Body internals"),Iee=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),vU=s(async e=>{if(e[so].disturbed)throw new TypeError("Already read");if(e[so].error)throw new TypeError(`Stream had error: ${e[so].error.message}`);e[so].disturbed=!0;let{stream:t}=e[so];return t===null?wee:See(t)},"consume"),oS=class oS{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=zl.from(t.toString()):t instanceof zl?r=t:Buffer.isBuffer(t)?r=zl.from(t):xU(t)?r=zl.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=zl.from(t):r=zl.from(String(t)),this[so]={stream:r,disturbed:!1,error:null},t instanceof zl&&r.on("error",n=>{let i=n instanceof Eee?n:new Tee(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[so].error=i})}get body(){return this[so].stream}get bodyUsed(){return this[so].disturbed}async buffer(){return vU(this)}async arrayBuffer(){return Iee(await this.buffer())}async text(){return(await vU(this)).toString()}async json(){return JSON.parse(await this.text())}};s(oS,"Body");var R7=oS;Object.defineProperties(R7.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var Aee=s(e=>{if(e[so].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[so],r=t;if(t instanceof zl){r=new yU;let n=new yU;t.pipe(r),t.pipe(n),e[so].stream=n}return r},"cloneStream"),Pee=s(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||xU(e)||e instanceof zl?null:"text/plain; charset=utf-8","guessContentType");_U.exports={Body:R7,cloneStream:Aee,guessContentType:Pee}});var F3=ae((o8e,EU)=>{"use strict";var{validateHeaderName:bU,validateHeaderValue:CU}=require("http"),{isPlainObject:Ree}=Vl(),Kl=Symbol("Headers internals"),i8=s(e=>{let t=typeof e!="string"?String(e):e;if(typeof bU=="function")bU(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),TU=s((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof CU=="function")CU(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),D7=class D7{constructor(t={}){if(this[Kl]={map:new Map},t instanceof D7)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(Ree(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[Kl].map.set(i8(t),TU(r,t))}has(t){return this[Kl].map.has(i8(t))}get(t){let r=this[Kl].map.get(i8(t));return r===void 0?null:r}append(t,r){let n=i8(t),i=TU(r,t),o=this[Kl].map.get(n);this[Kl].map.set(n,o?`${o}, ${i}`:i)}delete(t){this[Kl].map.delete(i8(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[Kl].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[Kl].map)}};s(D7,"Headers");var N7=D7;Object.defineProperties(N7.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));EU.exports={Headers:N7}});var cS=ae((l8e,SU)=>{"use strict";var{EventEmitter:kee}=require("events"),Wo=Symbol("AbortSignal internals"),aS=class aS{constructor(){this[Wo]={eventEmitter:new kee,onabort:null,aborted:!1}}get aborted(){return this[Wo].aborted}get onabort(){return this[Wo].onabort}set onabort(t){this[Wo].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Wo].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Wo].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Wo][n]=="function"&&this[n](r),this[Wo].eventEmitter.emit(t,r)}fire(){this[Wo].aborted=!0,this.dispatchEvent("abort")}};s(aS,"AbortSignal");var M3=aS;Object.defineProperties(M3.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var lS=class lS extends M3{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Wo].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Wo].timerId)}};s(lS,"TimeoutSignal");var B7=lS;Object.defineProperties(B7.prototype,{clear:{enumerable:!0}});var L7=Symbol("AbortController internals"),fS=class fS{constructor(){this[L7]={signal:new M3}}get signal(){return this[L7].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[L7].signal.aborted||this[L7].signal.fire()}};s(fS,"AbortController");var O7=fS;Object.defineProperties(O7.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});SU.exports={AbortController:O7,AbortSignal:M3,TimeoutSignal:B7}});var s8=ae((c8e,AU)=>{"use strict";var{randomBytes:Nee}=require("crypto"),{Readable:Dee}=require("stream"),dS=s(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),Lee=s(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),wU=s(e=>`--${e}--\r
\r
`,"getFooter"),IU=s((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,dS(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*Bee(e,t){for(let[r,n]of e)yield IU(t,r,n),dS(n)?yield*n.stream():yield n,yield`\r
`;yield wU(t)}s(Bee,"formDataIterator");var Oee=s((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(IU(t,n,i)),r+=dS(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(wU(t)),r},"getFormDataLength"),hS=class hS{constructor(t){this.fd=t,this.boundary=Nee(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=Oee(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return Dee.from(Bee(this.fd,this.boundary))}};s(hS,"FormDataSerializer");var uS=hS;AU.exports={isFormData:Lee,FormDataSerializer:uS}});var RU=ae((d8e,PU)=>{"use strict";var{AbortSignal:Fee}=cS(),{Body:Mee,cloneStream:Uee,guessContentType:qee}=k7(),{Headers:jee}=F3(),{isPlainObject:$ee}=Vl(),{isFormData:Hee,FormDataSerializer:Vee}=s8(),zee=20,Nc=Symbol("Request internals"),o8=class o8 extends Mee{constructor(t,r={}){let n=t instanceof o8?t:null,i=n?new URL(n.url):new URL(t),o=r.method||n&&n.method||"GET";if(o=o.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(o))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?Uee(n):null),l=new jee(r.headers||n&&n.headers||{});if(Hee(a)&&!l.has("content-type")){let d=new Vee(a);a=d.stream(),l.set("content-type",d.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",d.length())}if(!l.has("content-type"))if($ee(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let d=qee(a);d&&l.set("content-type",d)}super(a);let f=n?n.signal:null;if("signal"in r&&(f=r.signal),f&&!(f instanceof Fee))throw new TypeError("signal needs to be an instance of AbortSignal");let c=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(c))throw new TypeError(`'${c}' is not a valid redirect option`);let u=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(u))throw new TypeError(`'${u}' is not a valid cache option`);this[Nc]={init:{...r},method:o,redirect:c,cache:u,headers:l,parsedURL:i,signal:f},r.follow===void 0?!n||n.follow===void 0?this.follow=zee:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[Nc].method}get url(){return this[Nc].parsedURL.toString()}get headers(){return this[Nc].headers}get redirect(){return this[Nc].redirect}get cache(){return this[Nc].cache}get signal(){return this[Nc].signal}clone(){return new o8(this)}get init(){return this[Nc].init}get[Symbol.toStringTag](){return this.constructor.name}};s(o8,"Request");var F7=o8;Object.defineProperties(F7.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});PU.exports={Request:F7}});var mS=ae((m8e,kU)=>{"use strict";var{Body:Kee,cloneStream:Wee,guessContentType:Gee}=k7(),{Headers:Yee}=F3(),{isPlainObject:Jee}=Vl(),{isFormData:Xee,FormDataSerializer:Qee}=s8(),Go=Symbol("Response internals"),a8=class a8 extends Kee{constructor(t=null,r={}){let n=new Yee(r.headers),i=t;if(Xee(i)&&!n.has("content-type")){let o=new Qee(i);i=o.stream(),n.set("content-type",o.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",o.length())}if(i!==null&&!n.has("content-type"))if(Jee(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let o=Gee(i);o&&n.set("content-type",o)}super(i),this[Go]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Go].url||""}get status(){return this[Go].status}get statusText(){return this[Go].statusText}get ok(){return this[Go].status>=200&&this[Go].status<300}get redirected(){return this[Go].counter>0}get headers(){return this[Go].headers}get httpVersion(){return this[Go].httpVersion}get decoded(){return this[Go].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new a8(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new a8(Wee(this),{...this[Go]})}get[Symbol.toStringTag](){return this.constructor.name}};s(a8,"Response");var M7=a8;Object.defineProperties(M7.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});kU.exports={Response:M7}});var DU=ae((p8e,NU)=>{"use strict";var Zee=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),ete=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),tte=new Set([500,502,503,504]),rte={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},nte={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function nd(e){let t=parseInt(e,10);return isFinite(t)?t:0}s(nd,"toNumberOrZero");function ite(e){return e?tte.has(e.status):!0}s(ite,"isErrorResponse");function gS(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);t[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return t}s(gS,"parseCacheControl");function ste(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}s(ste,"formatCacheControl");var l8;NU.exports=(l8=class{constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=gS(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=gS(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":ste(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&ete.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Zee.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=gS(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)rte[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return nd(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return nd(this._rescc["s-maxage"])}if(this._rescc["max-age"])return nd(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+nd(this._rescc["stale-if-error"]),n=t+nd(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+nd(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+nd(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&ite(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!nte[a]?r.headers[a]:this._resHeaders[a];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},s(l8,"CachePolicy"),l8)});var FU=ae((v8e,OU)=>{"use strict";var ote=DU(),{Headers:ate}=F3(),LU=s(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),BU=s(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),yS=class yS{constructor(t,r,n){this.policy=new ote(LU(t),BU(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(LU(t))}responseHeaders(t){return new ate(this.policy.responseHeaders(BU(t)))}timeToLive(){return this.policy.timeToLive()}};s(yS,"CachePolicyWrapper");var pS=yS;OU.exports=pS});var qU=ae((_8e,UU)=>{"use strict";var{Readable:lte}=require("stream"),{Headers:MU}=F3(),{Response:fte}=mS(),Dc=Symbol("CacheableResponse internals"),cte=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),U7=class U7 extends fte{constructor(t,r){super(t,r);let n=new MU(r.headers);this[Dc]={headers:n,bufferedBody:t}}get headers(){return this[Dc].headers}set headers(t){if(t instanceof MU)this[Dc].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return lte.from(this[Dc].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[Dc].bufferedBody}async arrayBuffer(){return cte(this[Dc].bufferedBody)}async text(){return this[Dc].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l}=this;return new U7(this[Dc].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}};s(U7,"CacheableResponse");var vS=U7,ute=s(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:f}=e;return new vS(t,{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:f})},"cacheableResponse");UU.exports={cacheableResponse:ute}});var q7=ae((C8e,jU)=>{"use strict";var _S=class _S extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};s(_S,"RequestAbortedError");var xS=_S;jU.exports={RequestAbortedError:xS}});var KU=ae((E8e,zU)=>{"use strict";var HU=require("http"),VU=require("https"),{Readable:dte}=require("stream"),Wl=td()("helix-fetch:h1"),{RequestAbortedError:$U}=q7(),{decodeStream:hte}=Vl(),mte=s((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new VU.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new HU.Agent(n),r.httpAgent):void 0},"getAgent"),gte=s(e=>{e.h1={}},"setupContext"),pte=s(async({h1:e})=>{e.httpAgent&&(Wl("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(Wl("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),yte=s((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:f}=e,c=t?hte(n,f,e,r):e;return{statusCode:n,statusText:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:f,readable:c,decoded:!!(t&&c!==e)}},"createResponse"),vte=s(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?VU:HU,i=mte(e,t.protocol),o={...r,agent:i},{socket:a,body:l}=o;return a&&(delete o.socket,a.assigned||(a.assigned=!0,i?o.agent=new Proxy(i,{get:(f,c)=>c==="createConnection"&&!a.inUse?(u,d)=>{Wl(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,d(null,a)}:f[c]}):o.createConnection=(f,c)=>{Wl(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,c(null,a)})),new Promise((f,c)=>{Wl(`${o.method} ${t.href}`);let u,{signal:d}=o,g=s(()=>{d.removeEventListener("abort",g),a&&!a.inUse&&(Wl(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(new $U),u&&u.abort()},"onAbortSignal");if(d){if(d.aborted){c(new $U);return}d.addEventListener("abort",g)}u=n(t,o),u.once("response",p=>{d&&d.removeEventListener("abort",g),a&&!a.inUse&&(Wl(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f(yte(p,o.decode,c))}),u.once("error",p=>{d&&d.removeEventListener("abort",g),a&&!a.inUse&&(Wl(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u.aborted||(Wl(`${o.method} ${t.href} failed with: ${p.message}`),u.abort(),c(p))}),l instanceof dte?l.pipe(u):(l&&u.write(l),u.end())})},"h1Request");zU.exports={request:vte,setupContext:gte,resetContext:pte}});var JU=ae((w8e,YU)=>{"use strict";var{connect:xte,constants:_te}=require("http2"),{Readable:bte}=require("stream"),Cr=td()("helix-fetch:h2"),{RequestAbortedError:WU}=q7(),{decodeStream:Cte}=Vl(),{NGHTTP2_CANCEL:f8}=_te,Tte=5*60*1e3,Ete=5e3,Ste=s(e=>{e.h2={sessionCache:{}}},"setupContext"),wte=s(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),Cr(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),GU=s((e,t,r,n=()=>{})=>{let i={...e},o=i[":status"];delete i[":status"];let a=r?Cte(o,e,t,n):t;return{statusCode:o,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),Ite=s((e,t,r,n,i,o)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:f=Ete}}}=e,c=i[":path"],u=`${t}${c}`;Cr(`received PUSH_PROMISE: ${u}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${o}`),a&&a(u,i,s(()=>{n.close(f8)},"rejectPush")),n.on("push",(d,g)=>{Cr(`received push headers for ${t}${c}, stream #${n.id}, headers: ${JSON.stringify(d)}, flags: ${g}`),n.setTimeout(f,()=>{Cr(`closing pushed stream #${n.id} after ${f} ms of inactivity`),n.close(f8)}),l&&l(u,i,GU(d,n,r))}),n.on("aborted",()=>{Cr(`pushed stream #${n.id} aborted`)}),n.on("error",d=>{Cr(`pushed stream #${n.id} encountered error: ${d}`)}),n.on("frameError",(d,g,p)=>{Cr(`pushed stream #${n.id} encountered frameError: type: ${d}, code: ${g}, id: ${p}`)})},"handlePush"),Ate=s(async(e,t,r)=>{let{origin:n,pathname:i,search:o,hash:a}=t,l=`${i}${o}${a}`,{options:{h2:f={}},h2:{sessionCache:c}}=e,{idleSessionTimeout:u=Tte,pushPromiseHandler:d,pushHandler:g}=f,p={...r},{method:y,headers:_,socket:S,body:T,decode:I}=p;return S&&delete p.socket,_.host&&(_[":authority"]=_.host,delete _.host),new Promise((P,U)=>{let k=c[n];if(!k||k.closed||k.destroyed){let De=!(e.options.rejectUnauthorized===!1||f.rejectUnauthorized===!1),pe={...f,rejectUnauthorized:De};S&&!S.inUse&&(pe.createConnection=()=>(Cr(`reusing socket #${S.id} (${S.servername})`),S.inUse=!0,S)),k=xte(n,{...pe,settings:{enablePush:!!(d||g)}}),k.setMaxListeners(1e3),k.setTimeout(u,()=>{Cr(`closing session ${n} after ${u} ms of inactivity`),k.close()}),k.once("connect",()=>{Cr(`session ${n} established`),Cr(`caching session ${n}`),c[n]=k}),k.on("localSettings",ie=>{Cr(`session ${n} localSettings: ${JSON.stringify(ie)}`)}),k.on("remoteSettings",ie=>{Cr(`session ${n} remoteSettings: ${JSON.stringify(ie)}`)}),k.once("close",()=>{Cr(`session ${n} closed`),c[n]===k&&(Cr(`discarding cached session ${n}`),delete c[n])}),k.once("error",ie=>{Cr(`session ${n} encountered error: ${ie}`),c[n]===k&&(Cr(`discarding cached session ${n}`),delete c[n])}),k.on("frameError",(ie,Z,_e)=>{Cr(`session ${n} encountered frameError: type: ${ie}, code: ${Z}, id: ${_e}`)}),k.once("goaway",(ie,Z,_e)=>{Cr(`session ${n} received GOAWAY frame: errorCode: ${ie}, lastStreamID: ${Z}, opaqueData: ${_e?_e.toString():void 0}`)}),k.on("stream",(ie,Z,_e)=>{Ite(e,n,I,ie,Z,_e)})}else S&&S.id!==k.socket.id&&!S.inUse&&(Cr(`discarding redundant socket used for ALPN: #${S.id} ${S.servername}`),S.destroy());Cr(`${y} ${t.host}${l}`);let L,{signal:Q}=p,te=s(()=>{Q.removeEventListener("abort",te),U(new WU),L&&L.close(f8)},"onAbortSignal");if(Q){if(Q.aborted){U(new WU);return}Q.addEventListener("abort",te)}let Ce=s(De=>{Cr(`session ${n} encountered error during ${p.method} ${t.href}: ${De}`),U(De)},"onSessionError");k.once("error",Ce),L=k.request({":method":y,":path":l,..._}),L.once("response",De=>{k.off("error",Ce),Q&&Q.removeEventListener("abort",te),P(GU(De,L,p.decode,U))}),L.once("error",De=>{k.off("error",Ce),Q&&Q.removeEventListener("abort",te),L.rstCode!==f8&&(Cr(`${p.method} ${t.href} failed with: ${De.message}`),L.close(f8),U(De))}),L.once("frameError",(De,pe,Ie)=>{k.off("error",Ce),Cr(`encountered frameError during ${p.method} ${t.href}: type: ${De}, code: ${pe}, id: ${Ie}`)}),L.on("push",(De,pe)=>{Cr(`received 'push' event: headers: ${JSON.stringify(De)}, flags: ${pe}`)}),T instanceof bte?T.pipe(L):(T&&L.write(T),L.end())})},"request");YU.exports={request:Ate,setupContext:Ste,resetContext:wte}});var QU=ae((A8e,XU)=>{"use strict";var{EventEmitter:Pte}=require("events"),Rte=s(()=>{let e={},t=new Pte;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=s(o=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(o))},"tryAcquire");t.on(r,i)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");XU.exports=Rte});var ZU=ae((R8e,kte)=>{kte.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var iq=ae((k8e,nq)=>{"use strict";var{Readable:Nte}=require("stream"),Dte=require("tls"),{types:{isAnyArrayBuffer:Lte}}=require("util"),Bte=ZE(),bS=td()("helix-fetch:core"),{RequestAbortedError:j7}=q7(),CS=KU(),$7=JU(),Ote=QU(),{isPlainObject:Fte}=Vl(),{isFormData:Mte,FormDataSerializer:Ute}=s8(),{version:qte}=ZU(),TS="h2",ES="h2c",SS="http/1.0",id="http/1.1",jte=100,$te=60*60*1e3,Hte=[TS,id,SS],Vte=`helix-fetch/${qte}`,zte={method:"GET",compress:!0,decode:!0},eq=0,tq=Ote(),rq=s((e,t)=>new Promise((r,n)=>{let{signal:i}=t,o,a=s(()=>{i.removeEventListener("abort",a);let c=new j7;n(c),o&&o.destroy(c)},"onAbortSignal");if(i){if(i.aborted){n(new j7);return}i.addEventListener("abort",a)}let l=+e.port||443,f=s(c=>{i&&i.removeEventListener("abort",a),c instanceof j7||(bS(`connecting to ${e.hostname}:${l} failed with: ${c.message}`),n(c))},"onError");o=Dte.connect(l,e.hostname,t),o.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),o.off("error",f),eq+=1,o.id=eq,o.secureConnecting=!1,bS(`established TLS connection: #${o.id} (${o.servername})`),r(o)}),o.once("error",f)}),"connectTLS"),Kte=s(async(e,t)=>{let r=await tq.acquire(e.origin);try{return r||(r=await rq(e,t)),r}finally{tq.release(e.origin,r)}},"connect"),Wte=s(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=id,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=ES,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:o,h1:a={},h2:l={}}}=e,f=!(o===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),c={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:f};e.options.ca&&(c.ca=e.options.ca);let u=await Kte(t,c);return i=u.alpnProtocol,i||(i=id),e.alpnCache.set(n,i),{protocol:i,socket:u}},"determineProtocol"),Gte=s(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),Yte=s(async(e,t,r,n)=>{let i=t.protocol==="https:",o;t.port?o=t.port:i?o=443:o=80;let a={...r,host:t.host,hostname:t.hostname,port:o},l=await e(a);if(i){let c={...a,ALPNProtocols:n};c.socket=l,c.servername=a.host;let u=await rq(t,c);return{protocol:u.alpnProtocol||id,socket:u}}return{protocol:l.alpnProtocol||id,socket:l}},"getProtocolAndSocketFromFactory"),Jte=s(async(e,t,r)=>{let n=new URL(t),i={...zte,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=Gte(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let o;if(i.body instanceof URLSearchParams)o="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(Mte(i.body)){let c=new Ute(i.body);o=c.contentType(),i.body=c.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(c.length()))}else typeof i.body=="string"||i.body instanceof String?o="text/plain; charset=utf-8":Fte(i.body)?(i.body=JSON.stringify(i.body),o="application/json"):Lte(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&o!==void 0&&(i.headers["content-type"]=o),i.body!=null&&(i.body instanceof Nte||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:f=null}=e.socketFactory?await Yte(e.socketFactory,n,i,e.alpnProtocols):await Wte(e,n,a);switch(bS(`${n.host} -> ${l}`),l){case TS:try{return await $7.request(e,n,f?{...i,socket:f}:i)}catch(c){let{code:u,message:d}=c;throw u==="ERR_HTTP2_ERROR"&&d==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),c}case ES:return $7.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),f?{...i,socket:f}:i);case SS:case id:return CS.request(e,n,f?{...i,socket:f}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),Xte=s(async e=>(e.alpnCache.clear(),Promise.all([CS.resetContext(e),$7.resetContext(e)])),"resetContext"),Qte=s(e=>{let{options:{alpnProtocols:t=Hte,alpnCacheTTL:r=$te,alpnCacheSize:n=jte,userAgent:i=Vte,socketFactory:o}}=e;e.alpnProtocols=t,e.alpnCache=new Bte({max:n,ttl:r}),e.userAgent=i,e.socketFactory=o,CS.setupContext(e),$7.setupContext(e)},"setupContext");nq.exports={request:Jte,setupContext:Qte,resetContext:Xte,RequestAbortedError:j7,ALPN_HTTP2:TS,ALPN_HTTP2C:ES,ALPN_HTTP1_1:id,ALPN_HTTP1_0:SS}});var oq=ae((D8e,sq)=>{"use strict";var Zte=td()("helix-fetch:core"),{request:e0e,setupContext:t0e,resetContext:r0e,RequestAbortedError:n0e,ALPN_HTTP2:i0e,ALPN_HTTP2C:s0e,ALPN_HTTP1_1:o0e,ALPN_HTTP1_0:a0e}=iq(),H7=class H7{constructor(t){this.options={...t||{}},t0e(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new H7(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:n0e,ALPN_HTTP2:i0e,ALPN_HTTP2C:s0e,ALPN_HTTP1_1:o0e,ALPN_HTTP1_0:a0e}}async request(t,r){return e0e(this,t,r)}setCA(t){this.options.ca=t}async reset(){return Zte("resetting context"),r0e(this)}};s(H7,"RequestContext");var wS=H7;sq.exports=new wS().api()});var uq=ae((B8e,cq)=>{"use strict";var{EventEmitter:l0e}=require("events"),{Readable:c8}=require("stream"),IS=td()("helix-fetch"),f0e=ZE(),{Body:c0e}=k7(),{Headers:kS}=F3(),{Request:sd}=RU(),{Response:PS}=mS(),{FetchBaseError:u0e,FetchError:u8,AbortError:V7}=sS(),{AbortController:d0e,AbortSignal:h0e,TimeoutSignal:m0e}=cS(),g0e=FU(),{cacheableResponse:p0e}=qU(),{sizeof:y0e}=Vl(),{isFormData:v0e}=s8(),{context:x0e,RequestAbortedError:_0e}=oq(),aq=["GET","HEAD"],b0e=500,C0e=100*1024*1024,AS="push",lq=s(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof sd&&typeof r>"u"?t:new sd(t,r),{method:o,body:a,signal:l,compress:f,decode:c,follow:u,redirect:d,init:{body:g}}=i,p;if(l&&l.aborted){let k=new V7("The operation was aborted.");throw i.init.body instanceof c8&&i.init.body.destroy(k),k}try{p=await n(i.url,{...r,method:o,headers:i.headers.plain(),body:g&&!(g instanceof c8)&&!v0e(g)?g:a,compress:f,decode:c,follow:u,redirect:d,signal:l})}catch(k){throw g instanceof c8&&g.destroy(k),k instanceof TypeError?k:k instanceof _0e?new V7("The operation was aborted."):new u8(k.message,"system",k)}let y=s(()=>{l.removeEventListener("abort",y);let k=new V7("The operation was aborted.");i.init.body instanceof c8&&i.init.body.destroy(k),p.readable.emit("error",k)},"abortHandler");l&&l.addEventListener("abort",y);let{statusCode:_,statusText:S,httpVersion:T,headers:I,readable:P,decoded:U}=p;if([301,302,303,307,308].includes(_)){let{location:k}=I,L=k==null?null:new URL(k,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",y),new u8(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(L===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",y),new u8(`maximum redirect reached at: ${i.url}`,"max-redirect");let Q={headers:new kS(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(_!==303&&i.body&&i.init.body instanceof c8)throw l&&l.removeEventListener("abort",y),new u8("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(_===303||(_===301||_===302)&&i.method==="POST")&&(Q.method="GET",Q.body=void 0,Q.headers.delete("content-length")),l&&l.removeEventListener("abort",y),lq(e,new sd(L,Q))}default:}}return l&&(P.once("end",()=>{l.removeEventListener("abort",y)}),P.once("error",()=>{l.removeEventListener("abort",y)})),new PS(P,{url:i.url,status:_,statusText:S,headers:I,httpVersion:T,decoded:U,counter:i.counter})},"fetch"),fq=s(async(e,t,r)=>{if(e.options.maxCacheSize===0||!aq.includes(t.method))return r;let n=new g0e(t,r,{shared:!1});if(n.storable()){let i=await p0e(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),T0e=s(async(e,t,r)=>{let n=new sd(t,r);if(e.options.maxCacheSize!==0&&aq.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new kS(a.responseHeaders(l));let f=l.clone();return f.fromCache=!0,f}}let o=await lq(e,n);return n.cache!=="no-store"?fq(e,n,o):o},"cachingFetch"),E0e=s((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(o=>r.searchParams.append(n,o)):r.searchParams.append(n,i)}),r.href},"createUrl"),S0e=s(e=>new m0e(e),"timeoutSignal"),Gl=class Gl{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:C0e,i=b0e;n===0&&(n=1,i=1);let o=s(({response:l},f)=>y0e(l),"sizeCalculation");this.cache=new f0e({max:i,maxSize:n,sizeCalculation:o}),this.eventEmitter=new l0e,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,f,c)=>{let u={...f};Object.keys(u).filter(d=>d.startsWith(":")).forEach(d=>delete u[d]),this.pushPromiseHandler(l,u,c)},this.options.h2.pushHandler=(l,f,c)=>{let u={...f};Object.keys(u).filter(T=>T.startsWith(":")).forEach(T=>delete u[T]);let{statusCode:d,statusText:g,httpVersion:p,headers:y,readable:_,decoded:S}=c;this.pushHandler(l,u,new PS(_,{url:l,status:d,statusText:g,headers:y,httpVersion:p,decoded:S}))}),this.context=x0e(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:c0e,Headers:kS,Request:sd,Response:PS,AbortController:d0e,AbortSignal:h0e,FetchBaseError:u0e,FetchError:u8,AbortError:V7,context:(t={})=>new Gl(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new Gl({...t,maxCacheSize:0}).api(),h1:(t={})=>new Gl({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new Gl({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new Gl({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new Gl({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:E0e,timeoutSignal:S0e,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return T0e(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(AS,t)}offPush(t){return this.eventEmitter.off(AS,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){IS(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new sd(t,{headers:r}),{policy:o}=this.cache.get(t)||{};o&&o.satisfiesWithoutRevalidation(i)&&(IS(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){IS(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await fq(this,new sd(t,{headers:r}),n);this.eventEmitter.emit(AS,t,i)}};s(Gl,"FetchContext");var RS=Gl;cq.exports=new RS().api()});var hq=ae((F8e,dq)=>{"use strict";dq.exports=uq()});var WS=ae((dme,Cq)=>{"use strict";Cq.exports=s(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var Eq=ae((mme,Tq)=>{"use strict";var N0e=WS();function D0e(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=N0e(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}s(D0e,"parsePath");Tq.exports=D0e});var Iq=ae((pme,wq)=>{"use strict";var L0e=Eq();function B0e(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}s(B0e,"_interopDefaultLegacy");var O0e=B0e(L0e),F0e="text/plain",M0e="us-ascii",Sq=s((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),U0e=s((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:o}=r.groups,a=n.split(";");o=t?"":o;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let f=(a.shift()||"").toLowerCase(),u=[...a.map(d=>{let[g,p=""]=d.split("=").map(y=>y.trim());return g==="charset"&&(p=p.toLowerCase(),p===M0e)?"":`${g}${p?`=${p}`:""}`}).filter(Boolean)];return l&&u.push("base64"),(u.length>0||f&&f!==F0e)&&u.unshift(f),`data:${u.join(";")},${l?i.trim():i}${o?`#${o}`:""}`},"normalizeDataURL");function q0e(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return U0e(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,f="";for(;;){let u=a.exec(i.pathname);if(!u)break;let d=u[0],g=u.index,p=i.pathname.slice(l,g);f+=p.replace(/\/{2,}/g,"/"),f+=d,l=g+d.length}let c=i.pathname.slice(l,i.pathname.length);f+=c.replace(/\/{2,}/g,"/"),i.pathname=f}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];Sq(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])Sq(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}s(q0e,"normalizeUrl");var GS=s((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=s(o=>{let a=new Error(o);throw a.subject_url=e,a},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>GS.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=q0e(e,t));let i=O0e.default(e);if(i.parse_failed){let o=i.href.match(r);o?(i.protocols=["ssh"],i.protocol="ssh",i.resource=o[2],i.host=o[2],i.user=o[1],i.pathname=`/${o[3]}`,i.parse_failed=!1):n("URL parsing failed.")}return i},"parseUrl");GS.MAX_INPUT_LENGTH=2048;wq.exports=GS});var Rq=ae((vme,Pq)=>{"use strict";var j0e=WS();function Aq(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=j0e(e);if(e=e.substring(e.indexOf("://")+3),Aq(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}s(Aq,"isSsh");Pq.exports=Aq});var Dq=ae((_me,Nq)=>{"use strict";var $0e=Iq(),kq=Rq();function H0e(e){var t=$0e(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),kq(t.protocols)||t.protocols.length===0&&kq(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}s(H0e,"gitUp");Nq.exports=H0e});var Bq=ae((Cme,Lq)=>{"use strict";var V0e=Dq();function YS(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=V0e(e),n=r.resource.split("."),i=null;switch(r.toString=function(S){return YS.stringify(this,S)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){i=r.name.split("/"),i.length===4&&(r.organization=i[1],r.owner=i[2],r.name=i[3],r.full_name=i[2]+"/"+i[3]);break}else{i=r.name.split("/"),i.length===2?(r.owner=i[1],r.name=i[1],r.full_name="_git/"+r.name):i.length===3?(r.name=i[2],i[0]==="DefaultCollection"?(r.owner=i[2],r.organization=i[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=i[0],r.full_name=r.owner+"/_git/"+r.name)):i.length===4&&(r.organization=i[0],r.owner=i[1],r.name=i[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){i=r.name.split("/"),i.length===4&&(r.organization=i[1],r.owner=i[2],r.name=i[3]);break}else{i=r.name.split("/"),i.length===5?(r.organization=i[0],r.owner=i[1],r.name=i[4],r.full_name="_git/"+r.name):i.length===3?(r.name=i[2],i[0]==="DefaultCollection"?(r.owner=i[2],r.organization=i[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=i[0],r.full_name=r.owner+"/_git/"+r.name)):i.length===4&&(r.organization=i[0],r.owner=i[1],r.name=i[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:i=r.name.split("/");var o=i.length-1;if(i.length>=2){var a=i.indexOf("-",2),l=i.indexOf("blob",2),f=i.indexOf("tree",2),c=i.indexOf("commit",2),u=i.indexOf("src",2),d=i.indexOf("raw",2),g=i.indexOf("edit",2);o=a>0?a-1:l>0?l-1:f>0?f-1:c>0?c-1:u>0?u-1:d>0?d-1:g>0?g-1:o,r.owner=i.slice(0,o).join("/"),r.name=i[o],c&&(r.commit=i[o+2])}r.ref="",r.filepathtype="",r.filepath="";var p=i.length>o&&i[o+1]==="-"?o+1:o;i.length>p+2&&["raw","src","blob","tree","edit"].indexOf(i[p+1])>=0&&(r.filepathtype=i[p+1],r.ref=i[p+2],i.length>p+3&&(r.filepath=i.slice(p+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var y=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,_=y.exec(r.pathname);return _!=null&&(r.source="bitbucket-server",_[1]==="users"?r.owner="~"+_[2]:r.owner=_[2],r.organization=r.owner,r.name=_[3],i=_[4].split("/"),i.length>1&&(["raw","browse"].indexOf(i[1])>=0?(r.filepathtype=i[1],i.length>2&&(r.filepath=i.slice(2).join("/"))):i[1]==="commits"&&i.length>2&&(r.commit=i[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}s(YS,"gitUrlParse");YS.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var o=e.token?z0e(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+o+e.resource+r+"/"+K0e(e)+i;default:return e.href}};function z0e(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}s(z0e,"buildToken");function K0e(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:return""+e.full_name}}s(K0e,"buildPath");Lq.exports=YS});var ad=ae((g8,JS)=>{(function(e,t){if(typeof g8=="object"&&typeof JS=="object")JS.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof g8=="object"?g8:e)[n]=r[n]}})(g8,()=>(()=>{"use strict";var e={470:i=>{function o(f){if(typeof f!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}s(o,"e");function a(f,c){for(var u,d="",g=0,p=-1,y=0,_=0;_<=f.length;++_){if(_<f.length)u=f.charCodeAt(_);else{if(u===47)break;u=47}if(u===47){if(!(p===_-1||y===1))if(p!==_-1&&y===2){if(d.length<2||g!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var S=d.lastIndexOf("/");if(S!==d.length-1){S===-1?(d="",g=0):g=(d=d.slice(0,S)).length-1-d.lastIndexOf("/"),p=_,y=0;continue}}else if(d.length===2||d.length===1){d="",g=0,p=_,y=0;continue}}c&&(d.length>0?d+="/..":d="..",g=2)}else d.length>0?d+="/"+f.slice(p+1,_):d=f.slice(p+1,_),g=_-p-1;p=_,y=0}else u===46&&y!==-1?++y:y=-1}return d}s(a,"r");var l={resolve:function(){for(var f,c="",u=!1,d=arguments.length-1;d>=-1&&!u;d--){var g;d>=0?g=arguments[d]:(f===void 0&&(f=process.cwd()),g=f),o(g),g.length!==0&&(c=g+"/"+c,u=g.charCodeAt(0)===47)}return c=a(c,!u),u?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(f){if(o(f),f.length===0)return".";var c=f.charCodeAt(0)===47,u=f.charCodeAt(f.length-1)===47;return(f=a(f,!c)).length!==0||c||(f="."),f.length>0&&u&&(f+="/"),c?"/"+f:f},isAbsolute:function(f){return o(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,c=0;c<arguments.length;++c){var u=arguments[c];o(u),u.length>0&&(f===void 0?f=u:f+="/"+u)}return f===void 0?".":l.normalize(f)},relative:function(f,c){if(o(f),o(c),f===c||(f=l.resolve(f))===(c=l.resolve(c)))return"";for(var u=1;u<f.length&&f.charCodeAt(u)===47;++u);for(var d=f.length,g=d-u,p=1;p<c.length&&c.charCodeAt(p)===47;++p);for(var y=c.length-p,_=g<y?g:y,S=-1,T=0;T<=_;++T){if(T===_){if(y>_){if(c.charCodeAt(p+T)===47)return c.slice(p+T+1);if(T===0)return c.slice(p+T)}else g>_&&(f.charCodeAt(u+T)===47?S=T:T===0&&(S=0));break}var I=f.charCodeAt(u+T);if(I!==c.charCodeAt(p+T))break;I===47&&(S=T)}var P="";for(T=u+S+1;T<=d;++T)T!==d&&f.charCodeAt(T)!==47||(P.length===0?P+="..":P+="/..");return P.length>0?P+c.slice(p+S):(p+=S,c.charCodeAt(p)===47&&++p,c.slice(p))},_makeLong:function(f){return f},dirname:function(f){if(o(f),f.length===0)return".";for(var c=f.charCodeAt(0),u=c===47,d=-1,g=!0,p=f.length-1;p>=1;--p)if((c=f.charCodeAt(p))===47){if(!g){d=p;break}}else g=!1;return d===-1?u?"/":".":u&&d===1?"//":f.slice(0,d)},basename:function(f,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(f);var u,d=0,g=-1,p=!0;if(c!==void 0&&c.length>0&&c.length<=f.length){if(c.length===f.length&&c===f)return"";var y=c.length-1,_=-1;for(u=f.length-1;u>=0;--u){var S=f.charCodeAt(u);if(S===47){if(!p){d=u+1;break}}else _===-1&&(p=!1,_=u+1),y>=0&&(S===c.charCodeAt(y)?--y==-1&&(g=u):(y=-1,g=_))}return d===g?g=_:g===-1&&(g=f.length),f.slice(d,g)}for(u=f.length-1;u>=0;--u)if(f.charCodeAt(u)===47){if(!p){d=u+1;break}}else g===-1&&(p=!1,g=u+1);return g===-1?"":f.slice(d,g)},extname:function(f){o(f);for(var c=-1,u=0,d=-1,g=!0,p=0,y=f.length-1;y>=0;--y){var _=f.charCodeAt(y);if(_!==47)d===-1&&(g=!1,d=y+1),_===46?c===-1?c=y:p!==1&&(p=1):c!==-1&&(p=-1);else if(!g){u=y+1;break}}return c===-1||d===-1||p===0||p===1&&c===d-1&&c===u+1?"":f.slice(c,d)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return function(c,u){var d=u.dir||u.root,g=u.base||(u.name||"")+(u.ext||"");return d?d===u.root?d+g:d+"/"+g:g}(0,f)},parse:function(f){o(f);var c={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return c;var u,d=f.charCodeAt(0),g=d===47;g?(c.root="/",u=1):u=0;for(var p=-1,y=0,_=-1,S=!0,T=f.length-1,I=0;T>=u;--T)if((d=f.charCodeAt(T))!==47)_===-1&&(S=!1,_=T+1),d===46?p===-1?p=T:I!==1&&(I=1):p!==-1&&(I=-1);else if(!S){y=T+1;break}return p===-1||_===-1||I===0||I===1&&p===_-1&&p===y+1?_!==-1&&(c.base=c.name=y===0&&g?f.slice(1,_):f.slice(y,_)):(y===0&&g?(c.name=f.slice(1,p),c.base=f.slice(1,_)):(c.name=f.slice(y,p),c.base=f.slice(y,_)),c.ext=f.slice(p,_)),y>0?c.dir=f.slice(0,y-1):g&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,i.exports=l},674:(i,o)=>{if(Object.defineProperty(o,"__esModule",{value:!0}),o.isWindows=void 0,typeof process=="object")o.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;o.isWindows=a.indexOf("Windows")>=0}},796:function(i,o,a){var l,f,c=this&&this.__extends||(l=s(function(ie,Z){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_e,Ae){_e.__proto__=Ae}||function(_e,Ae){for(var be in Ae)Object.prototype.hasOwnProperty.call(Ae,be)&&(_e[be]=Ae[be])},l(ie,Z)},"n"),function(ie,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function _e(){this.constructor=ie}s(_e,"r"),l(ie,Z),ie.prototype=Z===null?Object.create(Z):(_e.prototype=Z.prototype,new _e)});Object.defineProperty(o,"__esModule",{value:!0}),o.uriToFsPath=o.URI=void 0;var u=a(674),d=/^\w[\w\d+.-]*$/,g=/^\//,p=/^\/\//;function y(ie,Z){if(!ie.scheme&&Z)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(ie.authority,'", path: "').concat(ie.path,'", query: "').concat(ie.query,'", fragment: "').concat(ie.fragment,'"}'));if(ie.scheme&&!d.test(ie.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ie.path){if(ie.authority){if(!g.test(ie.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(ie.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(y,"f");var _="",S="/",T=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,I=function(){function ie(Z,_e,Ae,be,ze,ce){ce===void 0&&(ce=!1),typeof Z=="object"?(this.scheme=Z.scheme||_,this.authority=Z.authority||_,this.path=Z.path||_,this.query=Z.query||_,this.fragment=Z.fragment||_):(this.scheme=function(ve,le){return ve||le?ve:"file"}(Z,ce),this.authority=_e||_,this.path=function(ve,le){switch(ve){case"https":case"http":case"file":le?le[0]!==S&&(le=S+le):le=S}return le}(this.scheme,Ae||_),this.query=be||_,this.fragment=ze||_,y(this,ce))}return s(ie,"t"),ie.isUri=function(Z){return Z instanceof ie||!!Z&&typeof Z.authority=="string"&&typeof Z.fragment=="string"&&typeof Z.path=="string"&&typeof Z.query=="string"&&typeof Z.scheme=="string"&&typeof Z.fsPath=="string"&&typeof Z.with=="function"&&typeof Z.toString=="function"},Object.defineProperty(ie.prototype,"fsPath",{get:function(){return te(this,!1)},enumerable:!1,configurable:!0}),ie.prototype.with=function(Z){if(!Z)return this;var _e=Z.scheme,Ae=Z.authority,be=Z.path,ze=Z.query,ce=Z.fragment;return _e===void 0?_e=this.scheme:_e===null&&(_e=_),Ae===void 0?Ae=this.authority:Ae===null&&(Ae=_),be===void 0?be=this.path:be===null&&(be=_),ze===void 0?ze=this.query:ze===null&&(ze=_),ce===void 0?ce=this.fragment:ce===null&&(ce=_),_e===this.scheme&&Ae===this.authority&&be===this.path&&ze===this.query&&ce===this.fragment?this:new U(_e,Ae,be,ze,ce)},ie.parse=function(Z,_e){_e===void 0&&(_e=!1);var Ae=T.exec(Z);return Ae?new U(Ae[2]||_,Ie(Ae[4]||_),Ie(Ae[5]||_),Ie(Ae[7]||_),Ie(Ae[9]||_),_e):new U(_,_,_,_,_)},ie.file=function(Z){var _e=_;if(u.isWindows&&(Z=Z.replace(/\\/g,S)),Z[0]===S&&Z[1]===S){var Ae=Z.indexOf(S,2);Ae===-1?(_e=Z.substring(2),Z=S):(_e=Z.substring(2,Ae),Z=Z.substring(Ae)||S)}return new U("file",_e,Z,_,_)},ie.from=function(Z){var _e=new U(Z.scheme,Z.authority,Z.path,Z.query,Z.fragment);return y(_e,!0),_e},ie.prototype.toString=function(Z){return Z===void 0&&(Z=!1),Ce(this,Z)},ie.prototype.toJSON=function(){return this},ie.revive=function(Z){if(Z){if(Z instanceof ie)return Z;var _e=new U(Z);return _e._formatted=Z.external,_e._fsPath=Z._sep===P?Z.fsPath:null,_e}return Z},ie}();o.URI=I;var P=u.isWindows?1:void 0,U=function(ie){function Z(){var _e=ie!==null&&ie.apply(this,arguments)||this;return _e._formatted=null,_e._fsPath=null,_e}return s(Z,"e"),c(Z,ie),Object.defineProperty(Z.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=te(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),Z.prototype.toString=function(_e){return _e===void 0&&(_e=!1),_e?Ce(this,!0):(this._formatted||(this._formatted=Ce(this,!1)),this._formatted)},Z.prototype.toJSON=function(){var _e={$mid:1};return this._fsPath&&(_e.fsPath=this._fsPath,_e._sep=P),this._formatted&&(_e.external=this._formatted),this.path&&(_e.path=this.path),this.scheme&&(_e.scheme=this.scheme),this.authority&&(_e.authority=this.authority),this.query&&(_e.query=this.query),this.fragment&&(_e.fragment=this.fragment),_e},Z}(I),k=((f={})[58]="%3A",f[47]="%2F",f[63]="%3F",f[35]="%23",f[91]="%5B",f[93]="%5D",f[64]="%40",f[33]="%21",f[36]="%24",f[38]="%26",f[39]="%27",f[40]="%28",f[41]="%29",f[42]="%2A",f[43]="%2B",f[44]="%2C",f[59]="%3B",f[61]="%3D",f[32]="%20",f);function L(ie,Z,_e){for(var Ae=void 0,be=-1,ze=0;ze<ie.length;ze++){var ce=ie.charCodeAt(ze);if(ce>=97&&ce<=122||ce>=65&&ce<=90||ce>=48&&ce<=57||ce===45||ce===46||ce===95||ce===126||Z&&ce===47||_e&&ce===91||_e&&ce===93||_e&&ce===58)be!==-1&&(Ae+=encodeURIComponent(ie.substring(be,ze)),be=-1),Ae!==void 0&&(Ae+=ie.charAt(ze));else{Ae===void 0&&(Ae=ie.substr(0,ze));var ve=k[ce];ve!==void 0?(be!==-1&&(Ae+=encodeURIComponent(ie.substring(be,ze)),be=-1),Ae+=ve):be===-1&&(be=ze)}}return be!==-1&&(Ae+=encodeURIComponent(ie.substring(be))),Ae!==void 0?Ae:ie}s(L,"m");function Q(ie){for(var Z=void 0,_e=0;_e<ie.length;_e++){var Ae=ie.charCodeAt(_e);Ae===35||Ae===63?(Z===void 0&&(Z=ie.substr(0,_e)),Z+=k[Ae]):Z!==void 0&&(Z+=ie[_e])}return Z!==void 0?Z:ie}s(Q,"b");function te(ie,Z){var _e;return _e=ie.authority&&ie.path.length>1&&ie.scheme==="file"?"//".concat(ie.authority).concat(ie.path):ie.path.charCodeAt(0)===47&&(ie.path.charCodeAt(1)>=65&&ie.path.charCodeAt(1)<=90||ie.path.charCodeAt(1)>=97&&ie.path.charCodeAt(1)<=122)&&ie.path.charCodeAt(2)===58?Z?ie.path.substr(1):ie.path[1].toLowerCase()+ie.path.substr(2):ie.path,u.isWindows&&(_e=_e.replace(/\//g,"\\")),_e}s(te,"C");function Ce(ie,Z){var _e=Z?Q:L,Ae="",be=ie.scheme,ze=ie.authority,ce=ie.path,ve=ie.query,le=ie.fragment;if(be&&(Ae+=be,Ae+=":"),(ze||be==="file")&&(Ae+=S,Ae+=S),ze){var Ee=ze.indexOf("@");if(Ee!==-1){var mt=ze.substr(0,Ee);ze=ze.substr(Ee+1),(Ee=mt.lastIndexOf(":"))===-1?Ae+=_e(mt,!1,!1):(Ae+=_e(mt.substr(0,Ee),!1,!1),Ae+=":",Ae+=_e(mt.substr(Ee+1),!1,!0)),Ae+="@"}(Ee=(ze=ze.toLowerCase()).lastIndexOf(":"))===-1?Ae+=_e(ze,!1,!0):(Ae+=_e(ze.substr(0,Ee),!1,!0),Ae+=ze.substr(Ee))}if(ce){if(ce.length>=3&&ce.charCodeAt(0)===47&&ce.charCodeAt(2)===58)(Et=ce.charCodeAt(1))>=65&&Et<=90&&(ce="/".concat(String.fromCharCode(Et+32),":").concat(ce.substr(3)));else if(ce.length>=2&&ce.charCodeAt(1)===58){var Et;(Et=ce.charCodeAt(0))>=65&&Et<=90&&(ce="".concat(String.fromCharCode(Et+32),":").concat(ce.substr(2)))}Ae+=_e(ce,!0,!1)}return ve&&(Ae+="?",Ae+=_e(ve,!1,!1)),le&&(Ae+="#",Ae+=Z?le:L(le,!1,!1)),Ae}s(Ce,"A");function De(ie){try{return decodeURIComponent(ie)}catch{return ie.length>3?ie.substr(0,3)+De(ie.substr(3)):ie}}s(De,"w"),o.uriToFsPath=te;var pe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ie(ie){return ie.match(pe)?ie.replace(pe,function(Z){return De(Z)}):ie}s(Ie,"x")},679:function(i,o,a){var l=this&&this.__spreadArray||function(g,p,y){if(y||arguments.length===2)for(var _,S=0,T=p.length;S<T;S++)!_&&S in p||(_||(_=Array.prototype.slice.call(p,0,S)),_[S]=p[S]);return g.concat(_||Array.prototype.slice.call(p))};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var f,c=a(470),u=c.posix||c,d="/";(f=o.Utils||(o.Utils={})).joinPath=function(g){for(var p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];return g.with({path:u.join.apply(u,l([g.path],p,!1))})},f.resolvePath=function(g){for(var p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];var _=g.path,S=!1;_[0]!==d&&(_=d+_,S=!0);var T=u.resolve.apply(u,l([_],p,!1));return S&&T[0]===d&&!g.authority&&(T=T.substring(1)),g.with({path:T})},f.dirname=function(g){if(g.path.length===0||g.path===d)return g;var p=u.dirname(g.path);return p.length===1&&p.charCodeAt(0)===46&&(p=""),g.with({path:p})},f.basename=function(g){return u.basename(g.path)},f.extname=function(g){return u.extname(g.path)}}},t={};function r(i){var o=t[i];if(o!==void 0)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,r),a.exports}s(r,"r");var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;var o=r(796);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return o.URI}});var a=r(679);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return a.Utils}})})(),n})())});var hw=ae((Ege,fre)=>{fre.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.213.0",build:"984",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot?editor=vscode",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.80.0",node:">=16.14.0",npm:">=9.0.0"},categories:["AI","Chat","Programming Languages","Machine Learning"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.
  
[Getting started videos](https://github.com/features/copilot/getting-started?utm_source=editor&utm_medium=walkthrough&utm_campaign=2024q3-em-MSFT-videolandingpage)`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chatWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `ctrl + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.chatNonWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `cmd + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Harness the power of context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Harness the power of context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://code.visualstudio.com/docs/copilot/prompt-crafting)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:"boolean",markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}},"copilot-blocked":{description:"GitHub Copilot blocked icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0045"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:* --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},devDependencies:{"@datadog/datadog-ci":"^2.38.1","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/diff":"^5.0.9","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"^16.18.24","@types/sinon":"^10.0.15","@types/uuid":"^9.0.7","@types/vscode":"1.80.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",benchmark:"^2.1.4",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.56.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.4",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.7.1","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.1.0","@microsoft/tiktokenizer":"^1.0.7","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^13.1.0",ignore:"^5.2.4",jhaystack:"^0.1.8",kerberos:"^2.0.1",minimatch:"^9.0.3",okapibm25:"^1.4.0",open:"^8.4.2",semver:"^7.5.4",shiki:"^1.1.2","source-map-support":"^0.5.21",uuid:"^9.0.1","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.0.3",yargs:"^17.7.2"},overrides:{fsevents:"<0",bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var Zq=ae((op,Qq)=>{(function(e,t){typeof op=="object"&&typeof Qq<"u"?t(op):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(op,function(e){"use strict";var t=void 0,r=null,n="",i="function",o="number",a="object",l="prototype",f="__proto__",c="string",u="undefined",d="constructor",g="Symbol",p="_polyfill",y="indexOf",_="length",S="value",T="name",I="slice",P="call",U="toString",k=Object,L=k[l],Q=String,te=Q[l],Ce=Math,De=Array,pe=De[l];function Ie(v,E){try{return{v:v.apply(this,E)}}catch(w){return{e:w}}}s(Ie,"safe");function ie(v){return function(E){return typeof E===v}}s(ie,"_createIs");function Z(v){var E="[object "+v+"]";return function(w){return!!(w&&_e(w)===E)}}s(Z,"_createObjIs");function _e(v){return L.toString.call(v)}s(_e,"objToString");function Ae(v){return typeof v===u||v===u}s(Ae,"isUndefined");function be(v){return v===r||Ae(v)}s(be,"isNullOrUndefined");function ze(v){return!!v||v!==t}s(ze,"isDefined");var ce=ie(c),ve=ie(i);function le(v){return!v&&be(v)?!1:!!v&&typeof v===a}s(le,"isObject");var Ee=De.isArray,mt=Z("Error"),Et=k.getOwnPropertyDescriptor;function dt(v,E){return!!v&&L.hasOwnProperty[P](v,E)}s(dt,"objHasOwnProperty");var Ve=k.hasOwn||n0;function n0(v,E){return dt(v,E)||!!Et(v,E)}s(n0,"polyObjHasOwn");function W(v,E,w){if(v&&le(v)){for(var R in v)if(Ve(v,R)&&E[P](w||v,R,v[R])===-1)break}}s(W,"objForEachKey");function Xe(v,E,w,R){var z={};return W(v,function(ne,me){z[ne]=E?me:ne,z[me]=w?me:ne}),R(z)}s(Xe,"_createKeyValueMap");function he(v){throw new Error(v)}s(he,"throwError");function Je(v){throw new TypeError(v)}s(Je,"throwTypeError");var He=k.freeze;function nt(v){return v}s(nt,"_doNothing");function wt(v){return v[f]||r}s(wt,"_getProto");var Mt=k.assign,Lt=k.keys;function H(v){return He&&W(v,function(E,w){(Ee(w)||le(w))&&He(w)}),$t(v)}s(H,"objDeepFreeze");var $t=He||nt,vt=k.getPrototypeOf||wt;function sr(v){return Xe(v,1,0,H)}s(sr,"createEnum");function J0(v){var E={};return W(v,function(w,R){E[w]=R[1],E[R[0]]=R[1]}),H(E)}s(J0,"createSimpleMap");function pr(v){return J0(v)}s(pr,"createTypeMap");var X0=Q,Gr="__tsUtils$gblCfg",hn;function Fn(){var v;return typeof globalThis!==u&&(v=globalThis),!v&&typeof self!==u&&(v=self),!v&&typeof window!==u&&(v=window),!v&&typeof global!==u&&(v=global),v}s(Fn,"_getGlobalValue");function mn(){if(!hn){var v=Ie(Fn).v||{};hn=v[Gr]=v[Gr]||{}}return hn}s(mn,"_getGlobalConfig");var Jt="[object Error]";function Y(v,E){var w=n,R=L[U][P](v);R===Jt&&(v={stack:X0(v.stack),message:X0(v.message),name:X0(v.name)});try{w=JSON.stringify(v,r,E?typeof E===o?E:4:t),w=w&&w.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||X0(v)}catch(z){w=" - "+Y(z,E)}return R+": "+w}s(Y,"dumpObj");var N,B=Vt,Ye=Vt;function Vt(v,E,w){N=N||pe[I];var R=E&&E[v];return function(z){var ne=z&&z[v]||R;if(ne||w){var me=arguments;return(ne||w).apply(z,ne?N[P](me,1):me)}Je('"'+X0(v)+'" not defined for '+Y(z))}}s(Vt,"_unwrapFunctionWithPoly");var E0=Ce.max,w0=Ye(I,te),Wt=Ye("substring",te),W0=Vt("substr",te,u0);function u0(v,E,w){return be(v)&&Je("'polyStrSubstr called with invalid "+Y(v)),w<0?n:(E=E||0,E<0&&(E=E0(E+v[_],0)),Ae(w)?w0(v,E):w0(v,E,E+w))}s(u0,"polyStrSubstr");function er(v,E){return Wt(v,0,E)}s(er,"strLeft");var S0="_urid",Q0;function kt(){if(!Q0){var v=mn();Q0=v.gblSym=v.gblSym||{k:{},s:{}}}return Q0}s(kt,"_globalSymbolRegistry");function hs(v){var E={description:X0(v),toString:function(){return g+"("+v+")"}};return E[p]=!0,E}s(hs,"polyNewSymbol");function tl(v){var E=kt();if(!Ve(E.k,v)){var w=hs(v),R=Lt(E.s).length;w[S0]=function(){return R+"_"+w[U]()},E.k[v]=w,E.s[w[S0]()]=X0(v)}return E.k[v]}s(tl,"polySymbolFor");var Mn={e:"enumerable",c:"configurable",v:S,w:"writable",g:"get",s:"set"};function Ms(v){var E={};if(E[Mn.c]=!0,E[Mn.e]=!0,v.l){E.get=function(){return v.l.v};var w=Et(v.l,"v");w&&w.set&&(E.set=function(R){v.l.v=R})}return W(v,function(R,z){E[Mn[R]]=Ae(z)?E[Mn[R]]:z}),E}s(Ms,"_createProp");var ji=k.defineProperty;function Co(v,E,w){return ji(v,E,Ms(w))}s(Co,"objDefine");var ye;function M(){ye=mn()}s(M,"_initTestHooks");function se(v){var E={};return!ye&&M(),E.b=ye.lzy,ji(E,"v",{configurable:!0,get:function(){var w=v();return ye.lzy||ji(E,"v",{value:w}),E.b=ye.lzy,w}}),E}s(se,"getLazy");function fe(v,E){return se(function(){var w=Ie(v);return w.e?E:w.v})}s(fe,"safeGetLazy");function K(v){return ji({toJSON:function(){return v}},"v",{value:v})}s(K,"createCachedValue");var O="window",Te,je,Ht,or;function tr(v){return se(function(){return Ie(lr,[v]).v||t})}s(tr,"lazySafeGetInst");function Un(v){return!ye&&M(),(!Te||v===!1||ye.lzy)&&(Te=K(Ie(Fn).v||r)),Te.v}s(Un,"getGlobal");function lr(v,E){var w=!Te||E===!1?Un(E):Te.v;return w&&w[v]?w[v]:v===O&&je?je.v:r}s(lr,"getInst");function li(){return!ye&&M(),(!Ht||ye.lzy)&&(Ht=K(Ie(lr,["document"]).v)),Ht.v}s(li,"getDocument");function s0(){return!!rr()}s(s0,"hasWindow");function rr(){return!ye&&M(),(!je||ye.lzy)&&(je=K(Ie(lr,[O]).v)),je.v}s(rr,"getWindow");function dr(){return!!qn()}s(dr,"hasNavigator");function qn(){return!ye&&M(),(!or||ye.lzy)&&(or=K(Ie(lr,["navigator"]).v)),or.v}s(qn,"getNavigator");var Ai,kd;function rl(){(!Ai||!Ai.b)&&(Ai=tr(g),kd=fe(function(){return Ai.v?Ai.v.for:t},t))}s(rl,"_initSymbol");function uf(v,E){return!ye&&M(),(!Ai||ye.lzy)&&rl(),Ai.v?Ai.v(v):E?r:hs(v)}s(uf,"newSymbol");function nl(v){return!ye&&M(),(!kd||!Ai||ye.lzy)&&rl(),(kd.v||tl)(v)}s(nl,"symbolFor");var To=B("apply");function fi(v,E,w){if(v)for(var R=v[_]>>>0,z=0;z<R&&!(z in v&&E[P](w||v,v[z],z,v)===-1);z++);}s(fi,"arrForEach");var ra=Ye(y,pe),il=Ye("map",pe),k2=Ye("reduce",pe),ms=k.create||Yr;function Yr(v){if(!v)return{};var E=typeof v;E!==a&&E!==i&&Je("Prototype must be an Object or function: "+Y(v));function w(){}return s(w,"tempFunc"),w[l]=v,new w}s(Yr,"polyObjCreate");var N2;function sl(v,E){var w=k.setPrototypeOf||function(R,z){!N2&&(N2=se(function(){var ne;return ne={},ne[f]=[],ne instanceof Array})),N2.v?R[f]=z:W(z,function(ne,me){return R[ne]=me})};return w(v,E)}s(sl,"objSetPrototypeOf");function cv(v,E,w){Ie(Co,[E,T,{v,c:!0,e:!1}]),E=sl(E,w);function R(){this.constructor=E,Ie(Co,[this,T,{v,c:!0,e:!1}])}return s(R,"__"),E[l]=w===r?ms(w):(R[l]=w[l],new R),E}s(cv,"_createCustomError");function Eo(v,E){E&&(v[T]=E)}s(Eo,"_setName");function uv(v,E,w){var R=w||Error,z=R[l][T],ne=Error.captureStackTrace;return cv(v,function(){var me=this,Se=arguments;try{Ie(Eo,[R,v]);var Le=To(R,me,pe[I][P](Se))||me;if(Le!==me){var Ge=vt(me);Ge!==vt(Le)&&sl(Le,Ge)}return ne&&ne(Le,me[d]),E&&E(Le,Se),Le}finally{Ie(Eo,[R,z])}},R)}s(uv,"createCustomError");function na(){return(Date.now||dv)()}s(na,"utcNow");function dv(){return new Date().getTime()}s(dv,"polyUtcNow");function ci(v){return s(function(w){return be(w)&&Je("strTrim called ["+Y(w)+"]"),w&&w.replace&&(w=w.replace(v,n)),w},"_doTrim")}s(ci,"_createTrimFn");var D2=ci(/^\s+|(?=\s)\s+$/g),gs=Vt("trim",te,D2),L2,B2,i1;function Us(v){if(!v||typeof v!==a)return!1;i1||(i1=s0()?rr():!0);var E=!1;if(v!==i1){B2||(L2=Function[l][U],B2=L2[P](k));try{var w=vt(v);E=!w,E||(dt(w,d)&&(w=w[d]),E=w&&typeof w===i&&L2[P](w)===B2)}catch{}}return E}s(Us,"isPlainObject");var df;function Nd(){return!ye&&M(),(!df||!df.b&&ye.lzy)&&(df=tr("performance")),df.v}s(Nd,"getPerformance");var hv=Vt("endsWith",te,Dd);function Dd(v,E,w){ce(v)||Je("'"+Y(v)+"' is not a string");var R=ce(E)?E:X0(E),z=!Ae(w)&&w<v[_]?w:v[_];return Wt(v,z-R[_],z)===R}s(Dd,"polyStrEndsWith");var s1=Ye(y,te),So="ref",ia="un"+So,Xt="hasRef",$i="enabled";function o1(v,E,w){var R,z=!0,ne=v?E(r):r,me,Se=s(function(){return z=!1,ne&&ne[ia]&&ne[ia](),me},"_unref"),Le=s(function(){return z=!0,ne&&ne[So]&&ne[So](),me},"_ref"),Ge=s(function(){return ne&&ne[Xt]?ne[Xt]():z},"_hasRef"),ht=s(function(){return ne=E(ne),z||Se(),me},"_refresh"),a0=s(function(){ne&&w(ne),ne=r},"_cancel"),i0=s(function(Zt){!Zt&&ne&&a0(),Zt&&!ne&&ht()},"_setEnabled");return me=(R={cancel:a0,refresh:ht},R[Xt]=Ge,R[So]=Le,R[ia]=Se,R[$i]=!1,R),ji(me,$i,{get:function(){return!!ne},set:i0}),{h:me,dn:function(){ne=r}}}s(o1,"_createTimerHandler");function O2(v,E,w,R){var z=Ee(w),ne=z?w.length:0,me=(ne>0?w[0]:z?t:w)||setTimeout,Se=(ne>1?w[1]:t)||clearTimeout,Le=R[0];R[0]=function(){Ge.dn(),To(Le,v,pe[I][P](arguments))};var Ge=o1(E,function(ht){if(ht){if(ht.refresh)return ht.refresh(),ht;To(Se,v,[ht])}return To(me,v,R)},function(ht){To(Se,v,[ht])});return Ge.h}s(O2,"_createTimeoutWith");function mv(v,E){return O2(this,!0,t,pe[I][P](arguments))}s(mv,"scheduleTimeout");var ps=sr,gv=pr,hf="toLowerCase",a1="blkVal",Jr="length",l1="rdOnly",F2="notify",sa="warnToConsole",f1="throwInternal",M2="setDf",U2="watch",zr="logger",q2="apply",qs="push",Ld="splice",ui="hdlr",pv="cancel",Bd="name",yv="unload",c1="version",f6="loggingLevelConsole",j2="messageId",u1="message",c6="diagLog",u6="userAgent",$2="split",Od="nodeType",mf="replace",d6="logInternalMessage",wo="type",Fd="handler",h6="traceId",gf="spanId",ol="traceFlags",d1;function H2(v,E){d1||(d1=uv("AggregationError",function(R,z){z[Jr]>1&&(R.errors=z[1])}));var w=v||"One or more errors occurred.";throw fi(E,function(R,z){w+=`
`.concat(z," > ").concat(Y(R))}),new d1(w,E||[])}s(H2,"throwAggregationError");var m6="function",vv="object",g6="undefined",js="prototype",p6=Object,Md=p6[js],h1="hasOwnProperty",Io=s(function(v){for(var E,w=1,R=arguments.length;w<R;w++){E=arguments[w];for(var z in E)Md[h1].call(E,z)&&(v[z]=E[z])}return v},"__objAssignFnImpl"),al=Mt||Io,pf=s(function(v,E){return pf=p6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var z in R)R[h1](z)&&(w[z]=R[z])},pf(v,E)},"extendStaticsFn");function V2(v,E){typeof E!==m6&&E!==null&&Je("Class extends value "+String(E)+" is not a constructor or null"),pf(v,E);function w(){this.constructor=v}s(w,"__"),v[js]=E===null?ms(E):(w[js]=E[js],new w)}s(V2,"__extendsFn");var Ao,Ud="constructor",ys="prototype",oa="function",m1="_dynInstFuncs",qd="_isDynProxy",aa="_dynClass",jd="_dynCls$",$d="_dynInstChk",ll=$d,g1="_dfOpts",Hd="_unknown_",p1="__proto__",la="_dyn"+p1,z2="__dynProto$Gbl",Vd="_dynInstProto",yf="useBaseInst",vf="setInstFuncs",y1=Object,vs=y1.getPrototypeOf,v1=y1.getOwnPropertyNames,zd=Un(),xf=zd[z2]||(zd[z2]={o:(Ao={},Ao[vf]=!0,Ao[yf]=!0,Ao),n:1e3});function Kd(v){return v&&(v===y1[ys]||v===Array[ys])}s(Kd,"_isObjectOrArrayPrototype");function x1(v){return Kd(v)||v===Function[ys]}s(x1,"_isObjectArrayOrFunctionPrototype");function fl(v){var E;if(v){if(vs)return vs(v);var w=v[p1]||v[ys]||(v[Ud]?v[Ud][ys]:null);E=v[la]||w,dt(v,la)||(delete v[Vd],E=v[la]=v[Vd]||v[la],v[Vd]=w)}return E}s(fl,"_getObjProto");function Wd(v,E){var w=[];if(v1)w=v1(v);else for(var R in v)typeof R=="string"&&dt(v,R)&&w.push(R);if(w&&w.length>0)for(var z=0;z<w.length;z++)E(w[z])}s(Wd,"_forEachProp");function K2(v,E,w){return E!==Ud&&typeof v[E]===oa&&(w||dt(v,E))&&E!==p1&&E!==ys}s(K2,"_isDynamicCandidate");function Gd(v){Je("DynamicProto: "+v)}s(Gd,"_throwTypeError");function xv(v){var E=ms(null);return Wd(v,function(w){!E[w]&&K2(v,w,!1)&&(E[w]=v[w])}),E}s(xv,"_getInstanceFuncs");function _1(v,E){for(var w=v.length-1;w>=0;w--)if(v[w]===E)return!0;return!1}s(_1,"_hasVisited");function di(v,E,w,R){function z(Le,Ge,ht){var a0=Ge[ht];if(a0[qd]&&R){var i0=Le[m1]||{};i0[ll]!==!1&&(a0=(i0[Ge[aa]]||{})[ht]||a0)}return function(){return a0.apply(Le,arguments)}}s(z,"_instFuncProxy");var ne=ms(null);Wd(w,function(Le){ne[Le]=z(E,w,Le)});for(var me=fl(v),Se=[];me&&!x1(me)&&!_1(Se,me);)Wd(me,function(Le){!ne[Le]&&K2(me,Le,!vs)&&(ne[Le]=z(E,me,Le))}),Se.push(me),me=fl(me);return ne}s(di,"_getBaseFuncs");function _v(v,E,w,R){var z=null;if(v&&dt(w,aa)){var ne=v[m1]||ms(null);if(z=(ne[w[aa]]||ms(null))[E],z||Gd("Missing ["+E+"] "+oa),!z[$d]&&ne[ll]!==!1){for(var me=!dt(v,E),Se=fl(v),Le=[];me&&Se&&!x1(Se)&&!_1(Le,Se);){var Ge=Se[E];if(Ge){me=Ge===R;break}Le.push(Se),Se=fl(Se)}try{me&&(v[E]=z),z[$d]=1}catch{ne[ll]=!1}}}return z}s(_v,"_getInstFunc");function y6(v,E,w){var R=E[v];return R===w&&(R=fl(E)[v]),typeof R!==oa&&Gd("["+v+"] is not a "+oa),R}s(y6,"_getProtoFunc");function v6(v,E,w,R,z){function ne(Le,Ge){var ht=s(function(){var a0=_v(this,Ge,Le,ht)||y6(Ge,Le,ht);return a0.apply(this,arguments)},"dynProtoProxy");return ht[qd]=1,ht}if(s(ne,"_createDynamicPrototype"),!Kd(v)){var me=w[m1]=w[m1]||ms(null);if(!Kd(me)){var Se=me[E]=me[E]||ms(null);me[ll]!==!1&&(me[ll]=!!z),Kd(Se)||Wd(w,function(Le){K2(w,Le,!1)&&w[Le]!==R[Le]&&(Se[Le]=w[Le],delete w[Le],(!dt(v,Le)||v[Le]&&!v[Le][qd])&&(v[Le]=ne(v,Le)))})}}}s(v6,"_populatePrototype");function b1(v,E){if(vs){for(var w=[],R=fl(E);R&&!x1(R)&&!_1(w,R);){if(R===v)return!0;w.push(R),R=fl(R)}return!1}return!0}s(b1,"_checkPrototype");function C1(v,E){return dt(v,ys)?v.name||E||Hd:((v||{})[Ud]||{}).name||E||Hd}s(C1,"_getObjName");function W2(v,E,w,R){dt(v,ys)||Gd("theClass is an invalid class definition.");var z=v[ys];b1(z,E)||Gd("["+C1(v)+"] not in hierarchy of ["+C1(E)+"]");var ne=null;dt(z,aa)?ne=z[aa]:(ne=jd+C1(v,"_")+"$"+xf.n,xf.n++,z[aa]=ne);var me=W2[g1],Se=!!me[yf];Se&&R&&R[yf]!==void 0&&(Se=!!R[yf]);var Le=xv(E),Ge=di(z,E,Le,Se);w(E,Ge);var ht=!!vs&&!!me[vf];ht&&R&&(ht=!!R[vf]),v6(z,ne,E,Le,ht!==!1)}s(W2,"dynamicProto"),W2[g1]=xf.o;var x6=void 0,kr="",fa="Not dynamic - ",G2=/-([a-z])/g,T1=/([^\w\d_$])/g,_6=/^(\d+[\w\d_$])/;function Yd(v){return!be(v)}s(Yd,"isNotNullOrUndefined");function Y2(v){var E=v;return E&&ce(E)&&(E=E[mf](G2,function(w,R){return R.toUpperCase()}),E=E[mf](T1,"_"),E=E[mf](_6,function(w,R){return"_"+R})),E}s(Y2,"normalizeJsName");function E1(v,E){return v&&E?s1(v,E)!==-1:!1}s(E1,"strContains");function S1(v){return v&&v.toISOString()||""}s(S1,"toISOString");function x0(v){return mt(v)?v[Bd]:kr}s(x0,"getExceptionName");function Jd(v){return function(){function E(){var w=this;v&&W(v,function(R,z){w[R]=z})}return s(E,"class_1"),E}()}s(Jd,"createClassFromInterface");var Xd="console",w1="JSON",I1="crypto",_f="msCrypto",Po="msie",Br="trident/",bf=null,nr=null,cl=null;function b6(){return typeof console!==g6?console:lr(Xd)}s(b6,"getConsole");function ul(){return!!(typeof JSON===vv&&JSON||lr(w1)!==null)}s(ul,"hasJSON");function A1(){return ul()?JSON||lr(w1):null}s(A1,"getJSON");function ca(){return lr(I1)}s(ca,"getCrypto");function $s(){return lr(_f)}s($s,"getMsCrypto");function P1(){var v=qn();if(v&&(v[u6]!==nr||bf===null)){nr=v[u6];var E=(nr||kr)[hf]();bf=E1(E,Po)||E1(E,Br)}return bf}s(P1,"isIE");function C6(v){return(cl===null||v===!1)&&(cl=dr()&&!!qn().sendBeacon),cl}s(C6,"isBeaconsSupported");function ua(v,E){if(v)for(var w=0;w<v[Jr];w++){var R=v[w];if(R[Bd]&&R[Bd]===E)return R}return{}}s(ua,"_getNamedValue");function Cf(v){var E=li();return E&&v?ua(E.querySelectorAll("meta"),v).content:null}s(Cf,"findMetaTag");function jn(v){var E,w=Nd();if(w){var R=w.getEntriesByType("navigation")||[];E=ua((R[Jr]>0?R[0]:{}).serverTiming,v).description}return E}s(jn,"findNamedServerTiming");var J2=4294967296,Hi=4294967295,R1=123456789,k1=987654321,dl=!1,Tf=R1,Vi=k1;function Qd(v){v<0&&(v>>>=0),Tf=R1+v&Hi,Vi=k1-v&Hi,dl=!0}s(Qd,"_mwcSeed");function T6(){try{var v=na()&2147483647;Qd((Math.random()*J2^v)+v)}catch{}}s(T6,"_autoSeedMwc");function E6(v){return v>0?Math.floor(xs()/Hi*(v+1))>>>0:0}s(E6,"randomValue");function xs(v){var E=0,w=ca()||$s();return w&&w.getRandomValues&&(E=w.getRandomValues(new Uint32Array(1))[0]&Hi),E===0&&P1()&&(dl||T6(),E=Ro()&Hi),E===0&&(E=Math.floor(J2*Math.random()|0)),v||(E>>>=0),E}s(xs,"random32");function Ro(v){Vi=36969*(Vi&65535)+(Vi>>16)&Hi,Tf=18e3*(Tf&65535)+(Tf>>16)&Hi;var E=(Vi<<16)+(Tf&65535)>>>0&Hi|0;return v||(E>>>=0),E}s(Ro,"mwcRandom32");function Zd(v){v===void 0&&(v=22);for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=xs()>>>0,R=0,z=kr;z[Jr]<v;)R++,z+=E.charAt(w&63),w>>>=6,R===5&&(w=(xs()<<2&4294967295|w&3)>>>0,R=0);return z}s(Zd,"newId");var hl="3.0.5",Ef="."+Zd(6),ko=0;function e5(v){return v[Od]===1||v[Od]===9||!+v[Od]}s(e5,"_canAcceptData");function N1(v,E){var w=E[v.id];if(!w){w={};try{e5(E)&&Co(E,v.id,{e:!1,v:w})}catch{}}return w}s(N1,"_getCache");function hi(v,E){return E===void 0&&(E=!1),Y2(v+ko+++(E?"."+hl:kr)+Ef)}s(hi,"createUniqueNamespace");function D1(v){var E={id:hi("_aiData-"+(v||kr)+"."+hl),accept:function(w){return e5(w)},get:function(w,R,z,ne){var me=w[E.id];return me?me[Y2(R)]:(ne&&(me=N1(E,w),me[Y2(R)]=z),z)},kill:function(w,R){if(w&&w[R])try{delete w[R]}catch{}}};return E}s(D1,"createElmNodeData");function Sf(v){return v&&le(v)&&(v.isVal||v.fb||Ve(v,"v")||Ve(v,"mrg")||Ve(v,"ref")||v.set)}s(Sf,"_isConfigDefaults");function wf(v,E,w){var R,z=w.dfVal||ze;if(E&&w.fb){var ne=w.fb;Ee(ne)||(ne=[ne]);for(var me=0;me<ne[Jr];me++){var Se=ne[me],Le=E[Se];if(z(Le)?R=Le:v&&(Le=v.cfg[Se],z(Le)&&(R=Le),v.set(v.cfg,X0(Se),Le)),z(R))break}}return!z(R)&&z(w.v)&&(R=w.v),R}s(wf,"_getDefault");function L1(v,E,w){var R=w;if(w&&Sf(w)&&(R=wf(v,E,w)),R){Sf(R)&&(R=L1(v,E,R));var z;Ee(R)?(z=[],z[Jr]=R[Jr]):Us(R)&&(z={}),z&&(W(R,function(ne,me){me&&Sf(me)&&(me=L1(v,E,me)),z[ne]=me}),R=z)}return R}s(L1,"_resolveDefaultValue");function ml(v,E,w,R){var z,ne,me,Se=R,Le,Ge,ht,a0;Sf(Se)?(z=Se.isVal,ne=Se.set,ht=Se[l1],a0=Se[a1],Le=Se.mrg,Ge=Se.ref,!Ge&&Ae(Ge)&&(Ge=!!Le),me=wf(v,E,Se)):me=R,a0&&v[a1](E,w);var i0,Zt=!0,At=E[w];(At||!be(At))&&(i0=At,Zt=!1,z&&i0!==me&&!z(i0)&&(i0=me,Zt=!0),ne&&(i0=ne(i0,me,E),Zt=i0===me)),Zt?me?i0=L1(v,E,me):i0=me:(Us(i0)||Ee(me))&&Le&&me&&(Us(me)||Ee(me))&&W(me,function(_0,zt){ml(v,i0,_0,zt)}),v.set(E,w,i0),Ge&&v.ref(E,w),ht&&v[l1](E,w)}s(ml,"_applyDefaultValue");var da=nl("[[ai_dynCfg_1]]"),Hs=nl("[[ai_blkDynCfg_1]]"),X2=nl("[[ai_frcDynCfg_1]]");function t5(v){if(v){var E;if(Ee(v)?(E=[],E[Jr]=v[Jr]):Us(v)&&(E={}),E)return W(v,function(w,R){E[w]=t5(R)}),E}return v}s(t5,"_cfgDeepCopy");function If(v){if(v){var E=v[da]||v;if(E.cfg&&(E.cfg===v||E.cfg[da]===E))return E}return null}s(If,"getDynamicConfigHandler");function Vs(v){if(v&&(Us(v)||Ee(v)))try{v[Hs]=!0}catch{}return v}s(Vs,"blockDynamicConversion");function B1(v,E,w){var R=!1;return w&&!v[E.blkVal]&&(R=w[X2],!R&&!w[Hs]&&(R=Us(w)||Ee(w))),R}s(B1,"_canMakeDynamic");function Q2(v){Je("InvalidAccess:"+v)}s(Q2,"throwInvalidAccess");var S6=["push","pop","shift","unshift","splice"],Af=s(function(v,E,w,R){v&&v[f1](3,108,"".concat(w," [").concat(E,"] failed - ")+Y(R))},"_throwDynamicError");function Z2(v,E,w){Ee(E)&&fi(S6,function(R){var z=E[R];E[R]=function(){for(var ne=[],me=0;me<arguments.length;me++)ne[me]=arguments[me];var Se=z[q2](this,ne);return F1(v,E,w,"Patching"),Se}})}s(Z2,"_patchArray");function r5(v,E){var w=Et(v,E);return w&&w.get}s(r5,"_getOwnPropGetter");function n5(v,E,w,R){var z={n:w,h:[],trk:function(Ge){Ge&&Ge.fn&&(ra(z.h,Ge)===-1&&z.h[qs](Ge),v.trk(Ge,z))},clr:function(Ge){var ht=ra(z.h,Ge);ht!==-1&&z.h[Ld](ht,1)}},ne=!0,me=!1;function Se(){ne&&(me=me||B1(Se,v,R),R&&!R[da]&&me&&(R=F1(v,R,w,"Converting")),ne=!1);var Ge=v.act;return Ge&&z.trk(Ge),R}s(Se,"_getProperty"),Se[v.prop]={chng:function(){v.add(z)}};function Le(Ge){if(R!==Ge){Se[v.ro]&&!v.upd&&Q2("["+w+"] is read-only:"+Y(E)),ne&&(me=me||B1(Se,v,R),ne=!1);var ht=me&&Se[v.rf];if(me)if(ht){W(R,function(i0){R[i0]=Ge?Ge[i0]:x6});try{W(Ge,function(i0,Zt){O1(v,R,i0,Zt)}),Ge=R}catch(i0){Af((v.hdlr||{})[zr],w,"Assigning",i0),me=!1}}else R&&R[da]&&W(R,function(i0){var Zt=r5(R,i0);if(Zt){var At=Zt[v.prop];At&&At.chng()}});if(Ge!==R){var a0=Ge&&B1(Se,v,Ge);!ht&&a0&&(Ge=F1(v,Ge,w,"Converting")),R=Ge,me=a0}v.add(z)}}s(Le,"_setProperty"),Co(E,z.n,{g:Se,s:Le})}s(n5,"_createDynamicProperty");function O1(v,E,w,R){if(E){var z=r5(E,w),ne=z&&!!z[v.prop];ne?E[w]=R:n5(v,E,w,R)}return E}s(O1,"_setDynamicProperty");function e4(v,E,w,R){if(E){var z=r5(E,w),ne=z&&!!z[v.prop],me=R&&R[0],Se=R&&R[1],Le=R&&R[2];if(!ne){if(Le)try{Vs(E)}catch(Ge){Af((v.hdlr||{})[zr],w,"Blocking",Ge)}try{O1(v,E,w,E[w]),z=r5(E,w)}catch(Ge){Af((v.hdlr||{})[zr],w,"State",Ge)}}me&&(z[v.rf]=me),Se&&(z[v.ro]=Se),Le&&(z[v.blkVal]=!0)}return E}s(e4,"_setDynamicPropertyState");function F1(v,E,w,R){try{W(E,function(z,ne){O1(v,E,z,ne)}),E[da]||(ji(E,da,{get:function(){return v[ui]}}),Z2(v,E,w))}catch(z){Af((v.hdlr||{})[zr],w,R,z)}return E}s(F1,"_makeDynamicObject");var Pf="[[ai_",ha="]]";function bv(v){var E,w=uf(Pf+"get"+v.uid+ha),R=uf(Pf+"ro"+v.uid+ha),z=uf(Pf+"rf"+v.uid+ha),ne=uf(Pf+"blkVal"+v.uid+ha),me=uf(Pf+"dtl"+v.uid+ha),Se=null,Le=null,Ge;function ht(At,_0){var zt=Ge.act;try{Ge.act=At,At&&At[me]&&(fi(At[me],function(m0){m0.clr(At)}),At[me]=[]),_0({cfg:v.cfg,set:v.set.bind(v),setDf:v[M2].bind(v),ref:v.ref.bind(v),rdOnly:v[l1].bind(v)})}catch(m0){var F0=v[zr];throw F0&&F0[f1](1,107,Y(m0)),m0}finally{Ge.act=zt||null}}s(ht,"_useHandler");function a0(){if(Se){var At=Se;Se=null,Le&&Le[pv](),Le=null;var _0=[];if(fi(At,function(zt){if(zt&&(zt[me]&&(fi(zt[me],function(F0){F0.clr(zt)}),zt[me]=null),zt.fn))try{ht(zt,zt.fn)}catch(F0){_0[qs](F0)}}),Se)try{a0()}catch(zt){_0[qs](zt)}_0[Jr]>0&&H2("Watcher error(s): ",_0)}}s(a0,"_notifyWatchers");function i0(At){if(At&&At.h[Jr]>0){Se||(Se=[]),Le||(Le=mv(function(){Le=null,a0()},0));for(var _0=0;_0<At.h[Jr];_0++){var zt=At.h[_0];zt&&ra(Se,zt)===-1&&Se[qs](zt)}}}s(i0,"_addWatcher");function Zt(At,_0){if(At){var zt=At[me]=At[me]||[];ra(zt,_0)===-1&&zt[qs](_0)}}return s(Zt,"_trackHandler"),Ge=(E={prop:w,ro:R,rf:z},E[a1]=ne,E[ui]=v,E.add=i0,E[F2]=a0,E.use=ht,E.trk=Zt,E),Ge}s(bv,"_createState");function i5(v,E){var w={fn:E,rm:function(){w.fn=null,v=null,E=null}};return v.use(w,E),w}s(i5,"_createAndUseHandler");function w6(v,E,w){var R,z=If(E);if(z)return z;var ne=hi("dyncfg",!0),me=E&&w!==!1?E:t5(E),Se;function Le(){Se[F2]()}s(Le,"_notifyWatchers");function Ge(F0,m0,e0){try{F0=O1(Se,F0,m0,e0)}catch(Sr){Af(v,m0,"Setting value",Sr)}return F0[m0]}s(Ge,"_setValue");function ht(F0){return i5(Se,F0)}s(ht,"_watch");function a0(F0,m0){Se.use(null,function(e0){var Sr=Se.upd;try{Ae(m0)||(Se.upd=m0),F0(e0)}finally{Se.upd=Sr}})}s(a0,"_block");function i0(F0,m0){var e0;return e4(Se,F0,m0,(e0={},e0[0]=!0,e0))[m0]}s(i0,"_ref");function Zt(F0,m0){var e0;return e4(Se,F0,m0,(e0={},e0[1]=!0,e0))[m0]}s(Zt,"_rdOnly");function At(F0,m0){var e0;return e4(Se,F0,m0,(e0={},e0[2]=!0,e0))[m0]}s(At,"_blkPropValue");function _0(F0,m0){return m0&&W(m0,function(e0,Sr){ml(zt,F0,e0,Sr)}),F0}s(_0,"_applyDefaults");var zt=(R={uid:null,cfg:me},R[zr]=v,R[F2]=Le,R.set=Ge,R[M2]=_0,R[U2]=ht,R.ref=i0,R[l1]=Zt,R[a1]=At,R._block=a0,R);return Co(zt,"uid",{c:!1,e:!1,w:!1,v:ne}),Se=bv(zt),F1(Se,me,"config","Creating"),zt}s(w6,"_createDynamicHandler");function Cv(v,E){v?(v[sa](E),v[f1](2,108,E)):Q2(E)}s(Cv,"_logInvalidAccess");function I6(v,E,w,R){var z=w6(w,v||{},R);return E&&z[M2](z.cfg,E),z}s(I6,"createDynamicConfig");function s5(v,E,w){var R=v[da]||v;return R.cfg&&(R.cfg===v||R.cfg[da]===R)?R[U2](E):(Cv(w,fa+Y(v)),I6(v,null,w)[U2](E))}s(s5,"onConfigChange");var M1=null;function Tv(){var v=lr("Microsoft");return v&&(M1=v.ApplicationInsights),M1}s(Tv,"_getExtensionNamespace");function Ev(v){var E=M1;return!E&&v.disableDbgExt!==!0&&(E=M1||Tv()),E?E.ChromeDbgExt:null}s(Ev,"getDebugExt");var Rf,A6="warnToConsole",P6="AI (Internal): ",t4="AI: ",Sv="AITR_",r4={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},kf=(Rf={},Rf[0]=null,Rf[1]="errorToConsole",Rf[2]=A6,Rf[3]="debugToConsole",Rf);function R6(v){return v?'"'+v[mf](/\"/g,kr)+'"':kr}s(R6,"_sanitizeDiagnosticText");function zi(v,E){var w=b6();if(w){var R="log";w[v]&&(R=v),ve(w[R])&&w[R](E)}}s(zi,"_logToConsole");var N0=function(){function v(E,w,R,z){R===void 0&&(R=!1);var ne=this;ne[j2]=E,ne[u1]=(R?t4:P6)+E;var me=kr;ul()&&(me=A1().stringify(z));var Se=(w?" message:"+R6(w):kr)+(z?" props:"+R6(me):kr);ne[u1]+=Se}return s(v,"_InternalLogMessage"),v.dataType="MessageData",v}();function gl(v,E){return(v||{})[zr]||new Or(E)}s(gl,"safeGetLogger");var Or=function(){function v(E){this.identifier="DiagnosticLogger",this.queue=[];var w=0,R={},z,ne,me,Se,Le;W2(v,this,function(Ge){Le=a0(E||{}),Ge.consoleLoggingLevel=function(){return z},Ge[f1]=function(At,_0,zt,F0,m0){m0===void 0&&(m0=!1);var e0=new N0(_0,zt,m0,F0);if(Se)throw Y(e0);var Sr=kf[At]||A6;if(Ae(e0[u1]))Zt("throw"+(At===1?"Critical":"Warning"),e0);else{if(m0){var Zf=+e0[j2];!R[Zf]&&z>=At&&(Ge[Sr](e0[u1]),R[Zf]=!0)}else z>=At&&Ge[Sr](e0[u1]);ht(At,e0)}},Ge.debugToConsole=function(At){zi("debug",At),Zt("warning",At)},Ge[sa]=function(At){zi("warn",At),Zt("warning",At)},Ge.errorToConsole=function(At){zi("error",At),Zt("error",At)},Ge.resetInternalMessageCount=function(){w=0,R={}},Ge[d6]=ht,Ge[yv]=function(At){Le&&Le.rm(),Le=null};function ht(At,_0){if(!i0()){var zt=!0,F0=Sv+_0[j2];if(R[F0]?zt=!1:R[F0]=!0,zt&&(At<=ne&&(Ge.queue[qs](_0),w++,Zt(At===1?"error":"warn",_0)),w===me)){var m0="Internal events throttle limit per PageView reached for this app.",e0=new N0(23,m0,!1);Ge.queue[qs](e0),At===1?Ge.errorToConsole(m0):Ge[sa](m0)}}}s(ht,"_logInternalMessage");function a0(At){return s5(I6(At,r4,Ge).cfg,function(_0){var zt=_0.cfg;z=zt[f6],ne=zt.loggingLevelTelemetry,me=zt.maxMessageLimit,Se=zt.enableDebug})}s(a0,"_setDefaultsFromConfig");function i0(){return w>=me}s(i0,"_areInternalMessagesThrottled");function Zt(At,_0){var zt=Ev(E||{});zt&&zt[c6]&&zt[c6](At,_0)}s(Zt,"_debugExtMsg")})}return s(v,"DiagnosticLogger"),v.__ieDyn=1,v}();function n4(v){return v||new Or}s(n4,"_getLogger");function $n(v,E,w,R,z,ne){ne===void 0&&(ne=!1),n4(v)[f1](E,w,R,z,ne)}s($n,"_throwInternal");function pl(){for(var v=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],E=kr,w,R=0;R<4;R++)w=xs(),E+=v[w&15]+v[w>>4&15]+v[w>>8&15]+v[w>>12&15]+v[w>>16&15]+v[w>>20&15]+v[w>>24&15]+v[w>>28&15];var z=v[8+(xs()&3)|0];return W0(E,0,8)+W0(E,9,4)+"4"+W0(E,13,3)+z+W0(E,16,3)+W0(E,19,12)}s(pl,"generateW3CId");var Nf=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Ki="00",Df="ff",yl="00000000000000000000000000000000",ma="0000000000000000",U1=1;function Hn(v,E,w){return v&&v[Jr]===E&&v!==w?!!v.match(/^[\da-f]*$/i):!1}s(Hn,"_isValid");function q1(v,E,w){return Hn(v,E)?v:w}s(q1,"_formatValue");function o5(v){(isNaN(v)||v<0||v>255)&&(v=1);for(var E=v.toString(16);E[Jr]<2;)E="0"+E;return E}s(o5,"_formatFlags");function i4(v,E,w,R){var z;return z={},z[c1]=Hn(R,2,Df)?R:Ki,z[h6]=o4(v)?v:pl(),z[gf]=a4(E)?E:er(pl(),16),z.traceFlags=w>=0&&w<=255?w:1,z}s(i4,"createTraceParent");function s4(v,E){var w;if(!v||(Ee(v)&&(v=v[0]||""),!v||!ce(v)||v[Jr]>8192))return null;if(v.indexOf(",")!==-1){var R=v[$2](",");v=R[E>0&&R[Jr]>E?E:0]}var z=Nf.exec(gs(v));return!z||z[1]===Df||z[2]===yl||z[3]===ma?null:(w={version:(z[1]||kr)[hf](),traceId:(z[2]||kr)[hf](),spanId:(z[3]||kr)[hf]()},w[ol]=parseInt(z[4],16),w)}s(s4,"parseTraceParent");function o4(v){return Hn(v,32,yl)}s(o4,"isValidTraceId");function a4(v){return Hn(v,16,ma)}s(a4,"isValidSpanId");function k6(v){return!(!v||!Hn(v[c1],2,Df)||!Hn(v[h6],32,yl)||!Hn(v[gf],16,ma)||!Hn(o5(v[ol]),2))}s(k6,"isValidTraceParent");function l4(v){return k6(v)?(v[ol]&U1)===U1:!1}s(l4,"isSampledFlag");function f4(v){if(v){var E=o5(v[ol]);Hn(E,2)||(E="01");var w=v[c1]||Ki;return w!=="00"&&w!=="ff"&&(w=Ki),"".concat(w.toLowerCase(),"-").concat(q1(v.traceId,32,yl).toLowerCase(),"-").concat(q1(v.spanId,16,ma).toLowerCase(),"-").concat(E.toLowerCase())}return""}s(f4,"formatTraceParent");function _n(v){var E="traceparent",w=s4(Cf(E),v);return w||(w=s4(jn(E),v)),w}s(_n,"findW3cTraceParent");var j1="on",Vn="attachEvent",ga="addEventListener",N6="detachEvent",D6="removeEventListener",Lf="events";hi("aiEvtPageHide"),hi("aiEvtPageShow");var c4=/\.[\.]+/g,wv=/[\.]+$/,L6=1,$1=D1("events"),Iv=/^([^.]*)(?:\.(.+)|)/;function B6(v){return v&&v[mf]?v[mf](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,kr):v}s(B6,"_normalizeNamespace");function u4(v,E){var w;if(E){var R=kr;Ee(E)?(R=kr,fi(E,function(ne){ne=B6(ne),ne&&(ne[0]!=="."&&(ne="."+ne),R+=ne)})):R=B6(E),R&&(R[0]!=="."&&(R="."+R),v=(v||kr)+R)}var z=Iv.exec(v||kr)||[];return w={},w[wo]=z[1],w.ns=(z[2]||kr).replace(c4,".").replace(wv,kr)[$2](".").sort().join("."),w}s(u4,"_getEvtNamespace");function d4(v,E,w){w===void 0&&(w=!0);var R=$1.get(v,Lf,{},w),z=R[E];return z||(z=R[E]=[]),z}s(d4,"_getRegisteredEvents");function O6(v,E,w,R){v&&E&&E[wo]&&(v[D6]?v[D6](E[wo],w,R):v[N6]&&v[N6](j1+E[wo],w))}s(O6,"_doDetach");function Av(v,E,w,R){var z=!1;return v&&E&&E[wo]&&w&&(v[ga]?(v[ga](E[wo],w,R),z=!0):v[Vn]&&(v[Vn](j1+E[wo],w),z=!0)),z}s(Av,"_doAttach");function a5(v,E,w,R){for(var z=E[Jr];z--;){var ne=E[z];ne&&(!w.ns||w.ns===ne.evtName.ns)&&(!R||R(ne))&&(O6(v,ne.evtName,ne[Fd],ne.capture),E[Ld](z,1))}}s(a5,"_doUnregister");function h4(v,E,w){if(E[wo])a5(v,d4(v,E[wo]),E,w);else{var R=$1.get(v,Lf,{});W(R,function(z,ne){a5(v,ne,E,w)}),Lt(R)[Jr]===0&&$1.kill(v,Lf)}}s(h4,"_unregisterEvents");function F6(v,E){var w;return E?(Ee(E)?w=[v].concat(E):w=[v,E],w=u4("xx",w).ns[$2](".")):w=v,w}s(F6,"mergeEvtNamespace");function l5(v,E,w,R,z){var ne;z===void 0&&(z=!1);var me=!1;if(v)try{var Se=u4(E,R);if(me=Av(v,Se,w,z),me&&$1.accept(v)){var Le=(ne={guid:L6++,evtName:Se},ne[Fd]=w,ne.capture=z,ne);d4(v,Se.type)[qs](Le)}}catch{}return me}s(l5,"eventOn");function m4(v,E,w,R,z){if(z===void 0&&(z=!1),v)try{var ne=u4(E,R),me=!1;h4(v,ne,function(Se){return ne.ns&&!w||Se[Fd]===w?(me=!0,!0):!1}),me||O6(v,ne,w,z)}catch{}}s(m4,"eventOff");var Pv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Bf="sampleRate",g4="ProcessLegacy",M6="http.method",p4="https://dc.services.visualstudio.com",f5="/v2/track",Pi="not_specified",zs="iKey",U6=gv({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Of="split",o0="length",Ff="toLowerCase",Ks="ingestionendpoint",vl="toString",H1="push",c5="removeItem",Wi="name",mi="message",xl="count",u5="preTriggerDate",d5="disabled",_l="interval",Mf="daysOfMonth",y4="date",v4="getUTCDate",V1="stringify",h5="pathname",q6="correlationHeaderExcludePatterns",z1="extensionConfig",Uf="exceptions",_s="parsedStack",bs="properties",No="measurements",Gi="sizeInBytes",Ws="typeName",pa="severityLevel",m5="problemGroup",K1="isManual",g5="CreateFromInterface",Ri="assembly",ya="fileName",p5="hasFullStack",W1="level",qf="method",G1="line",jf="duration",x4="receivedResponse";function _4(v,E,w){var R=E[o0],z=$f(v,E);if(z[o0]!==R){for(var ne=0,me=z;w[me]!==void 0;)ne++,me=Wt(z,0,147)+j6(ne);z=me}return z}s(_4,"dataSanitizeKeyAndAddUniqueness");function $f(v,E){var w;return E&&(E=gs(X0(E)),E[o0]>150&&(w=Wt(E,0,150),$n(v,2,57,"name is too long.  It has been truncated to 150 characters.",{name:E},!0))),w||E}s($f,"dataSanitizeKey");function bn(v,E,w){w===void 0&&(w=1024);var R;return E&&(w=w||1024,E=gs(X0(E)),E[o0]>w&&(R=Wt(E,0,w),$n(v,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:E},!0))),R||E}s(bn,"dataSanitizeString");function bl(v,E){return Cl(v,E,2048,66)}s(bl,"dataSanitizeUrl");function b4(v,E){var w;return E&&E[o0]>32768&&(w=Wt(E,0,32768),$n(v,2,56,"message is too long, it has been truncated to 32768 characters.",{message:E},!0)),w||E}s(b4,"dataSanitizeMessage");function Y1(v,E){var w;if(E){var R=""+E;R[o0]>32768&&(w=Wt(R,0,32768),$n(v,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:E},!0))}return w||E}s(Y1,"dataSanitizeException");function Gs(v,E){if(E){var w={};W(E,function(R,z){if(le(z)&&ul())try{z=A1()[V1](z)}catch(ne){$n(v,2,49,"custom property is not valid",{exception:ne},!0)}z=bn(v,z,8192),R=_4(v,R,w),w[R]=z}),E=w}return E}s(Gs,"dataSanitizeProperties");function Cs(v,E){if(E){var w={};W(E,function(R,z){R=_4(v,R,w),w[R]=z}),E=w}return E}s(Cs,"dataSanitizeMeasurements");function Hf(v,E){return E&&Cl(v,E,128,69)[vl]()}s(Hf,"dataSanitizeId");function Cl(v,E,w,R){var z;return E&&(E=gs(X0(E)),E[o0]>w&&(z=Wt(E,0,w),$n(v,2,R,"input is too long, it has been truncated to "+w+" characters.",{data:E},!0))),z||E}s(Cl,"dataSanitizeInput");function j6(v){var E="00"+v;return W0(E,E[o0]-3)}s(j6,"dsPadNumber");var $6=li()||{},H6=0,Rv=[null,null,null,null,null];function Cn(v){var E=H6,w=Rv,R=w[E];return $6.createElement?w[E]||(R=w[E]=$6.createElement("a")):R={host:z6(v,!0)},R.href=v,E++,E>=w[o0]&&(E=0),H6=E,R}s(Cn,"urlParseUrl");function Vf(v){var E,w=Cn(v);return w&&(E=w.href),E}s(Vf,"urlGetAbsoluteUrl");function zf(v){var E,w=Cn(v);return w&&(E=w[h5]),E}s(zf,"urlGetPathName");function V6(v,E){return v?v.toUpperCase()+" "+E:E}s(V6,"urlGetCompleteUrl");function z6(v,E){var w=C4(v,E)||"";if(w){var R=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[o0]>3&&ce(R[2])&&R[2][o0]>0)return R[2]+(R[3]||"")}return w}s(z6,"urlParseHost");function C4(v,E){var w=null;if(v){var R=v.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(R!=null&&R[o0]>2&&ce(R[2])&&R[2][o0]>0&&(w=R[2]||"",E&&R[o0]>2)){var z=(R[1]||"")[Ff](),ne=R[3]||"";(z==="http"&&ne===":80"||z==="https"&&ne===":443")&&(ne=""),w+=ne}}return w}s(C4,"urlParseFullHost");var kv=[p4+f5,"https://breeze.aimon.applicationinsights.io"+f5,"https://dc-int.services.visualstudio.com"+f5],J1="cid-v1:";function Ys(v){return ra(kv,v[Ff]())!==-1}s(Ys,"isInternalApplicationInsightsEndpoint");function T4(v){J1=v}s(T4,"correlationIdSetPrefix");function y5(){return J1}s(y5,"correlationIdGetPrefix");function v5(v,E,w){if(!E||v&&v.disableCorrelationHeaders)return!1;if(v&&v[q6]){for(var R=0;R<v.correlationHeaderExcludePatterns[o0];R++)if(v[q6][R].test(E))return!1}var z=Cn(E).host[Ff]();if(z&&(s1(z,":443")!==-1||s1(z,":80")!==-1)&&(z=(C4(E,!0)||"")[Ff]()),(!v||!v.enableCorsCorrelation)&&z&&z!==w)return!1;var ne=v&&v.correlationHeaderDomains;if(ne){var me;if(fi(ne,function(Ge){var ht=new RegExp(Ge.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));me=me||ht.test(z)}),!me)return!1}var Se=v&&v.correlationHeaderExcludedDomains;if(!Se||Se[o0]===0)return!0;for(var R=0;R<Se[o0];R++){var Le=new RegExp(Se[R].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Le.test(z))return!1}return z&&z[o0]>0}s(v5,"correlationIdCanIncludeCorrelationHeader");function Nv(v){if(v){var E=K6(v,U6[1]);if(E&&E!==J1)return E}}s(Nv,"correlationIdGetCorrelationContext");function K6(v,E){if(v)for(var w=v[Of](","),R=0;R<w[o0];++R){var z=w[R][Of]("=");if(z[o0]===2&&z[0]===E)return z[1]}}s(K6,"correlationIdGetCorrelationContextValue");function W6(v,E,w,R){var z,ne=R,me=R;if(E&&E[o0]>0){var Se=Cn(E);if(z=Se.host,!ne)if(Se[h5]!=null){var Le=Se.pathname[o0]===0?"/":Se[h5];Le.charAt(0)!=="/"&&(Le="/"+Le),me=Se[h5],ne=bn(v,w?w+" "+Le:Le)}else ne=bn(v,E)}else z=R,ne=R;return{target:z,name:ne,data:me}}s(W6,"AjaxHelperParseDependencyPath");function Dv(){var v=Nd();if(v&&v.now&&v.timing){var E=v.now()+v.timing.navigationStart;if(E>0)return E}return na()}s(Dv,"dateTimeUtilsNow");function Kf(v,E){var w=null;return v!==0&&E!==0&&!be(v)&&!be(E)&&(w=E-v),w}s(Kf,"dateTimeUtilsDuration");function G6(v,E){var w=v||{};return{getName:function(){return w[Wi]},setName:function(R){E&&E.setName(R),w[Wi]=R},getTraceId:function(){return w.traceID},setTraceId:function(R){E&&E.setTraceId(R),o4(R)&&(w.traceID=R)},getSpanId:function(){return w.parentID},setSpanId:function(R){E&&E.setSpanId(R),a4(R)&&(w.parentID=R)},getTraceFlags:function(){return w.traceFlags},setTraceFlags:function(R){E&&E.setTraceFlags(R),w.traceFlags=R}}}s(G6,"createDistributedTraceContextFromTrace");var X1=ps({LocalStorage:0,SessionStorage:1}),Lv=ps({AI:0,AI_AND_W3C:1,W3C:2}),Bv=ps({Normal:1,Critical:2}),va=void 0,xa=void 0,E4="";function Q1(){return Gf()?Wf(X1.LocalStorage):null}s(Q1,"_getLocalStorageObject");function Wf(v){try{if(be(Un()))return null;var E=new Date()[vl](),w=lr(v===X1.LocalStorage?"localStorage":"sessionStorage"),R=E4+E;w.setItem(R,E);var z=w.getItem(R)!==E;if(w[c5](R),!z)return w}catch{}return null}s(Wf,"_getVerifiedStorageObject");function Z1(){return eu()?Wf(X1.SessionStorage):null}s(Z1,"_getSessionStorageObject");function x5(){va=!1,xa=!1}s(x5,"utlDisableStorage");function Y6(v){E4=v||""}s(Y6,"utlSetStoragePrefix");function Ot(){va=Gf(!0),xa=eu(!0)}s(Ot,"utlEnableStorage");function Gf(v){return(v||va===void 0)&&(va=!!Wf(X1.LocalStorage)),va}s(Gf,"utlCanUseLocalStorage");function _5(v,E){var w=Q1();if(w!==null)try{return w.getItem(E)}catch(R){va=!1,$n(v,2,1,"Browser failed read of local storage. "+x0(R),{exception:Y(R)})}return null}s(_5,"utlGetLocalStorage");function _a(v,E,w){var R=Q1();if(R!==null)try{return R.setItem(E,w),!0}catch(z){va=!1,$n(v,2,3,"Browser failed write to local storage. "+x0(z),{exception:Y(z)})}return!1}s(_a,"utlSetLocalStorage");function J6(v,E){var w=Q1();if(w!==null)try{return w[c5](E),!0}catch(R){va=!1,$n(v,2,5,"Browser failed removal of local storage item. "+x0(R),{exception:Y(R)})}return!1}s(J6,"utlRemoveStorage");function eu(v){return(v||xa===void 0)&&(xa=!!Wf(X1.SessionStorage)),xa}s(eu,"utlCanUseSessionStorage");function S4(){var v=[];return eu()&&W(lr("sessionStorage"),function(E){v[H1](E)}),v}s(S4,"utlGetSessionStorageKeys");function w4(v,E){var w=Z1();if(w!==null)try{return w.getItem(E)}catch(R){xa=!1,$n(v,2,2,"Browser failed read of session storage. "+x0(R),{exception:Y(R)})}return null}s(w4,"utlGetSessionStorage");function X6(v,E,w){var R=Z1();if(R!==null)try{return R.setItem(E,w),!0}catch(z){xa=!1,$n(v,2,4,"Browser failed write to session storage. "+x0(z),{exception:Y(z)})}return!1}s(X6,"utlSetSessionStorage");function I4(v,E){var w=Z1();if(w!==null)try{return w[c5](E),!0}catch(R){xa=!1,$n(v,2,6,"Browser failed removal of session storage item. "+x0(R),{exception:Y(R)})}return!1}s(I4,"utlRemoveSessionStorage");var Q6="appInsightsThrottle",b5=function(){function v(E,w){var R=this,z,ne,me,Se,Le,Ge,ht,a0=!1,i0=!1;At(),R._getDbgPlgTargets=function(){return[ht]},R.getConfig=function(){return me},R.canThrottle=function(st){var Nt=E5(st),l0=_0(st);return m0(l0,z,Nt)},R.isTriggered=function(st){return cm(st)},R.isReady=function(){return a0},R.flush=function(st){try{var Nt=z4(st);if(Nt&&Nt[o0]>0){var l0=Nt.slice(0);return ht[st]=[],fi(l0,function(hr){Zt(hr.msgID,hr[mi],hr.severity,!1)}),!0}}catch{}return!1},R.flushAll=function(){try{if(ht){var st=!0;return W(ht,function(Nt){var l0=R.flush(parseInt(Nt));st=st&&l0}),st}}catch{}return!1},R.onReadyState=function(st,Nt){return Nt===void 0&&(Nt=!0),a0=be(st)?!0:st,a0&&Nt?R.flushAll():null},R.sendMessage=function(st,Nt,l0){return Zt(st,Nt,l0,!0)};function Zt(st,Nt,l0,hr){if(a0){var Kr=fm(st);if(!Kr)return;var Mr=_0(st),Ur=E5(st),wl=m0(Mr,z,Ur),Oo=!1,Fo=0,wa=cm(st);try{wl&&!wa?(Fo=Math.min(Mr.limit.maxSendNumber,Ur[xl]+1),Ur[xl]=0,Oo=!0,Le[st]=!0,Ur[u5]=new Date):(Le[st]=wl,Ur[xl]+=1);var ec=e0(st);lm(ne,ec,Ur);for(var nu=0;nu<Fo;nu++)V4(st,ne,Nt,l0)}catch{}return{isThrottled:Oo,throttleNum:Fo}}else if(hr){var D0=z4(st);D0[H1]({msgID:st,message:Nt,severity:l0})}return null}s(Zt,"_flushMessage");function At(){ne=gl(E),Le={},Se={},ht={},me={},zt(109),Ge=Yd(w)?w:"",E.addUnloadHook(s5(E.config,function(st){var Nt=st.cfg;z=Gf();var l0=Nt.throttleMgrCfg||{};W(l0,function(hr,Kr){zt(parseInt(hr),Kr)})}))}s(At,"_initConfig");function _0(st){return me[st]||me[109]}s(_0,"_getCfgByKey");function zt(st,Nt){var l0,hr;try{var Kr=Nt||{},Mr={};Mr[d5]=!!Kr[d5];var Ur=Kr[_l]||{};i0=(Ur==null?void 0:Ur.daysOfMonth)&&(Ur==null?void 0:Ur.daysOfMonth[o0])>0,Mr[_l]=F0(Ur);var wl={samplingRate:((l0=Kr.limit)===null||l0===void 0?void 0:l0.samplingRate)||100,maxSendNumber:((hr=Kr.limit)===null||hr===void 0?void 0:hr.maxSendNumber)||1};Mr.limit=wl,me[st]=Mr}catch{}}s(zt,"_setCfgByKey");function F0(st){st=st||{};var Nt=st==null?void 0:st.monthInterval,l0=st==null?void 0:st.dayInterval;return be(Nt)&&be(l0)&&(st.monthInterval=3,i0||(st[Mf]=[28],i0=!0)),st={monthInterval:st==null?void 0:st.monthInterval,dayInterval:st==null?void 0:st.dayInterval,daysOfMonth:st==null?void 0:st.daysOfMonth},st}s(F0,"_getIntervalConfig");function m0(st,Nt,l0){if(st&&!st[d5]&&Nt&&Yd(l0)){var hr=Sa(),Kr=l0[y4],Mr=st[_l],Ur=1;if(Mr!=null&&Mr.monthInterval){var wl=(hr.getUTCFullYear()-Kr.getUTCFullYear())*12+hr.getUTCMonth()-Kr.getUTCMonth();Ur=H4(Mr.monthInterval,0,wl)}var Oo=1;if(i0)Oo=ra(Mr[Mf],hr[v4]());else if(Mr!=null&&Mr.dayInterval){var Fo=Math.floor((hr.getTime()-Kr.getTime())/864e5);Oo=H4(Mr.dayInterval,0,Fo)}return Ur>=0&&Oo>=0}return!1}s(m0,"_canThrottle");function e0(st,Nt){var l0=Yd(Nt)?Nt:"";return st?Q6+l0+"-"+st:null}s(e0,"_getLocalStorageName");function Sr(st){try{if(st){var Nt=new Date;return st.getUTCFullYear()===Nt.getUTCFullYear()&&st.getUTCMonth()===Nt.getUTCMonth()&&st[v4]()===Nt[v4]()}}catch{}return!1}s(Sr,"_isTriggeredOnCurDate");function Zf(st,Nt,l0){try{var hr={date:Sa(),count:0};if(st){var Kr=JSON.parse(st),Mr={date:Sa(Kr[y4])||hr[y4],count:Kr[xl]||hr[xl],preTriggerDate:Kr.preTriggerDate?Sa(Kr[u5]):void 0};return Mr}else return lm(Nt,l0,hr),hr}catch{}return null}s(Zf,"_getLocalStorageObj");function Sa(st){try{if(st){var Nt=new Date(st);if(!isNaN(Nt.getDate()))return Nt}else return new Date}catch{}return null}s(Sa,"_getThrottleDate");function lm(st,Nt,l0){try{return _a(st,Nt,gs(JSON[V1](l0)))}catch{}return!1}s(lm,"_resetLocalStorage");function H4(st,Nt,l0){return st<=0?1:l0>=Nt&&(l0-Nt)%st==0?Math.floor((l0-Nt)/st)+1:-1}s(H4,"_checkInterval");function V4(st,Nt,l0,hr){$n(Nt,hr||1,st,l0)}s(V4,"_sendMessage");function fm(st){try{var Nt=_0(st);return E6(1e6)<=Nt.limit.samplingRate}catch{}return!1}s(fm,"_canSampledIn");function E5(st){try{var Nt=Se[st];if(!Nt){var l0=e0(st,Ge);Nt=Zf(_5(ne,l0),ne,l0),Se[st]=Nt}return Se[st]}catch{}return null}s(E5,"_getLocalStorageObjByKey");function cm(st){var Nt=Le[st];if(be(Nt)){Nt=!1;var l0=E5(st);l0&&(Nt=Sr(l0[u5])),Le[st]=Nt}return Le[st]}s(cm,"_isTrigger");function z4(st){return ht=ht||{},be(ht[st])&&(ht[st]=[]),ht[st]}s(z4,"_getQueueByKey")}return s(v,"ThrottleMgr"),v}(),A4=";",Z6="=";function Ts(v){if(!v)return{};var E=v[Of](A4),w=k2(E,function(z,ne){var me=ne[Of](Z6);if(me[o0]===2){var Se=me[0][Ff](),Le=me[1];z[Se]=Le}return z},{});if(Lt(w)[o0]>0){if(w.endpointsuffix){var R=w.location?w.location+".":"";w[Ks]=w[Ks]||"https://"+R+"dc."+w.endpointsuffix}w[Ks]=w[Ks]||p4,hv(w[Ks],"/")&&(w[Ks]=w[Ks].slice(0,-1))}return w}s(Ts,"parseConnectionString");var em={parse:Ts},tm=function(){function v(E,w,R){var z=this,ne=this;ne.ver=1,ne.sampleRate=100,ne.tags={},ne[Wi]=bn(E,R)||Pi,ne.data=w,ne.time=S1(new Date),ne.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return z.sampleRate===100?4:1},tags:1,data:1}}return s(v,"Envelope"),v}(),Ov=function(){function v(E,w,R,z){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var ne=this;ne.ver=2,ne[Wi]=bn(E,w)||Pi,ne[bs]=Gs(E,R),ne[No]=Cs(E,z)}return s(v,"Event"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Event",v.dataType="EventData",v}(),P4="<no_method>",Do="error",zn="stack",R4="stackDetails",k4="errorSrc",N4="message",D4="description";function C5(v,E){var w=v;return w&&!ce(w)&&(JSON&&JSON[V1]?(w=JSON[V1](v),E&&(!w||w==="{}")&&(ve(v[vl])?w=v[vl]():w=""+v)):w=""+v+" - (Missing JSON.stringify)"),w||""}s(C5,"_stringify");function L4(v,E){var w=v;return v&&(w&&!ce(w)&&(w=v[N4]||v[D4]||w),w&&!ce(w)&&(w=C5(w,!0)),v.filename&&(w=w+" @"+(v.filename||"")+":"+(v.lineno||"?")+":"+(v.colno||"?"))),E&&E!=="String"&&E!=="Object"&&E!=="Error"&&s1(w||"",E)===-1&&(w=E+": "+w),w||""}s(L4,"_formatMessage");function rm(v){try{if(le(v))return"hasFullStack"in v&&"typeName"in v}catch{}return!1}s(rm,"_isExceptionDetailsInternal");function Fv(v){try{if(le(v))return"ver"in v&&"exceptions"in v&&"properties"in v}catch{}return!1}s(Fv,"_isExceptionInternal");function B4(v){return v&&v.src&&ce(v.src)&&v.obj&&Ee(v.obj)}s(B4,"_isStackDetails");function Tl(v){var E=v||"";ce(E)||(ce(E[zn])?E=E[zn]:E=""+E);var w=E[Of](`
`);return{src:E,obj:w}}s(Tl,"_convertStackObj");function Mv(v){for(var E=[],w=v[Of](`
`),R=0;R<w[o0];R++){var z=w[R];w[R+1]&&(z+="@"+w[R+1],R++),E[H1](z)}return{src:v,obj:E}}s(Mv,"_getOperaStack");function Yf(v){var E=null;if(v)try{if(v[zn])E=Tl(v[zn]);else if(v[Do]&&v[Do][zn])E=Tl(v[Do][zn]);else if(v.exception&&v.exception[zn])E=Tl(v.exception[zn]);else if(B4(v))E=v;else if(B4(v[R4]))E=v[R4];else if(rr()&&rr().opera&&v[N4])E=Mv(v[mi]);else if(v.reason&&v.reason[zn])E=Tl(v.reason[zn]);else if(ce(v))E=Tl(v);else{var w=v[N4]||v[D4]||"";ce(v[k4])&&(w&&(w+=`
`),w+=" from "+v[k4]),w&&(E=Tl(w))}}catch(R){E=Tl(R)}return E||{src:"",obj:null}}s(Yf,"_getStackFromErrorObj");function Uv(v){var E="";return v&&(v.obj?fi(v.obj,function(w){E+=w+`
`}):E=v.src||""),E}s(Uv,"_formatStackTrace");function Jf(v){var E,w=v.obj;if(w&&w[o0]>0){E=[];var R=0,z=0;fi(w,function(At){var _0=At[vl]();if(O4.regex.test(_0)){var zt=new O4(_0,R++);z+=zt[Gi],E[H1](zt)}});var ne=32*1024;if(z>ne)for(var me=0,Se=E[o0]-1,Le=0,Ge=me,ht=Se;me<Se;){var a0=E[me][Gi],i0=E[Se][Gi];if(Le+=a0+i0,Le>ne){var Zt=ht-Ge+1;E.splice(Ge,Zt);break}Ge=me,ht=Se,me++,Se--}}return E}s(Jf,"_parseStack");function Xf(v){var E="";if(v&&(E=v.typeName||v[Wi]||"",!E))try{var w=/function (.{1,200})\(/,R=w.exec(v.constructor[vl]());E=R&&R[o0]>1?R[1]:""}catch{}return E}s(Xf,"_getErrorType");function El(v){if(v)try{if(!ce(v)){var E=Xf(v),w=C5(v,!1);return(!w||w==="{}")&&(v[Do]&&(v=v[Do],E=Xf(v)),w=C5(v,!0)),s1(w,E)!==0&&E!=="String"?E+":"+w:w}}catch{}return""+(v||"")}s(El,"_formatErrorCode");var qv=function(){function v(E,w,R,z,ne,me){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Se=this;Se.ver=2,Fv(w)?(Se[Uf]=w[Uf]||[],Se[bs]=w[bs],Se[No]=w[No],w[pa]&&(Se[pa]=w[pa]),w.id&&(Se.id=w.id,w[bs].id=w.id),w[m5]&&(Se[m5]=w[m5]),be(w[K1])||(Se[K1]=w[K1])):(R||(R={}),me&&(R.id=me),Se[Uf]=[new tu(E,w,R)],Se[bs]=Gs(E,R),Se[No]=Cs(E,z),ne&&(Se[pa]=ne),me&&(Se.id=me))}return s(v,"Exception"),v.CreateAutoException=function(E,w,R,z,ne,me,Se,Le){var Ge,ht=Xf(ne||me||E);return Ge={},Ge[mi]=L4(E,ht),Ge.url=w,Ge.lineNumber=R,Ge.columnNumber=z,Ge.error=El(ne||me||E),Ge.evt=El(me||E),Ge[Ws]=ht,Ge.stackDetails=Yf(Se||ne||me),Ge.errorSrc=Le,Ge},v.CreateFromInterface=function(E,w,R,z){var ne=w[Uf]&&il(w[Uf],function(Se){return tu[g5](E,Se)}),me=new v(E,al(al({},w),{exceptions:ne}),R,z);return me},v.prototype.toInterface=function(){var E,w=this,R=w.exceptions,z=w.properties,ne=w.measurements,me=w.severityLevel,Se=w.problemGroup,Le=w.id,Ge=w.isManual,ht=R instanceof Array&&il(R,function(a0){return a0.toInterface()})||void 0;return E={ver:"4.0"},E[Uf]=ht,E.severityLevel=me,E.properties=z,E.measurements=ne,E.problemGroup=Se,E.id=Le,E.isManual=Ge,E},v.CreateSimpleException=function(E,w,R,z,ne,me){var Se;return{exceptions:[(Se={},Se[p5]=!0,Se.message=E,Se.stack=ne,Se.typeName=w,Se)]}},v.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",v.dataType="ExceptionData",v.formatError=El,v}(),tu=function(){function v(E,w,R){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var z=this;if(rm(w))z[Ws]=w[Ws],z[mi]=w[mi],z[zn]=w[zn],z[_s]=w[_s]||[],z[p5]=w[p5];else{var ne=w,me=ne&&ne.evt;mt(ne)||(ne=ne[Do]||me||ne),z[Ws]=bn(E,Xf(ne))||Pi,z[mi]=b4(E,L4(w||ne,z[Ws]))||Pi;var Se=w[R4]||Yf(w);z[_s]=Jf(Se),Ee(z[_s])&&il(z[_s],function(Le){Le[Ri]=bn(E,Le[Ri]),Le[ya]=bn(E,Le[ya])}),z[zn]=Y1(E,Uv(Se)),z.hasFullStack=Ee(z.parsedStack)&&z.parsedStack[o0]>0,R&&(R[Ws]=R[Ws]||z[Ws])}}return s(v,"_ExceptionDetails"),v.prototype.toInterface=function(){var E,w=this,R=w[_s]instanceof Array&&il(w[_s],function(ne){return ne.toInterface()}),z=(E={id:w.id,outerId:w.outerId,typeName:w[Ws],message:w[mi],hasFullStack:w[p5],stack:w[zn]},E[_s]=R||void 0,E);return z},v.CreateFromInterface=function(E,w){var R=w[_s]instanceof Array&&il(w[_s],function(ne){return O4[g5](ne)})||w[_s],z=new v(E,al(al({},w),{parsedStack:R}));return z},v}(),O4=function(){function v(E,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var R=this;if(R[Gi]=0,typeof E=="string"){var z=E;R[W1]=w,R[qf]=P4,R[Ri]=gs(z),R[ya]="",R[G1]=0;var ne=z.match(v.regex);ne&&ne[o0]>=5&&(R[qf]=gs(ne[2])||R[qf],R[ya]=gs(ne[4]),R[G1]=parseInt(ne[5])||0)}else R[W1]=E[W1],R[qf]=E[qf],R[Ri]=E[Ri],R[ya]=E[ya],R[G1]=E[G1],R[Gi]=0;R.sizeInBytes+=R.method[o0],R.sizeInBytes+=R.fileName[o0],R.sizeInBytes+=R.assembly[o0],R[Gi]+=v.baseSize,R.sizeInBytes+=R.level.toString()[o0],R.sizeInBytes+=R.line.toString()[o0]}return s(v,"_StackFrame"),v.CreateFromInterface=function(E){return new v(E,null)},v.prototype.toInterface=function(){var E=this;return{level:E[W1],method:E[qf],assembly:E[Ri],fileName:E[ya],line:E[G1]}},v.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,v.baseSize=58,v}(),F4=function(){function v(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(v,"DataPoint"),v}(),nm=function(){function v(E,w,R,z,ne,me,Se,Le,Ge){this.aiDataContract={ver:1,metrics:1,properties:0};var ht=this;ht.ver=2;var a0=new F4;a0[xl]=z>0?z:void 0,a0.max=isNaN(me)||me===null?void 0:me,a0.min=isNaN(ne)||ne===null?void 0:ne,a0[Wi]=bn(E,w)||Pi,a0.value=R,a0.stdDev=isNaN(Se)||Se===null?void 0:Se,ht.metrics=[a0],ht[bs]=Gs(E,Le),ht[No]=Cs(E,Ge)}return s(v,"Metric"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",v.dataType="MetricData",v}(),ru="";function jv(v,E){return E===void 0&&(E=!1),v==null?E:v.toString()[Ff]()==="true"}s(jv,"stringToBoolOrDefault");function M4(v){(isNaN(v)||v<0)&&(v=0),v=Math.round(v);var E=ru+v%1e3,w=ru+Math.floor(v/1e3)%60,R=ru+Math.floor(v/(1e3*60))%60,z=ru+Math.floor(v/(1e3*60*60))%24,ne=Math.floor(v/(1e3*60*60*24));return E=E[o0]===1?"00"+E:E[o0]===2?"0"+E:E,w=w[o0]<2?"0"+w:w,R=R[o0]<2?"0"+R:R,z=z[o0]<2?"0"+z:z,(ne>0?ne+".":ru)+z+":"+R+":"+w+"."+E}s(M4,"msToTimeSpan");function im(v,E){var w=null;return fi(v,function(R){if(R.identifier===E)return w=R,-1}),w}s(im,"getExtensionByName");function $v(v,E,w,R,z){return!z&&ce(v)&&(v==="Script error."||v==="Script error")}s($v,"isCrossOriginError");var Hv=function(){function v(E,w,R,z,ne,me,Se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Le=this;Le.ver=2,Le.id=Hf(E,Se),Le.url=bl(E,R),Le[Wi]=bn(E,w)||Pi,isNaN(z)||(Le[jf]=M4(z)),Le[bs]=Gs(E,ne),Le[No]=Cs(E,me)}return s(v,"PageView"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",v.dataType="PageviewData",v}(),Vv=function(){function v(E,w,R,z,ne,me,Se,Le,Ge,ht,a0,i0){Ge===void 0&&(Ge="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Zt=this;Zt.ver=2,Zt.id=w,Zt[jf]=M4(ne),Zt.success=me,Zt.resultCode=Se+"",Zt.type=bn(E,Ge);var At=W6(E,R,Le,z);Zt.data=bl(E,z)||At.data,Zt.target=bn(E,At.target),ht&&(Zt.target="".concat(Zt.target," | ").concat(ht)),Zt[Wi]=bn(E,At[Wi]),Zt[bs]=Gs(E,a0),Zt[No]=Cs(E,i0)}return s(v,"RemoteDependencyData"),v.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",v.dataType="RemoteDependencyData",v}(),Sl=function(){function v(E,w,R,z,ne){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var me=this;me.ver=2,w=w||Pi,me[mi]=b4(E,w),me[bs]=Gs(E,z),me[No]=Cs(E,ne),R&&(me[pa]=R)}return s(v,"Trace"),v.envelopeType="Microsoft.ApplicationInsights.{0}.Message",v.dataType="MessageData",v}(),sm=function(){function v(E,w,R,z,ne,me,Se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Le=this;Le.ver=2,Le.url=bl(E,R),Le[Wi]=bn(E,w)||Pi,Le[bs]=Gs(E,ne),Le[No]=Cs(E,me),Se&&(Le.domProcessing=Se.domProcessing,Le[jf]=Se[jf],Le.networkConnect=Se.networkConnect,Le.perfTotal=Se.perfTotal,Le[x4]=Se[x4],Le.sentRequest=Se.sentRequest)}return s(v,"PageViewPerformance"),v.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",v.dataType="PageviewPerformanceData",v}(),U4=function(){function v(E,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=E,this.baseData=w}return s(v,"Data"),v}(),zv=ps({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Kv=function(){function v(){}return s(v,"ConfigurationManager"),v.getConfig=function(E,w,R,z){z===void 0&&(z=!1);var ne;return R&&E[z1]&&E[z1][R]&&!be(E[z1][R][w])?ne=E[z1][R][w]:ne=E[w],be(ne)?z:ne},v}();function Lo(v){var E="ai."+v+".";return function(w){return E+w}}s(Lo,"_aiNameFunc");var Qf=Lo("application"),Fr=Lo("device"),T5=Lo("location"),ba=Lo("operation"),Ca=Lo("session"),Es=Lo("user"),Bo=Lo("cloud"),Ss=Lo("internal"),om=function(v){V2(E,v);function E(){return v.call(this)||this}return s(E,"ContextTagKeys"),E}(Jd({applicationVersion:Qf("ver"),applicationBuild:Qf("build"),applicationTypeId:Qf("typeId"),applicationId:Qf("applicationId"),applicationLayer:Qf("layer"),deviceId:Fr("id"),deviceIp:Fr("ip"),deviceLanguage:Fr("language"),deviceLocale:Fr("locale"),deviceModel:Fr("model"),deviceFriendlyName:Fr("friendlyName"),deviceNetwork:Fr("network"),deviceNetworkName:Fr("networkName"),deviceOEMName:Fr("oemName"),deviceOS:Fr("os"),deviceOSVersion:Fr("osVersion"),deviceRoleInstance:Fr("roleInstance"),deviceRoleName:Fr("roleName"),deviceScreenResolution:Fr("screenResolution"),deviceType:Fr("type"),deviceMachineName:Fr("machineName"),deviceVMName:Fr("vmName"),deviceBrowser:Fr("browser"),deviceBrowserVersion:Fr("browserVersion"),locationIp:T5("ip"),locationCountry:T5("country"),locationProvince:T5("province"),locationCity:T5("city"),operationId:ba("id"),operationName:ba("name"),operationParentId:ba("parentId"),operationRootId:ba("rootId"),operationSyntheticSource:ba("syntheticSource"),operationCorrelationVector:ba("correlationVector"),sessionId:Ca("id"),sessionIsFirst:Ca("isFirst"),sessionIsNew:Ca("isNew"),userAccountAcquisitionDate:Es("accountAcquisitionDate"),userAccountId:Es("accountId"),userAgent:Es("userAgent"),userId:Es("id"),userStoreRegion:Es("storeRegion"),userAuthUserId:Es("authUserId"),userAnonymousUserAcquisitionDate:Es("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Es("authUserAcquisitionDate"),cloudName:Bo("name"),cloudRole:Bo("role"),cloudRoleVer:Bo("roleVer"),cloudRoleInstance:Bo("roleInstance"),cloudEnvironment:Bo("environment"),cloudLocation:Bo("location"),cloudDeploymentUnit:Bo("deploymentUnit"),internalNodeName:Ss("nodeName"),internalSdkVersion:Ss("sdkVersion"),internalAgentVersion:Ss("agentVersion"),internalSnippet:Ss("snippet"),internalSdkSrc:Ss("sdkSrc")}));function q4(v,E,w,R,z,ne){var me;w=bn(R,w)||Pi,(be(v)||be(E)||be(w))&&he("Input doesn't contain all required fields");var Se="";v[zs]&&(Se=v[zs],delete v[zs]);var Le=(me={},me[Wi]=w,me.time=S1(new Date),me.iKey=Se,me.ext=ne||{},me.tags=[],me.data={},me.baseType=E,me.baseData=v,me);return be(z)||W(z,function(Ge,ht){Le.data[Ge]=ht}),Le}s(q4,"createTelemetryItem");var am=function(){function v(){}return s(v,"TelemetryItemCreator"),v.create=q4,v}(),j4={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ta=new om;function Wv(v){var E=null;if(ve(Event))E=new Event(v);else{var w=li();w&&w.createEvent&&(E=w.createEvent("Event"),E.initEvent(v,!0,!0))}return E}s(Wv,"createDomEvent");function $4(v,E){m4(v,null,null,E)}s($4,"_disableEvents");function Gv(v){var E=li(),w=qn(),R=!1,z=[],ne=1;w&&!be(w.onLine)&&!w.onLine&&(ne=2);var me=0,Se=i0(),Le=F6(hi("OfflineListener"),v);try{if(ht(rr())&&(R=!0),E){var Ge=E.body||E;Ge.ononline&&ht(Ge)&&(R=!0)}}catch{R=!1}function ht(e0){var Sr=!1;return e0&&(Sr=l5(e0,"online",_0,Le),Sr&&l5(e0,"offline",zt,Le)),Sr}s(ht,"_enableEvents");function a0(){return Se}s(a0,"_isOnline");function i0(){return!(me===2||ne===2)}s(i0,"calCurrentState");function Zt(){var e0=i0();Se!==e0&&(Se=e0,fi(z,function(Sr){var Zf={isOnline:Se,rState:ne,uState:me};try{Sr(Zf)}catch{}}))}s(Zt,"listnerNoticeCheck");function At(e0){me=e0,Zt()}s(At,"setOnlineState");function _0(){ne=1,Zt()}s(_0,"_setOnline");function zt(){ne=2,Zt()}s(zt,"_setOffline");function F0(){var e0=rr();if(e0&&R){if($4(e0,Le),E){var Sr=E.body||E;Ae(Sr.ononline)||$4(Sr,Le)}R=!1}}s(F0,"_unload");function m0(e0){return z[H1](e0),{rm:function(){var Sr=z.indexOf(e0);if(Sr>-1)return z.splice(Sr,1)}}}return s(m0,"addListener"),{isOnline:a0,isListening:function(){return R},unload:F0,addListener:m0,setOnlineState:At}}s(Gv,"createOfflineListener");var Yv="AppInsightsPropertiesPlugin",Jv="AppInsightsChannelPlugin",Ea="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=Ea,e.BreezeChannelIdentifier=Jv,e.ConfigurationManager=Kv,e.ConnectionStringParser=em,e.ContextTagKeys=om,e.CtxTagKeys=Ta,e.DEFAULT_BREEZE_ENDPOINT=p4,e.DEFAULT_BREEZE_PATH=f5,e.Data=U4,e.DisabledPropertyName=Pv,e.DistributedTracingModes=Lv,e.Envelope=tm,e.Event=Ov,e.EventPersistence=Bv,e.Exception=qv,e.Extensions=j4,e.HttpMethod=M6,e.Metric=nm,e.PageView=Hv,e.PageViewPerformance=sm,e.ProcessLegacy=g4,e.PropertiesPluginIdentifier=Yv,e.RemoteDependencyData=Vv,e.RequestHeaders=U6,e.SampleRate=Bf,e.SeverityLevel=zv,e.TelemetryItemCreator=am,e.ThrottleMgr=b5,e.Trace=Sl,e.correlationIdCanIncludeCorrelationHeader=v5,e.correlationIdGetCorrelationContext=Nv,e.correlationIdGetCorrelationContextValue=K6,e.correlationIdGetPrefix=y5,e.correlationIdSetPrefix=T4,e.createDistributedTraceContextFromTrace=G6,e.createDomEvent=Wv,e.createOfflineListener=Gv,e.createTelemetryItem=q4,e.createTraceParent=i4,e.dataSanitizeException=Y1,e.dataSanitizeId=Hf,e.dataSanitizeInput=Cl,e.dataSanitizeKey=$f,e.dataSanitizeKeyAndAddUniqueness=_4,e.dataSanitizeMeasurements=Cs,e.dataSanitizeMessage=b4,e.dataSanitizeProperties=Gs,e.dataSanitizeString=bn,e.dataSanitizeUrl=bl,e.dateTimeUtilsDuration=Kf,e.dateTimeUtilsNow=Dv,e.dsPadNumber=j6,e.findW3cTraceParent=_n,e.formatTraceParent=f4,e.getExtensionByName=im,e.isBeaconApiSupported=C6,e.isCrossOriginError=$v,e.isInternalApplicationInsightsEndpoint=Ys,e.isSampledFlag=l4,e.isValidSpanId=a4,e.isValidTraceId=o4,e.isValidTraceParent=k6,e.msToTimeSpan=M4,e.parseConnectionString=Ts,e.parseTraceParent=s4,e.strNotSpecified=Pi,e.stringToBoolOrDefault=jv,e.urlGetAbsoluteUrl=Vf,e.urlGetCompleteUrl=V6,e.urlGetPathName=zf,e.urlParseFullHost=C4,e.urlParseHost=z6,e.urlParseUrl=Cn,e.utlCanUseLocalStorage=Gf,e.utlCanUseSessionStorage=eu,e.utlDisableStorage=x5,e.utlEnableStorage=Ot,e.utlGetLocalStorage=_5,e.utlGetSessionStorage=w4,e.utlGetSessionStorageKeys=S4,e.utlRemoveSessionStorage=I4,e.utlRemoveStorage=J6,e.utlSetLocalStorage=_a,e.utlSetSessionStorage=X6,e.utlSetStoragePrefix=Y6})});var tj=ae((ap,ej)=>{(function(e,t){typeof ap=="object"&&typeof ej<"u"?t(ap):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(ap,function(e){"use strict";var t=void 0,r=null,n="",i="boolean",o="function",a="number",l="object",f="prototype",c="__proto__",u="string",d="undefined",g="constructor",p="Symbol",y="_polyfill",_="indexOf",S="length",T="done",I="value",P="name",U="slice",k="call",L="toString",Q=Object,te=Q[f],Ce=String,De=Ce[f],pe=Math,Ie=Array,ie=Ie[f];function Z(h,m){try{return{v:h.apply(this,m)}}catch(x){return{e:x}}}s(Z,"safe");function _e(h,m){var x=Z(h);return x.e?m:x.v}s(_e,"safeGet");var Ae=[u,a,i,d,"symbol","bigint"];function be(h){return function(m){return typeof m===h}}s(be,"_createIs");function ze(h){var m="[object "+h+"]";return function(x){return!!(x&&ce(x)===m)}}s(ze,"_createObjIs");function ce(h){return te.toString.call(h)}s(ce,"objToString");function ve(h){return typeof h===d||h===d}s(ve,"isUndefined");function le(h){return h===r||ve(h)}s(le,"isNullOrUndefined");function Ee(h){return h===r||!mt(h)}s(Ee,"isStrictNullOrUndefined");function mt(h){return!!h||h!==t}s(mt,"isDefined");function Et(h){return h!==l&&Ae.indexOf(h)!==-1}s(Et,"isPrimitiveType");var dt=be(u),Ve=be(o);function n0(h){return!h&&le(h)?!1:!!h&&typeof h===l}s(n0,"isObject");var W=Ie.isArray,Xe=ze("Date"),he=be(a),Je=be(i),He=ze("Error");function nt(h){return!!(h&&h.then&&Ve(h.then))}s(nt,"isPromiseLike");function wt(h){return!(!h||_e(function(){return!(h&&0+h)},!h))}s(wt,"isTruthy");var Mt=Q.getOwnPropertyDescriptor;function Lt(h,m){return!!h&&te.hasOwnProperty[k](h,m)}s(Lt,"objHasOwnProperty");var H=Q.hasOwn||$t;function $t(h,m){return Lt(h,m)||!!Mt(h,m)}s($t,"polyObjHasOwn");function vt(h,m,x){if(h&&n0(h)){for(var b in h)if(H(h,b)&&m[k](x||h,b,h[b])===-1)break}}s(vt,"objForEachKey");function sr(h,m,x,b){var A={};return vt(h,function(D,F){A[D]=m?F:D,A[F]=x?F:D}),b(A)}s(sr,"_createKeyValueMap");function J0(h){throw new Error(h)}s(J0,"throwError");function pr(h){throw new TypeError(h)}s(pr,"throwTypeError");var X0=Q.freeze;function Gr(h){return h}s(Gr,"_doNothing");function hn(h){return h[c]||r}s(hn,"_getProto");var Fn=Q.assign,mn=Q.keys;function Jt(h){return X0&&vt(h,function(m,x){(W(x)||n0(x))&&X0(x)}),Y(h)}s(Jt,"objDeepFreeze");var Y=X0||Gr,N=Q.getPrototypeOf||hn;function B(h){return sr(h,1,0,Jt)}s(B,"createEnum");function Ye(h){return sr(h,0,0,Jt)}s(Ye,"createEnumKeyMap");function Vt(h){var m={};return vt(h,function(x,b){m[x]=b[1],m[b[0]]=b[1]}),Jt(m)}s(Vt,"createSimpleMap");function E0(h){return Vt(h)}s(E0,"createTypeMap");var w0=Ye({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Wt=Ce,W0="__tsUtils$gblCfg",u0;function er(){var h;return typeof globalThis!==d&&(h=globalThis),!h&&typeof self!==d&&(h=self),!h&&typeof window!==d&&(h=window),!h&&typeof global!==d&&(h=global),h}s(er,"_getGlobalValue");function S0(){if(!u0){var h=Z(er).v||{};u0=h[W0]=h[W0]||{}}return u0}s(S0,"_getGlobalConfig");var Q0="[object Error]";function kt(h,m){var x=n,b=te[L][k](h);b===Q0&&(h={stack:Wt(h.stack),message:Wt(h.message),name:Wt(h.name)});try{x=JSON.stringify(h,r,m?typeof m===a?m:4:t),x=x&&x.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||Wt(h)}catch(A){x=" - "+kt(A,m)}return b+": "+x}s(kt,"dumpObj");var hs,tl=Ms,Mn=Ms;function Ms(h,m,x){hs=hs||ie[U];var b=m&&m[h];return function(A){var D=A&&A[h]||b;if(D||x){var F=arguments;return(D||x).apply(A,D?hs[k](F,1):F)}pr('"'+Wt(h)+'" not defined for '+kt(A))}}s(Ms,"_unwrapFunctionWithPoly");function ji(h){return function(m){return m[h]}}s(ji,"_unwrapProp");var Co=pe.max,ye=Mn(U,De),M=Mn("substring",De),se=Ms("substr",De,fe);function fe(h,m,x){return le(h)&&pr("'polyStrSubstr called with invalid "+kt(h)),x<0?n:(m=m||0,m<0&&(m=Co(m+h[S],0)),ve(x)?ye(h,m):ye(h,m,m+x))}s(fe,"polyStrSubstr");function K(h,m){return M(h,0,m)}s(K,"strLeft");var O="_urid",Te;function je(){if(!Te){var h=S0();Te=h.gblSym=h.gblSym||{k:{},s:{}}}return Te}s(je,"_globalSymbolRegistry");var Ht;function or(h){var m={description:Wt(h),toString:function(){return p+"("+h+")"}};return m[y]=!0,m}s(or,"polyNewSymbol");function tr(h){var m=je();if(!H(m.k,h)){var x=or(h),b=mn(m.s).length;x[O]=function(){return b+"_"+x[L]()},m.k[h]=x,m.s[x[O]()]=Wt(h)}return m.k[h]}s(tr,"polySymbolFor");function Un(h){!Ht&&(Ht={});var m,x=w0[h];return x&&(m=Ht[x]=Ht[x]||or(p+"."+x)),m}s(Un,"polyGetKnownSymbol");var lr={e:"enumerable",c:"configurable",v:I,w:"writable",g:"get",s:"set"};function li(h){var m={};if(m[lr.c]=!0,m[lr.e]=!0,h.l){m.get=function(){return h.l.v};var x=Mt(h.l,"v");x&&x.set&&(m.set=function(b){h.l.v=b})}return vt(h,function(b,A){m[lr[b]]=ve(A)?m[lr[b]]:A}),m}s(li,"_createProp");var s0=Q.defineProperty;function rr(h,m,x){return s0(h,m,li(x))}s(rr,"objDefine");var dr;function qn(){dr=S0()}s(qn,"_initTestHooks");function Ai(h){var m={};return!dr&&qn(),m.b=dr.lzy,s0(m,"v",{configurable:!0,get:function(){var x=h();return dr.lzy||s0(m,"v",{value:x}),m.b=dr.lzy,x}}),m}s(Ai,"getLazy");function kd(h,m){return Ai(function(){var x=Z(h);return x.e?m:x.v})}s(kd,"safeGetLazy");function rl(h){return s0({toJSON:function(){return h}},"v",{value:h})}s(rl,"createCachedValue");var uf="window",nl,To,fi,ra,il;function k2(h){return Ai(function(){return Z(Yr,[h]).v||t})}s(k2,"lazySafeGetInst");function ms(h){return!dr&&qn(),(!nl||h===!1||dr.lzy)&&(nl=rl(Z(er).v||r)),nl.v}s(ms,"getGlobal");function Yr(h,m){var x=!nl||m===!1?ms(m):nl.v;return x&&x[h]?x[h]:h===uf&&To?To.v:r}s(Yr,"getInst");function N2(){return!!sl()}s(N2,"hasDocument");function sl(){return!dr&&qn(),(!fi||dr.lzy)&&(fi=rl(Z(Yr,["document"]).v)),fi.v}s(sl,"getDocument");function cv(){return!!Eo()}s(cv,"hasWindow");function Eo(){return!dr&&qn(),(!To||dr.lzy)&&(To=rl(Z(Yr,[uf]).v)),To.v}s(Eo,"getWindow");function uv(){return!!na()}s(uv,"hasNavigator");function na(){return!dr&&qn(),(!ra||dr.lzy)&&(ra=rl(Z(Yr,["navigator"]).v)),ra.v}s(na,"getNavigator");function dv(){return!il&&(il=rl(!!Z(function(){return process&&(process.versions||{}).node}).v)),il.v}s(dv,"isNode");var ci,D2;function gs(){(!ci||!ci.b)&&(ci=k2(p),D2=kd(function(){return ci.v?ci.v.for:t},t))}s(gs,"_initSymbol");function L2(){return!!B2()}s(L2,"hasSymbol");function B2(){return!dr&&qn(),(!ci||dr.lzy)&&gs(),ci.v}s(B2,"getSymbol");function i1(h,m){var x=w0[h];return!dr&&qn(),(!ci||dr.lzy)&&gs(),ci.v?ci.v[x||h]:m?t:Un(h)}s(i1,"getKnownSymbol");function Us(h,m){return!dr&&qn(),(!ci||dr.lzy)&&gs(),ci.v?ci.v(h):m?r:or(h)}s(Us,"newSymbol");function df(h){return!dr&&qn(),(!D2||!ci||dr.lzy)&&gs(),(D2.v||tr)(h)}s(df,"symbolFor");function Nd(h){return!!h&&Ve(h.next)}s(Nd,"isIterator");function hv(h){return!Ee(h)&&Ve(h[i1(3)])}s(hv,"isIterable");var Dd;function s1(h,m,x){if(h&&(Nd(h)||(!Dd&&(Dd=rl(i1(3))),h=h[Dd.v]?h[Dd.v]():null),Nd(h))){var b=void 0,A=void 0;try{for(var D=0;!(A=h.next())[T]&&m[k](x||h,A[I],D,h)!==-1;)D++}catch(F){b={e:F},h.throw&&(A=null,h.throw(b))}finally{try{A&&!A[T]&&h.return&&h.return(A)}finally{if(b)throw b.e}}}}s(s1,"iterForOf");var So=tl("apply");function ia(h,m){return!ve(m)&&h&&(W(m)?So(h.push,h,m):Nd(m)||hv(m)?s1(m,function(x){h.push(x)}):h.push(m)),h}s(ia,"arrAppend");function Xt(h,m,x){if(h)for(var b=h[S]>>>0,A=0;A<b&&!(A in h&&m[k](x||h,h[A],A,h)===-1);A++);}s(Xt,"arrForEach");var $i=Mn(_,ie),o1=Mn("map",ie),O2=Mn(U,ie),mv=Mn("reduce",ie),ps=Q.create||gv;function gv(h){if(!h)return{};var m=typeof h;m!==l&&m!==o&&pr("Prototype must be an Object or function: "+kt(h));function x(){}return s(x,"tempFunc"),x[f]=h,new x}s(gv,"polyObjCreate");var hf;function a1(h,m){var x=Q.setPrototypeOf||function(b,A){!hf&&(hf=Ai(function(){var D;return D={},D[c]=[],D instanceof Array})),hf.v?b[c]=A:vt(A,function(D,F){return b[D]=F})};return x(h,m)}s(a1,"objSetPrototypeOf");function Jr(h,m,x){Z(rr,[m,P,{v:h,c:!0,e:!1}]),m=a1(m,x);function b(){this.constructor=m,Z(rr,[this,P,{v:h,c:!0,e:!1}])}return s(b,"__"),m[f]=x===r?ps(x):(b[f]=x[f],new b),m}s(Jr,"_createCustomError");function l1(h,m){m&&(h[P]=m)}s(l1,"_setName");function F2(h,m,x){var b=x||Error,A=b[f][P],D=Error.captureStackTrace;return Jr(h,function(){var F=this,V=arguments;try{Z(l1,[b,h]);var G=So(b,F,ie[U][k](V))||F;if(G!==F){var X=N(F);X!==N(G)&&a1(G,X)}return D&&D(G,F[g]),m&&m(G,V),G}finally{Z(l1,[b,A])}},b)}s(F2,"createCustomError");function sa(){return(Date.now||f1)()}s(sa,"utcNow");function f1(){return new Date().getTime()}s(f1,"polyUtcNow");function M2(h){return s(function(x){return le(x)&&pr("strTrim called ["+kt(x)+"]"),x&&x.replace&&(x=x.replace(h,n)),x},"_doTrim")}s(M2,"_createTrimFn");var U2=M2(/^\s+|(?=\s)\s+$/g),zr=Ms("trim",De,U2),q2,qs,Ld;function ui(h){if(!h||typeof h!==l)return!1;Ld||(Ld=cv()?Eo():!0);var m=!1;if(h!==Ld){qs||(q2=Function[f][L],qs=q2[k](Q));try{var x=N(h);m=!x,m||(Lt(x,g)&&(x=x[g]),m=x&&typeof x===o&&q2[k](x)===qs)}catch{}}return m}s(ui,"isPlainObject");var pv=s(function(h){return h.value&&Od(h),!0},"_defaultDeepCopyHandler"),Bd=[c6,Od,$2,u6];function yv(h,m,x,b){var A;return Xt(h,function(D){if(D.k===m)return A=D,-1}),A||(A={k:m,v:m},h.push(A),b(A)),A.v}s(yv,"_getSetVisited");function c1(h,m,x,b){var A=x.handler,D=x.path?b?x.path.concat(b):x.path:[],F={handler:x.handler,src:x.src,path:D},V=typeof m,G=!1,X=!1;m&&V===l?G=ui(m):X=m===r||Et(V);var ue={type:V,isPrim:X,isPlain:G,value:m,result:m,path:D,origin:x.src,copy:function(ke,Fe){return c1(h,ke,Fe?F:x,Fe)},copyTo:function(ke,Fe){return f6(h,ke,Fe,F)}};return ue.isPrim?A&&A[k](x,ue)?ue.result:m:yv(h,m,D,function(ke){rr(ue,"result",{g:function(){return ke.v},s:function(we){ke.v=we}});for(var Fe=0,Ne=A;!(Ne||(Fe<Bd.length?Bd[Fe++]:pv))[k](x,ue);)Ne=r})}s(c1,"_deepCopy");function f6(h,m,x,b){if(!le(x))for(var A in x)m[A]=c1(h,x[A],b,A);return m}s(f6,"_copyProps");function j2(h,m,x){var b={handler:x,src:m,path:[]};return f6([],h,m,b)}s(j2,"objCopyProps");function u1(h,m){var x={handler:m,src:h};return c1([],h,x)}s(u1,"objDeepCopy");function c6(h){var m=h.value;if(W(m)){var x=h.result=[];return x.length=m.length,h.copyTo(x,m),!0}return!1}s(c6,"arrayDeepCopyHandler");function u6(h){var m=h.value;return Xe(m)?(h.result=new Date(m.getTime()),!0):!1}s(u6,"dateDeepCopyHandler");function $2(h){return h.type===o}s($2,"functionDeepCopyHandler");function Od(h){var m=h.value;if(m&&h.isPlain){var x=h.result={};return h.copyTo(x,m),!0}return!1}s(Od,"plainObjDeepCopyHandler");function mf(h,m){return Xt(m,function(x){j2(h,x)}),h}s(mf,"_doExtend");function d6(h,m,x,b,A,D,F){return mf(u1(h)||{},ie[U][k](arguments))}s(d6,"deepExtend");var wo=ji(S),Fd=Ms("endsWith",De,h6);function h6(h,m,x){dt(h)||pr("'"+kt(h)+"' is not a string");var b=dt(m)?m:Wt(m),A=!ve(x)&&x<h[S]?x:h[S];return M(h,A-b[S],A)===b}s(h6,"polyStrEndsWith");var gf=Mn(_,De),ol="ref",d1="un"+ol,H2="hasRef",m6="enabled";function vv(h,m,x){var b,A=!0,D=h?m(r):r,F,V=s(function(){return A=!1,D&&D[d1]&&D[d1](),F},"_unref"),G=s(function(){return A=!0,D&&D[ol]&&D[ol](),F},"_ref"),X=s(function(){return D&&D[H2]?D[H2]():A},"_hasRef"),ue=s(function(){return D=m(D),A||V(),F},"_refresh"),ke=s(function(){D&&x(D),D=r},"_cancel"),Fe=s(function(Ne){!Ne&&D&&ke(),Ne&&!D&&ue()},"_setEnabled");return F=(b={cancel:ke,refresh:ue},b[H2]=X,b[ol]=G,b[d1]=V,b[m6]=!1,b),s0(F,m6,{get:function(){return!!D},set:Fe}),{h:F,dn:function(){D=r}}}s(vv,"_createTimerHandler");function g6(h,m,x,b){var A=W(x),D=A?x.length:0,F=(D>0?x[0]:A?t:x)||setTimeout,V=(D>1?x[1]:t)||clearTimeout,G=b[0];b[0]=function(){X.dn(),So(G,h,ie[U][k](arguments))};var X=vv(m,function(ue){if(ue){if(ue.refresh)return ue.refresh(),ue;So(V,h,[ue])}return So(F,h,b)},function(ue){So(V,h,[ue])});return X.h}s(g6,"_createTimeoutWith");function js(h,m){return g6(this,!0,t,ie[U][k](arguments))}s(js,"scheduleTimeout");function p6(h,m){return g6(this,!1,t,ie[U][k](arguments))}s(p6,"createTimeout");var Md,h1="constructor",Io="prototype",al="function",pf="_dynInstFuncs",V2="_isDynProxy",Ao="_dynClass",Ud="_dynCls$",ys="_dynInstChk",oa=ys,m1="_dfOpts",qd="_unknown_",aa="__proto__",jd="_dyn"+aa,$d="__dynProto$Gbl",ll="_dynInstProto",g1="useBaseInst",Hd="setInstFuncs",p1=Object,la=p1.getPrototypeOf,z2=p1.getOwnPropertyNames,Vd=ms(),yf=Vd[$d]||(Vd[$d]={o:(Md={},Md[Hd]=!0,Md[g1]=!0,Md),n:1e3});function vf(h){return h&&(h===p1[Io]||h===Array[Io])}s(vf,"_isObjectOrArrayPrototype");function y1(h){return vf(h)||h===Function[Io]}s(y1,"_isObjectArrayOrFunctionPrototype");function vs(h){var m;if(h){if(la)return la(h);var x=h[aa]||h[Io]||(h[h1]?h[h1][Io]:null);m=h[jd]||x,Lt(h,jd)||(delete h[ll],m=h[jd]=h[ll]||h[jd],h[ll]=x)}return m}s(vs,"_getObjProto");function v1(h,m){var x=[];if(z2)x=z2(h);else for(var b in h)typeof b=="string"&&Lt(h,b)&&x.push(b);if(x&&x.length>0)for(var A=0;A<x.length;A++)m(x[A])}s(v1,"_forEachProp");function zd(h,m,x){return m!==h1&&typeof h[m]===al&&(x||Lt(h,m))&&m!==aa&&m!==Io}s(zd,"_isDynamicCandidate");function xf(h){pr("DynamicProto: "+h)}s(xf,"_throwTypeError");function Kd(h){var m=ps(null);return v1(h,function(x){!m[x]&&zd(h,x,!1)&&(m[x]=h[x])}),m}s(Kd,"_getInstanceFuncs");function x1(h,m){for(var x=h.length-1;x>=0;x--)if(h[x]===m)return!0;return!1}s(x1,"_hasVisited");function fl(h,m,x,b){function A(G,X,ue){var ke=X[ue];if(ke[V2]&&b){var Fe=G[pf]||{};Fe[oa]!==!1&&(ke=(Fe[X[Ao]]||{})[ue]||ke)}return function(){return ke.apply(G,arguments)}}s(A,"_instFuncProxy");var D=ps(null);v1(x,function(G){D[G]=A(m,x,G)});for(var F=vs(h),V=[];F&&!y1(F)&&!x1(V,F);)v1(F,function(G){!D[G]&&zd(F,G,!la)&&(D[G]=A(m,F,G))}),V.push(F),F=vs(F);return D}s(fl,"_getBaseFuncs");function Wd(h,m,x,b){var A=null;if(h&&Lt(x,Ao)){var D=h[pf]||ps(null);if(A=(D[x[Ao]]||ps(null))[m],A||xf("Missing ["+m+"] "+al),!A[ys]&&D[oa]!==!1){for(var F=!Lt(h,m),V=vs(h),G=[];F&&V&&!y1(V)&&!x1(G,V);){var X=V[m];if(X){F=X===b;break}G.push(V),V=vs(V)}try{F&&(h[m]=A),A[ys]=1}catch{D[oa]=!1}}}return A}s(Wd,"_getInstFunc");function K2(h,m,x){var b=m[h];return b===x&&(b=vs(m)[h]),typeof b!==al&&xf("["+h+"] is not a "+al),b}s(K2,"_getProtoFunc");function Gd(h,m,x,b,A){function D(G,X){var ue=s(function(){var ke=Wd(this,X,G,ue)||K2(X,G,ue);return ke.apply(this,arguments)},"dynProtoProxy");return ue[V2]=1,ue}if(s(D,"_createDynamicPrototype"),!vf(h)){var F=x[pf]=x[pf]||ps(null);if(!vf(F)){var V=F[m]=F[m]||ps(null);F[oa]!==!1&&(F[oa]=!!A),vf(V)||v1(x,function(G){zd(x,G,!1)&&x[G]!==b[G]&&(V[G]=x[G],delete x[G],(!Lt(h,G)||h[G]&&!h[G][V2])&&(h[G]=D(h,G)))})}}}s(Gd,"_populatePrototype");function xv(h,m){if(la){for(var x=[],b=vs(m);b&&!y1(b)&&!x1(x,b);){if(b===h)return!0;x.push(b),b=vs(b)}return!1}return!0}s(xv,"_checkPrototype");function _1(h,m){return Lt(h,Io)?h.name||m||qd:((h||{})[h1]||{}).name||m||qd}s(_1,"_getObjName");function di(h,m,x,b){Lt(h,Io)||xf("theClass is an invalid class definition.");var A=h[Io];xv(A,m)||xf("["+_1(h)+"] not in hierarchy of ["+_1(m)+"]");var D=null;Lt(A,Ao)?D=A[Ao]:(D=Ud+_1(h,"_")+"$"+yf.n,yf.n++,A[Ao]=D);var F=di[m1],V=!!F[g1];V&&b&&b[g1]!==void 0&&(V=!!b[g1]);var G=Kd(m),X=fl(A,m,G,V);x(m,X);var ue=!!la&&!!F[Hd];ue&&b&&(ue=!!b[Hd]),Gd(A,D,m,G,ue!==!1)}s(di,"dynamicProto"),di[m1]=yf.o;var _v="function",y6="object",v6="undefined",b1="prototype",C1=Object,W2=C1[b1],x6="hasOwnProperty",kr=s(function(h){for(var m,x=1,b=arguments.length;x<b;x++){m=arguments[x];for(var A in m)W2[x6].call(m,A)&&(h[A]=m[A])}return h},"__objAssignFnImpl"),fa=Fn||kr,G2=s(function(h,m){return G2=C1.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var A in b)b[x6](A)&&(x[A]=b[A])},G2(h,m)},"extendStaticsFn");function T1(h,m){typeof m!==_v&&m!==null&&pr("Class extends value "+String(m)+" is not a constructor or null"),G2(h,m);function x(){this.constructor=h}s(x,"__"),h[b1]=m===null?ps(m):(x[b1]=m[b1],new x)}s(T1,"__extendsFn");function _6(h,m){for(var x=0,b=m.length,A=h.length;x<b;x++,A++)h[A]=m[x];return h}s(_6,"__spreadArrayFn");var Yd=B,Y2=E0,E1="toLowerCase",S1="blkVal",x0="length",Jd="rdOnly",Xd="notify",w1="warnToConsole",I1="throwInternal",_f="setDf",Po="watch",Br="logger",bf="apply",nr="push",cl="splice",b6="hdlr",ul="cancel",A1="initialize",ca="identifier",$s="isInitialized",P1="getPlugin",C6="pollInternalLogs",ua="name",Cf="time",jn="processNext",J2="getProcessTelContext",Hi="getNotifyMgr",R1="addNotificationListener",k1="removeNotificationListener",dl="enabled",Tf="stopPollingInternalLogs",Vi="unload",Qd="onComplete",T6="version",E6="loggingLevelConsole",xs="createNew",Ro="teardown",Zd="messageId",hl="message",Ef="isAsync",ko="diagLog",e5="_doTeardown",N1="update",hi="getNext",D1="setNextPlugin",Sf="userAgent",wf="split",L1="nodeType",ml="replace",da="logInternalMessage",Hs="type",X2="handler",t5="isChildEvt",If="getCtx",Vs="setCtx",B1="complete",Q2="traceId",S6="spanId",Af="traceFlags",Z2;function r5(h,m){Z2||(Z2=F2("AggregationError",function(b,A){A[x0]>1&&(b.errors=A[1])}));var x=h||"One or more errors occurred.";throw Xt(m,function(b,A){x+=`
`.concat(A," > ").concat(kt(b))}),new Z2(x,m||[])}s(r5,"throwAggregationError");function n5(h,m){return O1(h,function(x){return m?m({value:x,rejected:!1}):x},function(x){return m?m({rejected:!0,reason:x}):x})}s(n5,"doAwaitResponse");function O1(h,m,x,b){var A=h;return nt(h)?(m||x)&&(A=h.then(m,x)):m&&(A=m(h)),b&&e4(A,b),A}s(O1,"doAwait");function e4(h,m){var x=h;return m&&(nt(h)?h.finally?x=h.finally(m):x=h.then(function(b){return m(),b},function(b){throw m(),b}):m()),x}s(e4,"doFinally");var F1=["pending","resolving","resolved","rejected"],Pf="dispatchEvent",ha;function bv(h,m,x,b){var A=sl();!ha&&(ha=kd(function(){var G;return A&&A.createEvent&&(G=A.createEvent("Event")),!!G&&G.initEvent},null));var D=ha.v?A.createEvent("Event"):b?new Event(m):{};if(x&&x(D),ha.v&&D.initEvent(m,!1,!0),D&&h[Pf])h[Pf](D);else{var F=h["on"+m];if(F)F(D);else{var V=Yr("console");V&&(V.error||V.log)(m,kt(D))}}}s(bv,"emitEvent");var i5="Promise",w6="unhandledRejection",Cv=w6.toLowerCase(),I6=10,s5;function M1(h){return Ve(h)?h.toString():kt(h)}s(M1,"dumpFnObj");function Tv(h,m,x){var b=O2(arguments,3),A=0,D=!1,F,V=[],G=!1,X=null,ue;!s5&&(s5=k2(i5+"RejectionEvent"));var ke=s(function(Ke,ft){try{G=!0,X&&X.cancel(),X=null;var t0=h(function(Z0,Ir){V.push(function(){try{var mr=A===2?Ke:ft,wn=ve(mr)?F:Ve(mr)?mr(F):mr;nt(wn)?wn.then(Z0,Ir):mr?Z0(wn):A===3?Ir(wn):Z0(wn)}catch(Qr){Ir(Qr)}}),D&&Ze()},b);return t0}finally{}},"_then"),Fe=s(function(Ke){return ke(void 0,Ke)},"_catch"),Ne=s(function(Ke){var ft=Ke,t0=Ke;return Ve(Ke)&&(ft=s(function(Z0){return Ke&&Ke(),Z0},"thenFinally"),t0=s(function(Z0){throw Ke&&Ke(),Z0},"catchFinally")),ke(ft,t0)},"_finally"),we=s(function(){return F1[A]},"_strState"),Ze=s(function(){if(V.length>0){var Ke=V.slice();V=[],G=!0,m(Ke),X&&X.cancel(),X=null}},"_processQueue"),Ue=s(function(Ke,ft){return function(t0){if(A===ft){if(Ke===2&&nt(t0)){A=1,t0.then(Ue(2,1),Ue(3,1));return}A=Ke,D=!0,F=t0,Ze(),!G&&Ke===3&&!X&&(X=js(it,I6))}}},"_createSettleIfFn"),it=s(function(){if(!G)if(dv())process.emit(w6,F,ue);else{var Ke=Eo()||ms();bv(Ke,Cv,function(ft){return rr(ft,"promise",{g:function(){return ue}}),ft.reason=F,ft},!!s5.v)}},"_notifyUnhandledRejection");ue={then:ke,catch:Fe,finally:Ne},s0(ue,"state",{get:we}),L2()&&(ue[i1(11)]="IPromise");var Qe=s(function(){return"IPromise "+we()+(D?" - "+M1(F):"")},"_toString");return ue.toString=Qe,s(function(){Ve(x)||pr(i5+": executor is not a function - "+M1(x));var ft=Ue(3,0);try{x.call(ue,Ue(2,0),ft)}catch(t0){ft(t0)}},"_initialize")(),ue}s(Tv,"_createPromise");function Ev(h){return function(m){var x=O2(arguments,1);return h(function(b,A){try{var D=[],F=1;Xt(m,function(V,G){V&&(F++,O1(V,function(X){D[G]=X,--F===0&&b(D)},A))}),F--,F===0&&b(D)}catch(V){A(V)}},x)}}s(Ev,"_createAllPromise");var Rf=s(function(h){Xt(h,function(m){try{m()}catch{}})},"_processPendingItems");function A6(h){var m=he(h)?h:0;return function(x){js(function(){Rf(x)},m)}}s(A6,"timeoutItemProcessor");function P6(h,m){return Tv(P6,A6(m),h,m)}s(P6,"createAsyncPromise");var t4;function Sv(h,m){!t4&&(t4=k2(i5));var x=t4.v;if(!x)return P6(h);Ve(h)||pr(i5+": executor is not a function - "+kt(h));var b=0;function A(){return F1[b]}s(A,"_strState");var D=new x(function(F,V){function G(ue){b=2,F(ue)}s(G,"_resolve");function X(ue){b=3,V(ue)}s(X,"_reject"),h(G,X)});return s0(D,"state",{get:A}),D}s(Sv,"createNativePromise");var r4;function kf(h,m){return!r4&&(r4=Ai(function(){return Sv})),r4.v.call(this,h,m)}s(kf,"createPromise");var R6=Ev(kf),zi=void 0,N0="",gl="channels",Or="core",n4="createPerfMgr",$n="disabled",pl="extensionConfig",Nf="extensions",Ki="processTelemetry",Df="priority",yl="eventsSent",ma="eventsDiscarded",U1="eventsSendRequest",Hn="perfEvent",q1="getPerfMgr",o5="domain",i4="path",s4="Not dynamic - ",o4=/-([a-z])/g,a4=/([^\w\d_$])/g,k6=/^(\d+[\w\d_$])/;function l4(h){return!le(h)}s(l4,"isNotNullOrUndefined");function f4(h){var m=h;return m&&dt(m)&&(m=m[ml](o4,function(x,b){return b.toUpperCase()}),m=m[ml](a4,"_"),m=m[ml](k6,function(x,b){return"_"+b})),m}s(f4,"normalizeJsName");function _n(h,m){return h&&m?gf(h,m)!==-1:!1}s(_n,"strContains");function j1(h){return h&&h.toISOString()||""}s(j1,"toISOString");function Vn(h){return He(h)?h[ua]:N0}s(Vn,"getExceptionName");function ga(h,m,x,b,A){var D=x;return h&&(D=h[m],D!==x&&(!A||A(D))&&(!b||b(x))&&(D=x,h[m]=D)),D}s(ga,"setValue");function N6(h,m,x){var b;return h?(b=h[m],!b&&le(b)&&(b=ve(x)?{}:x,h[m]=b)):b=ve(x)?{}:x,b}s(N6,"getSetValue");function D6(h,m){var x=null,b=null;return Ve(h)?x=h:b=h,function(){var A=arguments;if(x&&(b=x()),b)return b[m][bf](b,A)}}s(D6,"_createProxyFunction");function Lf(h,m,x,b,A){h&&m&&x&&(A!==!1||ve(h[m]))&&(h[m]=D6(x,b))}s(Lf,"proxyFunctionAs");function c4(h,m,x,b){return h&&m&&n0(h)&&W(x)&&Xt(x,function(A){dt(A)&&Lf(h,A,m,A,b)}),h}s(c4,"proxyFunctions");function wv(h){return function(){function m(){var x=this;h&&vt(h,function(b,A){x[b]=A})}return s(m,"class_1"),m}()}s(wv,"createClassFromInterface");function L6(h){return h&&Fn&&(h=C1(Fn({},h))),h}s(L6,"optimizeObject");function $1(h,m,x,b,A,D){var F=arguments,V=F[0]||{},G=F[x0],X=!1,ue=1;for(G>0&&Je(V)&&(X=V,V=F[ue]||{},ue++),n0(V)||(V={});ue<G;ue++){var ke=F[ue],Fe=W(ke),Ne=n0(ke);for(var we in ke){var Ze=Fe&&we in ke||Ne&&H(ke,we);if(Ze){var Ue=ke[we],it=void 0;if(X&&Ue&&((it=W(Ue))||ui(Ue))){var Qe=V[we];it?W(Qe)||(Qe=[]):ui(Qe)||(Qe={}),Ue=$1(X,Qe,Ue)}Ue!==void 0&&(V[we]=Ue)}}}return V}s($1,"objExtend");var Iv="documentMode",B6="location",u4="console",d4="JSON",O6="crypto",Av="msCrypto",a5="msie",h4="trident/",F6="XMLHttpRequest",l5=null,m4=null,Pv=!1,Bf=null,g4=null;function M6(h,m){var x=!1;if(h){try{if(x=m in h,!x){var b=h[b1];b&&(x=m in b)}}catch{}if(!x)try{var A=new h;x=!ve(A[m])}catch{}}return x}s(M6,"_hasProperty");function p4(h){if(h&&Pv){var m=Yr("__mockLocation");if(m)return m}return typeof location===y6&&location?location:Yr(B6)}s(p4,"getLocation");function f5(){return typeof console!==v6?console:Yr(u4)}s(f5,"getConsole");function Pi(){return!!(typeof JSON===y6&&JSON||Yr(d4)!==null)}s(Pi,"hasJSON");function zs(){return Pi()?JSON||Yr(d4):null}s(zs,"getJSON");function U6(){return Yr(O6)}s(U6,"getCrypto");function Of(){return Yr(Av)}s(Of,"getMsCrypto");function o0(){var h=na();if(h&&(h[Sf]!==m4||l5===null)){m4=h[Sf];var m=(m4||N0)[E1]();l5=_n(m,a5)||_n(m,h4)}return l5}s(o0,"isIE");function Ff(h){if(h===void 0&&(h=null),!h){var m=na()||{};h=m?(m.userAgent||N0)[E1]():N0}var x=(h||N0)[E1]();if(_n(x,a5)){var b=sl()||{};return Math.max(parseInt(x[wf](a5)[1]),b[Iv]||0)}else if(_n(x,h4)){var A=parseInt(x[wf](h4)[1]);if(A)return A+4}return null}s(Ff,"getIEVersion");function Ks(h){return(g4===null||h===!1)&&(g4=uv()&&!!na().sendBeacon),g4}s(Ks,"isBeaconsSupported");function vl(h){var m=!1;try{m=!!Yr("fetch");var x=Yr("Request");m&&h&&x&&(m=M6(x,"keepalive"))}catch{}return m}s(vl,"isFetchSupported");function H1(){return Bf===null&&(Bf=typeof XDomainRequest!==v6,Bf&&c5()&&(Bf=Bf&&!M6(Yr(F6),"withCredentials"))),Bf}s(H1,"useXDomainRequest");function c5(){var h=!1;try{var m=Yr(F6);h=!!m}catch{}return h}s(c5,"isXhrSupported");var Wi=4294967296,mi=4294967295,xl=123456789,u5=987654321,d5=!1,_l=xl,Mf=u5;function y4(h){h<0&&(h>>>=0),_l=xl+h&mi,Mf=u5-h&mi,d5=!0}s(y4,"_mwcSeed");function v4(){try{var h=sa()&2147483647;y4((Math.random()*Wi^h)+h)}catch{}}s(v4,"_autoSeedMwc");function V1(h){var m=0,x=U6()||Of();return x&&x.getRandomValues&&(m=x.getRandomValues(new Uint32Array(1))[0]&mi),m===0&&o0()&&(d5||v4(),m=h5()&mi),m===0&&(m=Math.floor(Wi*Math.random()|0)),h||(m>>>=0),m}s(V1,"random32");function h5(h){Mf=36969*(Mf&65535)+(Mf>>16)&mi,_l=18e3*(_l&65535)+(_l>>16)&mi;var m=(Mf<<16)+(_l&65535)>>>0&mi|0;return h||(m>>>=0),m}s(h5,"mwcRandom32");function q6(h){h===void 0&&(h=22);for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=V1()>>>0,b=0,A=N0;A[x0]<h;)b++,A+=m.charAt(x&63),x>>>=6,b===5&&(x=(V1()<<2&4294967295|x&3)>>>0,b=0);return A}s(q6,"newId");var z1="3.0.5",Uf="."+q6(6),_s=0;function bs(h){return h[L1]===1||h[L1]===9||!+h[L1]}s(bs,"_canAcceptData");function No(h,m){var x=m[h.id];if(!x){x={};try{bs(m)&&rr(m,h.id,{e:!1,v:x})}catch{}}return x}s(No,"_getCache");function Gi(h,m){return m===void 0&&(m=!1),f4(h+_s+++(m?"."+z1:N0)+Uf)}s(Gi,"createUniqueNamespace");function Ws(h){var m={id:Gi("_aiData-"+(h||N0)+"."+z1),accept:function(x){return bs(x)},get:function(x,b,A,D){var F=x[m.id];return F?F[f4(b)]:(D&&(F=No(m,x),F[f4(b)]=A),A)},kill:function(x,b){if(x&&x[b])try{delete x[b]}catch{}}};return m}s(Ws,"createElmNodeData");function pa(h){return h&&n0(h)&&(h.isVal||h.fb||H(h,"v")||H(h,"mrg")||H(h,"ref")||h.set)}s(pa,"_isConfigDefaults");function m5(h,m,x){var b,A=x.dfVal||mt;if(m&&x.fb){var D=x.fb;W(D)||(D=[D]);for(var F=0;F<D[x0];F++){var V=D[F],G=m[V];if(A(G)?b=G:h&&(G=h.cfg[V],A(G)&&(b=G),h.set(h.cfg,Wt(V),G)),A(b))break}}return!A(b)&&A(x.v)&&(b=x.v),b}s(m5,"_getDefault");function K1(h,m,x){var b=x;if(x&&pa(x)&&(b=m5(h,m,x)),b){pa(b)&&(b=K1(h,m,b));var A;W(b)?(A=[],A[x0]=b[x0]):ui(b)&&(A={}),A&&(vt(b,function(D,F){F&&pa(F)&&(F=K1(h,m,F)),A[D]=F}),b=A)}return b}s(K1,"_resolveDefaultValue");function g5(h,m,x,b){var A,D,F,V=b,G,X,ue,ke;pa(V)?(A=V.isVal,D=V.set,ue=V[Jd],ke=V[S1],G=V.mrg,X=V.ref,!X&&ve(X)&&(X=!!G),F=m5(h,m,V)):F=b,ke&&h[S1](m,x);var Fe,Ne=!0,we=m[x];(we||!le(we))&&(Fe=we,Ne=!1,A&&Fe!==F&&!A(Fe)&&(Fe=F,Ne=!0),D&&(Fe=D(Fe,F,m),Ne=Fe===F)),Ne?F?Fe=K1(h,m,F):Fe=F:(ui(Fe)||W(F))&&G&&F&&(ui(F)||W(F))&&vt(F,function(Ze,Ue){g5(h,Fe,Ze,Ue)}),h.set(m,x,Fe),X&&h.ref(m,x),ue&&h[Jd](m,x)}s(g5,"_applyDefaultValue");var Ri=df("[[ai_dynCfg_1]]"),ya=df("[[ai_blkDynCfg_1]]"),p5=df("[[ai_frcDynCfg_1]]");function W1(h){if(h){var m;if(W(h)?(m=[],m[x0]=h[x0]):ui(h)&&(m={}),m)return vt(h,function(x,b){m[x]=W1(b)}),m}return h}s(W1,"_cfgDeepCopy");function qf(h){if(h){var m=h[Ri]||h;if(m.cfg&&(m.cfg===h||m.cfg[Ri]===m))return m}return null}s(qf,"getDynamicConfigHandler");function G1(h){if(h&&(ui(h)||W(h)))try{h[ya]=!0}catch{}return h}s(G1,"blockDynamicConversion");function jf(h,m,x){var b=!1;return x&&!h[m.blkVal]&&(b=x[p5],!b&&!x[ya]&&(b=ui(x)||W(x))),b}s(jf,"_canMakeDynamic");function x4(h){pr("InvalidAccess:"+h)}s(x4,"throwInvalidAccess");var _4=["push","pop","shift","unshift","splice"],$f=s(function(h,m,x,b){h&&h[I1](3,108,"".concat(x," [").concat(m,"] failed - ")+kt(b))},"_throwDynamicError");function bn(h,m,x){W(m)&&Xt(_4,function(b){var A=m[b];m[b]=function(){for(var D=[],F=0;F<arguments.length;F++)D[F]=arguments[F];var V=A[bf](this,D);return Cs(h,m,x,"Patching"),V}})}s(bn,"_patchArray");function bl(h,m){var x=Mt(h,m);return x&&x.get}s(bl,"_getOwnPropGetter");function b4(h,m,x,b){var A={n:x,h:[],trk:function(X){X&&X.fn&&($i(A.h,X)===-1&&A.h[nr](X),h.trk(X,A))},clr:function(X){var ue=$i(A.h,X);ue!==-1&&A.h[cl](ue,1)}},D=!0,F=!1;function V(){D&&(F=F||jf(V,h,b),b&&!b[Ri]&&F&&(b=Cs(h,b,x,"Converting")),D=!1);var X=h.act;return X&&A.trk(X),b}s(V,"_getProperty"),V[h.prop]={chng:function(){h.add(A)}};function G(X){if(b!==X){V[h.ro]&&!h.upd&&x4("["+x+"] is read-only:"+kt(m)),D&&(F=F||jf(V,h,b),D=!1);var ue=F&&V[h.rf];if(F)if(ue){vt(b,function(Fe){b[Fe]=X?X[Fe]:zi});try{vt(X,function(Fe,Ne){Y1(h,b,Fe,Ne)}),X=b}catch(Fe){$f((h.hdlr||{})[Br],x,"Assigning",Fe),F=!1}}else b&&b[Ri]&&vt(b,function(Fe){var Ne=bl(b,Fe);if(Ne){var we=Ne[h.prop];we&&we.chng()}});if(X!==b){var ke=X&&jf(V,h,X);!ue&&ke&&(X=Cs(h,X,x,"Converting")),b=X,F=ke}h.add(A)}}s(G,"_setProperty"),rr(m,A.n,{g:V,s:G})}s(b4,"_createDynamicProperty");function Y1(h,m,x,b){if(m){var A=bl(m,x),D=A&&!!A[h.prop];D?m[x]=b:b4(h,m,x,b)}return m}s(Y1,"_setDynamicProperty");function Gs(h,m,x,b){if(m){var A=bl(m,x),D=A&&!!A[h.prop],F=b&&b[0],V=b&&b[1],G=b&&b[2];if(!D){if(G)try{G1(m)}catch(X){$f((h.hdlr||{})[Br],x,"Blocking",X)}try{Y1(h,m,x,m[x]),A=bl(m,x)}catch(X){$f((h.hdlr||{})[Br],x,"State",X)}}F&&(A[h.rf]=F),V&&(A[h.ro]=V),G&&(A[h.blkVal]=!0)}return m}s(Gs,"_setDynamicPropertyState");function Cs(h,m,x,b){try{vt(m,function(A,D){Y1(h,m,A,D)}),m[Ri]||(s0(m,Ri,{get:function(){return h[b6]}}),bn(h,m,x))}catch(A){$f((h.hdlr||{})[Br],x,b,A)}return m}s(Cs,"_makeDynamicObject");var Hf="[[ai_",Cl="]]";function j6(h){var m,x=Us(Hf+"get"+h.uid+Cl),b=Us(Hf+"ro"+h.uid+Cl),A=Us(Hf+"rf"+h.uid+Cl),D=Us(Hf+"blkVal"+h.uid+Cl),F=Us(Hf+"dtl"+h.uid+Cl),V=null,G=null,X;function ue(we,Ze){var Ue=X.act;try{X.act=we,we&&we[F]&&(Xt(we[F],function(Qe){Qe.clr(we)}),we[F]=[]),Ze({cfg:h.cfg,set:h.set.bind(h),setDf:h[_f].bind(h),ref:h.ref.bind(h),rdOnly:h[Jd].bind(h)})}catch(Qe){var it=h[Br];throw it&&it[I1](1,107,kt(Qe)),Qe}finally{X.act=Ue||null}}s(ue,"_useHandler");function ke(){if(V){var we=V;V=null,G&&G[ul](),G=null;var Ze=[];if(Xt(we,function(Ue){if(Ue&&(Ue[F]&&(Xt(Ue[F],function(it){it.clr(Ue)}),Ue[F]=null),Ue.fn))try{ue(Ue,Ue.fn)}catch(it){Ze[nr](it)}}),V)try{ke()}catch(Ue){Ze[nr](Ue)}Ze[x0]>0&&r5("Watcher error(s): ",Ze)}}s(ke,"_notifyWatchers");function Fe(we){if(we&&we.h[x0]>0){V||(V=[]),G||(G=js(function(){G=null,ke()},0));for(var Ze=0;Ze<we.h[x0];Ze++){var Ue=we.h[Ze];Ue&&$i(V,Ue)===-1&&V[nr](Ue)}}}s(Fe,"_addWatcher");function Ne(we,Ze){if(we){var Ue=we[F]=we[F]||[];$i(Ue,Ze)===-1&&Ue[nr](Ze)}}return s(Ne,"_trackHandler"),X=(m={prop:x,ro:b,rf:A},m[S1]=D,m[b6]=h,m.add=Fe,m[Xd]=ke,m.use=ue,m.trk=Ne,m),X}s(j6,"_createState");function $6(h,m){var x={fn:m,rm:function(){x.fn=null,h=null,m=null}};return h.use(x,m),x}s($6,"_createAndUseHandler");function H6(h,m,x){var b,A=qf(m);if(A)return A;var D=Gi("dyncfg",!0),F=m&&x!==!1?m:W1(m),V;function G(){V[Xd]()}s(G,"_notifyWatchers");function X(it,Qe,Ke){try{it=Y1(V,it,Qe,Ke)}catch(ft){$f(h,Qe,"Setting value",ft)}return it[Qe]}s(X,"_setValue");function ue(it){return $6(V,it)}s(ue,"_watch");function ke(it,Qe){V.use(null,function(Ke){var ft=V.upd;try{ve(Qe)||(V.upd=Qe),it(Ke)}finally{V.upd=ft}})}s(ke,"_block");function Fe(it,Qe){var Ke;return Gs(V,it,Qe,(Ke={},Ke[0]=!0,Ke))[Qe]}s(Fe,"_ref");function Ne(it,Qe){var Ke;return Gs(V,it,Qe,(Ke={},Ke[1]=!0,Ke))[Qe]}s(Ne,"_rdOnly");function we(it,Qe){var Ke;return Gs(V,it,Qe,(Ke={},Ke[2]=!0,Ke))[Qe]}s(we,"_blkPropValue");function Ze(it,Qe){return Qe&&vt(Qe,function(Ke,ft){g5(Ue,it,Ke,ft)}),it}s(Ze,"_applyDefaults");var Ue=(b={uid:null,cfg:F},b[Br]=h,b[Xd]=G,b.set=X,b[_f]=Ze,b[Po]=ue,b.ref=Fe,b[Jd]=Ne,b[S1]=we,b._block=ke,b);return rr(Ue,"uid",{c:!1,e:!1,w:!1,v:D}),V=j6(Ue),Cs(V,F,"config","Creating"),Ue}s(H6,"_createDynamicHandler");function Rv(h,m){h?(h[w1](m),h[I1](2,108,m)):x4(m)}s(Rv,"_logInvalidAccess");function Cn(h,m,x,b){var A=H6(x,h||{},b);return m&&A[_f](A.cfg,m),A}s(Cn,"createDynamicConfig");function Vf(h,m,x){var b=h[Ri]||h;return b.cfg&&(b.cfg===h||b.cfg[Ri]===b)?b[Po](m):(Rv(x,s4+kt(h)),Cn(h,null,x)[Po](m))}s(Vf,"onConfigChange");function zf(h,m){if(h&&h[Vi])return h[Vi](m)}s(zf,"runTargetUnload");function V6(h,m,x){var b;return x||(b=kf(function(A){x=A})),h&&wo(h)>0?n5(zf(h[0],m),function(){V6(O2(h,1),m,x)}):x(),b}s(V6,"doUnloadAll");var z6=500;function C4(h,m,x){return!h&&le(h)?m:Je(h)?h:Wt(h)[E1]()==="true"}s(C4,"_stringToBoolOrDefault");function kv(h){return{mrg:!0,v:h}}s(kv,"cfgDfMerge");function J1(h,m,x){return{fb:x,isVal:h,v:m}}s(J1,"cfgDfValidate");function Ys(h,m){return{fb:m,set:C4,v:!!h}}s(Ys,"cfgDfBoolean");var T4=[yl,ma,U1,Hn],y5=null,v5;function Nv(h,m){return function(){var x=arguments,b=W6(m);if(b){var A=b.listener;A&&A[h]&&A[h][bf](A,x)}}}s(Nv,"_listenerProxyFunc");function K6(){var h=Yr("Microsoft");return h&&(y5=h.ApplicationInsights),y5}s(K6,"_getExtensionNamespace");function W6(h){var m=y5;return!m&&h.disableDbgExt!==!0&&(m=y5||K6()),m?m.ChromeDbgExt:null}s(W6,"getDebugExt");function Dv(h){if(!v5){v5={};for(var m=0;m<T4[x0];m++)v5[T4[m]]=Nv(T4[m],h)}return v5}s(Dv,"getDebugListener");var Kf,G6="warnToConsole",X1="AI (Internal): ",Lv="AI: ",Bv="AITR_",va={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},xa=(Kf={},Kf[0]=null,Kf[1]="errorToConsole",Kf[2]=G6,Kf[3]="debugToConsole",Kf);function E4(h){return h?'"'+h[ml](/\"/g,N0)+'"':N0}s(E4,"_sanitizeDiagnosticText");function Q1(h,m){var x=f5();if(x){var b="log";x[h]&&(b=h),Ve(x[b])&&x[b](m)}}s(Q1,"_logToConsole");var Wf=function(){function h(m,x,b,A){b===void 0&&(b=!1);var D=this;D[Zd]=m,D[hl]=(b?Lv:X1)+m;var F=N0;Pi()&&(F=zs().stringify(A));var V=(x?" message:"+E4(x):N0)+(A?" props:"+E4(F):N0);D[hl]+=V}return s(h,"_InternalLogMessage"),h.dataType="MessageData",h}();function Z1(h,m){return(h||{})[Br]||new x5(m)}s(Z1,"safeGetLogger");var x5=function(){function h(m){this.identifier="DiagnosticLogger",this.queue=[];var x=0,b={},A,D,F,V,G;di(h,this,function(X){G=ke(m||{}),X.consoleLoggingLevel=function(){return A},X[I1]=function(we,Ze,Ue,it,Qe){Qe===void 0&&(Qe=!1);var Ke=new Wf(Ze,Ue,Qe,it);if(V)throw kt(Ke);var ft=xa[we]||G6;if(ve(Ke[hl]))Ne("throw"+(we===1?"Critical":"Warning"),Ke);else{if(Qe){var t0=+Ke[Zd];!b[t0]&&A>=we&&(X[ft](Ke[hl]),b[t0]=!0)}else A>=we&&X[ft](Ke[hl]);ue(we,Ke)}},X.debugToConsole=function(we){Q1("debug",we),Ne("warning",we)},X[w1]=function(we){Q1("warn",we),Ne("warning",we)},X.errorToConsole=function(we){Q1("error",we),Ne("error",we)},X.resetInternalMessageCount=function(){x=0,b={}},X[da]=ue,X[Vi]=function(we){G&&G.rm(),G=null};function ue(we,Ze){if(!Fe()){var Ue=!0,it=Bv+Ze[Zd];if(b[it]?Ue=!1:b[it]=!0,Ue&&(we<=D&&(X.queue[nr](Ze),x++,Ne(we===1?"error":"warn",Ze)),x===F)){var Qe="Internal events throttle limit per PageView reached for this app.",Ke=new Wf(23,Qe,!1);X.queue[nr](Ke),we===1?X.errorToConsole(Qe):X[w1](Qe)}}}s(ue,"_logInternalMessage");function ke(we){return Vf(Cn(we,va,X).cfg,function(Ze){var Ue=Ze.cfg;A=Ue[E6],D=Ue.loggingLevelTelemetry,F=Ue.maxMessageLimit,V=Ue.enableDebug})}s(ke,"_setDefaultsFromConfig");function Fe(){return x>=F}s(Fe,"_areInternalMessagesThrottled");function Ne(we,Ze){var Ue=W6(m||{});Ue&&Ue[ko]&&Ue[ko](we,Ze)}s(Ne,"_debugExtMsg")})}return s(h,"DiagnosticLogger"),h.__ieDyn=1,h}();function Y6(h){return h||new x5}s(Y6,"_getLogger");function Ot(h,m,x,b,A,D){D===void 0&&(D=!1),Y6(h)[I1](m,x,b,A,D)}s(Ot,"_throwInternal");function Gf(h,m){Y6(h)[w1](m)}s(Gf,"_warnToConsole");var _5,_a,J6="toGMTString",eu="toUTCString",S4="cookie",w4="expires",X6="isCookieUseDisabled",I4="disableCookiesUsage",Q6="_ckMgr",b5=null,A4=null,Z6=null,Ts,em={},tm={},Ov=(_5={cookieCfg:kv((_a={},_a[o5]={fb:"cookieDomain",dfVal:l4},_a.path={fb:"cookiePath",dfVal:l4},_a.enabled=zi,_a.ignoreCookies=zi,_a.blockedCookies=zi,_a)),cookieDomain:zi,cookiePath:zi},_5[I4]=zi,_5);function P4(){!Ts&&(Ts=Ai(function(){return sl()}))}s(P4,"_getDoc");function Do(h){return h?h.isEnabled():!0}s(Do,"_isMgrEnabled");function zn(h,m){return m&&h&&W(h.ignoreCookies)?$i(h.ignoreCookies,m)!==-1:!1}s(zn,"_isIgnoredCookie");function R4(h,m){return m&&h&&W(h.blockedCookies)&&$i(h.blockedCookies,m)!==-1?!0:zn(h,m)}s(R4,"_isBlockedCookie");function k4(h,m){var x=m[dl];if(le(x)){var b=void 0;ve(h[X6])||(b=!h[X6]),ve(h[I4])||(b=!h[I4]),x=b}return x}s(k4,"_isCfgEnabled");function N4(h,m){var x,b,A,D,F,V,G,X,ue;h=Cn(h||tm,null,m).cfg,F=Vf(h,function(Fe){Fe[_f](Fe.cfg,Ov),b=Fe.ref(Fe.cfg,"cookieCfg"),A=b[i4]||"/",D=b[o5],V=k4(h,b)!==!1,G=b.getCookie||Fv,X=b.setCookie||B4,ue=b.delCookie||B4},m);var ke=(x={isEnabled:function(){var Fe=k4(h,b)!==!1&&V&&D4(m),Ne=tm[Q6];return Fe&&Ne&&ke!==Ne&&(Fe=Do(Ne)),Fe},setEnabled:function(Fe){V=Fe!==!1,b[dl]=Fe},set:function(Fe,Ne,we,Ze,Ue){var it=!1;if(Do(ke)&&!R4(b,Fe)){var Qe={},Ke=zr(Ne||N0),ft=gf(Ke,";");if(ft!==-1&&(Ke=zr(K(Ne,ft)),Qe=C5(M(Ne,ft+1))),ga(Qe,o5,Ze||D,wt,ve),!le(we)){var t0=o0();if(ve(Qe[w4])){var Z0=sa(),Ir=Z0+we*1e3;if(Ir>0){var mr=new Date;mr.setTime(Ir),ga(Qe,w4,L4(mr,t0?J6:eu)||L4(mr,t0?J6:eu)||N0,wt)}}t0||ga(Qe,"max-age",N0+we,null,ve)}var wn=p4();wn&&wn.protocol==="https:"&&(ga(Qe,"secure",null,null,ve),A4===null&&(A4=!Tl((na()||{})[Sf])),A4&&ga(Qe,"SameSite","None",null,ve)),ga(Qe,i4,Ue||A,null,ve),X(Fe,rm(Ke,Qe)),it=!0}return it},get:function(Fe){var Ne=N0;return Do(ke)&&!zn(b,Fe)&&(Ne=G(Fe)),Ne},del:function(Fe,Ne){var we=!1;return Do(ke)&&(we=ke.purge(Fe,Ne)),we},purge:function(Fe,Ne){var we,Ze=!1;if(D4(m)){var Ue=(we={},we[i4]=Ne||"/",we[w4]="Thu, 01 Jan 1970 00:00:01 GMT",we);o0()||(Ue["max-age"]="0"),ue(Fe,rm(N0,Ue)),Ze=!0}return Ze}},x[Vi]=function(Fe){F&&F.rm(),F=null},x);return ke[Q6]=ke,ke}s(N4,"createCookieMgr");function D4(h){if(b5===null){b5=!1,!Ts&&P4();try{var m=Ts.v||{};b5=m[S4]!==void 0}catch(x){Ot(h,2,68,"Cannot access document.cookie - "+Vn(x),{exception:kt(x)})}}return b5}s(D4,"areCookiesSupported");function C5(h){var m={};if(h&&h[x0]){var x=zr(h)[wf](";");Xt(x,function(b){if(b=zr(b||N0),b){var A=gf(b,"=");A===-1?m[b]=null:m[zr(K(b,A))]=zr(M(b,A+1))}})}return m}s(C5,"_extractParts");function L4(h,m){return Ve(h[m])?h[m]():null}s(L4,"_formatDate");function rm(h,m){var x=h||N0;return vt(m,function(b,A){x+="; "+b+(le(A)?N0:"="+A)}),x}s(rm,"_formatCookieValue");function Fv(h){var m=N0;if(!Ts&&P4(),Ts.v){var x=Ts.v[S4]||N0;Z6!==x&&(em=C5(x),Z6=x),m=zr(em[h]||N0)}return m}s(Fv,"_getCookieValue");function B4(h,m){!Ts&&P4(),Ts.v&&(Ts.v[S4]=h+"="+m)}s(B4,"_setCookieValue");function Tl(h){return dt(h)?!!(_n(h,"CPU iPhone OS 12")||_n(h,"iPad; CPU OS 12")||_n(h,"Macintosh; Intel Mac OS X 10_14")&&_n(h,"Version/")&&_n(h,"Safari")||_n(h,"Macintosh; Intel Mac OS X 10_14")&&Fd(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||_n(h,"Chrome/5")||_n(h,"Chrome/6")||_n(h,"UnrealEngine")&&!_n(h,"Chrome")||_n(h,"UCBrowser/12")||_n(h,"UCBrowser/11")):!1}s(Tl,"uaDisallowsSameSiteNone");var Mv={perfEvtsSendAll:!1};function Yf(h,m,x,b){Xt(h,function(A){if(A&&A[m])if(x)js(function(){return b(A)},0);else try{b(A)}catch{}})}s(Yf,"_runListeners");var Uv=function(){function h(m){this.listeners=[];var x,b,A=[],D=Cn(m,Mv);b=D[Po](function(F){x=!!F.cfg.perfEvtsSendAll}),di(h,this,function(F){rr(F,"listeners",{g:function(){return A}}),F[R1]=function(V){A[nr](V)},F[k1]=function(V){for(var G=$i(A,V);G>-1;)A[cl](G,1),G=$i(A,V)},F[yl]=function(V){Yf(A,yl,!0,function(G){G[yl](V)})},F[ma]=function(V,G){Yf(A,ma,!0,function(X){X[ma](V,G)})},F[U1]=function(V,G){Yf(A,U1,G,function(X){X[U1](V,G)})},F[Hn]=function(V){V&&(x||!V[t5]())&&Yf(A,Hn,!1,function(G){V[Ef]?js(function(){return G[Hn](V)},0):G[Hn](V)})},F[Vi]=function(V){var G=s(function(){b&&b.rm(),b=null,A=[]},"_finishUnload"),X;if(Yf(A,"unload",!1,function(ue){var ke=ue[Vi](V);ke&&(X||(X=[]),X[nr](ke))}),X)return kf(function(ue){return n5(R6(X),function(){G(),ue()})});G()}})}return s(h,"NotificationManager"),h.__ieDyn=1,h}(),Jf="ctx",Xf="ParentContextKey",El="ChildrenContextKey",qv=null,tu=function(){function h(m,x,b){var A=this;if(A.start=sa(),A[ua]=m,A[Ef]=b,A[t5]=function(){return!1},Ve(x)){var D;rr(A,"payload",{g:function(){return!D&&Ve(x)&&(D=x(),x=null),D}})}A[If]=function(F){return F?F===h[Xf]||F===h[El]?A[F]:(A[Jf]||{})[F]:null},A[Vs]=function(F,V){if(F)if(F===h[Xf])A[F]||(A[t5]=function(){return!0}),A[F]=V;else if(F===h[El])A[F]=V;else{var G=A[Jf]=A[Jf]||{};G[F]=V}},A[B1]=function(){var F=0,V=A[If](h[El]);if(W(V))for(var G=0;G<V[x0];G++){var X=V[G];X&&(F+=X[Cf])}A[Cf]=sa()-A.start,A.exTime=A[Cf]-F,A[B1]=function(){}}}return s(h,"PerfEvent"),h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),O4=function(){function h(m){this.ctx={},di(h,this,function(x){x.create=function(b,A,D){return new tu(b,A,D)},x.fire=function(b){b&&(b[B1](),m&&Ve(m[Hn])&&m[Hn](b))},x[Vs]=function(b,A){if(b){var D=x[Jf]=x[Jf]||{};D[b]=A}},x[If]=function(b){return(x[Jf]||{})[b]}})}return s(h,"PerfManager"),h.__ieDyn=1,h}(),F4="CoreUtils.doPerf";function nm(h,m,x,b,A){if(h){var D=h;if(D[q1]&&(D=D[q1]()),D){var F=void 0,V=D[If](F4);try{if(F=D.create(m(),b,A),F){if(V&&F[Vs]&&(F[Vs](tu[Xf],V),V[If]&&V[Vs])){var G=V[If](tu[El]);G||(G=[],V[Vs](tu[El],G)),G[nr](F)}return D[Vs](F4,F),x(F)}}catch(X){F&&F[Vs]&&F[Vs]("exception",X)}finally{F&&D.fire(F),D[Vs](F4,V)}}}return x()}s(nm,"doPerf");function ru(){return qv}s(ru,"getGblPerfMgr");var jv="00000000000000000000000000000000",M4="0000000000000000";function im(h,m,x){return h&&h[x0]===m&&h!==x?!!h.match(/^[\da-f]*$/i):!1}s(im,"_isValid");function $v(h){return im(h,32,jv)}s($v,"isValidTraceId");function Hv(h){return im(h,16,M4)}s(Hv,"isValidSpanId");var Vv=Ws("plugin");function Sl(h){return Vv.get(h,"state",{},!0)}s(Sl,"_getPluginState");function sm(h,m){for(var x=[],b=null,A=h[hi](),D;A;){var F=A[P1]();if(F){b&&b[D1]&&F[Ki]&&b[D1](F),D=Sl(F);var V=!!D[$s];F[$s]&&(V=F[$s]()),V||x[nr](F),b=F,A=A[hi]()}}Xt(x,function(G){var X=h[Or]();G[A1](h.getCfg(),X,m,h[hi]()),D=Sl(G),!G[Or]&&!D[Or]&&(D[Or]=X),D[$s]=!0,delete D[Ro]})}s(sm,"initializePlugins");function U4(h){return h.sort(function(m,x){var b=0;if(x){var A=x[Ki];m[Ki]?b=A?m[Df]-x[Df]:1:A&&(b=-1)}else b=m?1:-1;return b})}s(U4,"sortPlugins");function zv(h){var m={};return{getName:function(){return m[ua]},setName:function(x){h&&h.setName(x),m[ua]=x},getTraceId:function(){return m[Q2]},setTraceId:function(x){h&&h.setTraceId(x),$v(x)&&(m[Q2]=x)},getSpanId:function(){return m[S6]},setSpanId:function(x){h&&h.setSpanId(x),Hv(x)&&(m[S6]=x)},getTraceFlags:function(){return m[Af]},setTraceFlags:function(x){h&&h.setTraceFlags(x),m[Af]=x}}}s(zv,"createDistributedTraceContext");var Kv="TelemetryPluginChain",Lo="_hasRun",Qf="_getTelCtx",Fr=0;function T5(h,m,x){for(;h;){if(h[P1]()===x)return h;h=h[hi]()}return Ss([x],m.config||{},m)}s(T5,"_getNextProxyStart");function ba(h,m,x,b){var A=null,D=[];m||(m=Cn({},null,x[Br])),b!==null&&(A=b?T5(h,x,b):h);var F={_next:G,ctx:{core:function(){return x},diagLog:function(){return Z1(x,m.cfg)},getCfg:function(){return m.cfg},getExtCfg:ue,getConfig:ke,hasNext:function(){return!!A},getNext:function(){return A},setNext:function(Ne){A=Ne},iterate:Fe,onComplete:V}};function V(Ne,we){for(var Ze=[],Ue=2;Ue<arguments.length;Ue++)Ze[Ue-2]=arguments[Ue];Ne&&D[nr]({func:Ne,self:ve(we)?F.ctx:we,args:Ze})}s(V,"_addOnComplete");function G(){var Ne=A;if(A=Ne?Ne[hi]():null,!Ne){var we=D;we&&we[x0]>0&&(Xt(we,function(Ze){try{Ze.func.call(Ze.self,Ze.args)}catch(Ue){Ot(x[Br],2,73,"Unexpected Exception during onComplete - "+kt(Ue))}}),D=[])}return Ne}s(G,"_moveNext");function X(Ne,we){var Ze=null,Ue=m.cfg;if(Ue&&Ne){var it=Ue[pl];!it&&we&&(it={}),Ue[pl]=it,it=m.ref(Ue,pl),it&&(Ze=it[Ne],!Ze&&we&&(Ze={}),it[Ne]=Ze,Ze=m.ref(it,Ne))}return Ze}s(X,"_getExtCfg");function ue(Ne,we){var Ze=X(Ne,!0);return we&&vt(we,function(Ue,it){if(le(Ze[Ue])){var Qe=m.cfg[Ue];(Qe||!le(Qe))&&(Ze[Ue]=Qe)}g5(m,Ze,Ue,it)}),m[_f](Ze,we)}s(ue,"_resolveExtCfg");function ke(Ne,we,Ze){Ze===void 0&&(Ze=!1);var Ue,it=X(Ne,!1),Qe=m.cfg;return it&&(it[we]||!le(it[we]))?Ue=it[we]:(Qe[we]||!le(Qe[we]))&&(Ue=Qe[we]),Ue||!le(Ue)?Ue:Ze}s(ke,"_getConfig");function Fe(Ne){for(var we;we=F._next();){var Ze=we[P1]();Ze&&Ne(Ze)}}return s(Fe,"_iterateChain"),F}s(ba,"_createInternalContext");function Ca(h,m,x,b){var A=Cn(m),D=ba(h,A,x,b),F=D.ctx;function V(X){var ue=D._next();return ue&&ue[Ki](X,F),!ue}s(V,"_processNext");function G(X,ue){return X===void 0&&(X=null),W(X)&&(X=Ss(X,A.cfg,x,ue)),Ca(X||F[hi](),A.cfg,x,ue)}return s(G,"_createNew"),F[jn]=V,F[xs]=G,F}s(Ca,"createProcessTelemetryContext");function Es(h,m,x){var b=Cn(m.config),A=ba(h,b,m,x),D=A.ctx;function F(G){var X=A._next();return X&&X[Vi](D,G),!X}s(F,"_processNext");function V(G,X){return G===void 0&&(G=null),W(G)&&(G=Ss(G,b.cfg,m,X)),Es(G||D[hi](),m,X)}return s(V,"_createNew"),D[jn]=F,D[xs]=V,D}s(Es,"createProcessTelemetryUnloadContext");function Bo(h,m,x){var b=Cn(m.config),A=ba(h,b,m,x),D=A.ctx;function F(G){return D.iterate(function(X){Ve(X[N1])&&X[N1](D,G)})}s(F,"_processNext");function V(G,X){return G===void 0&&(G=null),W(G)&&(G=Ss(G,b.cfg,m,X)),Bo(G||D[hi](),m,X)}return s(V,"_createNew"),D[jn]=F,D[xs]=V,D}s(Bo,"createProcessTelemetryUpdateContext");function Ss(h,m,x,b){var A=null,D=!b;if(W(h)&&h[x0]>0){var F=null;Xt(h,function(V){if(!D&&b===V&&(D=!0),D&&V&&Ve(V[Ki])){var G=om(V,m,x);A||(A=G),F&&F._setNext(G),F=G}})}return b&&!A?Ss([b],m,x):A}s(Ss,"createTelemetryProxyChain");function om(h,m,x){var b=null,A=Ve(h[Ki]),D=Ve(h[D1]),F;h?F=h[ca]+"-"+h[Df]+"-"+Fr++:F="Unknown-0-"+Fr++;var V={getPlugin:function(){return h},getNext:function(){return b},processTelemetry:ue,unload:ke,update:Fe,_id:F,_setNext:function(Ne){b=Ne}};function G(){var Ne;return h&&Ve(h[Qf])&&(Ne=h[Qf]()),Ne||(Ne=Ca(V,m,x)),Ne}s(G,"_getTelCtx");function X(Ne,we,Ze,Ue,it){var Qe=!1,Ke=h?h[ca]:Kv,ft=Ne[Lo];return ft||(ft=Ne[Lo]={}),Ne.setNext(b),h&&nm(Ne[Or](),function(){return Ke+":"+Ze},function(){ft[F]=!0;try{var t0=b?b._id:N0;t0&&(ft[t0]=!1),Qe=we(Ne)}catch(Ir){var Z0=b?ft[b._id]:!0;Z0&&(Qe=!0),(!b||!Z0)&&Ot(Ne[ko](),1,73,"Plugin ["+Ke+"] failed during "+Ze+" - "+kt(Ir)+", run flags: "+kt(ft))}},Ue,it),Qe}s(X,"_processChain");function ue(Ne,we){we=we||G();function Ze(Ue){if(!h||!A)return!1;var it=Sl(h);return it[Ro]||it[$n]?!1:(D&&h[D1](b),h[Ki](Ne,Ue),!0)}s(Ze,"_callProcessTelemetry"),X(we,Ze,"processTelemetry",function(){return{item:Ne}},!Ne.sync)||we[jn](Ne)}s(ue,"_processTelemetry");function ke(Ne,we){function Ze(){var Ue=!1;if(h){var it=Sl(h),Qe=h[Or]||it[Or];h&&(!Qe||Qe===Ne.core())&&!it[Ro]&&(it[Or]=null,it[Ro]=!0,it[$s]=!1,h[Ro]&&h[Ro](Ne,we)===!0&&(Ue=!0))}return Ue}s(Ze,"_callTeardown"),X(Ne,Ze,"unload",function(){},we[Ef])||Ne[jn](we)}s(ke,"_unloadPlugin");function Fe(Ne,we){function Ze(){var Ue=!1;if(h){var it=Sl(h),Qe=h[Or]||it[Or];h&&(!Qe||Qe===Ne.core())&&!it[Ro]&&h[N1]&&h[N1](Ne,we)===!0&&(Ue=!0)}return Ue}s(Ze,"_callUpdate"),X(Ne,Ze,"update",function(){},!1)||Ne[jn](we)}return s(Fe,"_updatePlugin"),Y(V)}s(om,"createTelemetryPluginProxy");function q4(){var h=[];function m(b){b&&h[nr](b)}s(m,"_addHandler");function x(b,A){Xt(h,function(D){try{D(b,A)}catch(F){Ot(b[ko](),2,73,"Unexpected error calling unload handler - "+kt(F))}}),h=[]}return s(x,"_runHandlers"),{add:m,run:x}}s(q4,"createUnloadHandlerContainer");function am(){var h=[];function m(b){var A=h;h=[],Xt(A,function(D){try{(D.rm||D.remove).call(D)}catch(F){Ot(b,2,73,"Unloading:"+kt(F))}})}s(m,"_doUnload");function x(b){b&&ia(h,b)}return s(x,"_addHook"),{run:m,add:x}}s(am,"createUnloadHookContainer");var j4,Ta="getPlugin",Wv=(j4={},j4[pl]={isVal:l4,v:{}},j4),$4=function(){function h(){var m=this,x,b,A,D,F;X(),di(h,m,function(ue){ue[A1]=function(ke,Fe,Ne,we){G(ke,Fe,we),x=!0},ue[Ro]=function(ke,Fe){var Ne,we=ue[Or];if(!we||ke&&we!==ke[Or]())return;var Ze,Ue=!1,it=ke||Es(null,we,A&&A[Ta]?A[Ta]():A),Qe=Fe||(Ne={reason:0},Ne[Ef]=!1,Ne);function Ke(){Ue||(Ue=!0,D.run(it,Fe),F.run(it[ko]()),Ze===!0&&it[jn](Qe),X())}return s(Ke,"_unloadCallback"),!ue[e5]||ue[e5](it,Qe,Ke)!==!0?Ke():Ze=!0,Ze},ue[N1]=function(ke,Fe){var Ne=ue[Or];if(!Ne||ke&&Ne!==ke[Or]())return;var we,Ze=!1,Ue=ke||Bo(null,Ne,A&&A[Ta]?A[Ta]():A),it=Fe||{reason:0};function Qe(){Ze||(Ze=!0,G(Ue.getCfg(),Ue.core(),Ue[hi]()))}return s(Qe,"_updateCallback"),!ue._doUpdate||ue._doUpdate(Ue,it,Qe)!==!0?Qe():we=!0,we},Lf(ue,"_addUnloadCb",function(){return D},"add"),Lf(ue,"_addHook",function(){return F},"add"),rr(ue,"_unloadHooks",{g:function(){return F}})}),m[ko]=function(ue){return V(ue)[ko]()},m[$s]=function(){return x},m.setInitialized=function(ue){x=ue},m[D1]=function(ue){A=ue},m[jn]=function(ue,ke){ke?ke[jn](ue):A&&Ve(A[Ki])&&A[Ki](ue,null)},m._getTelCtx=V;function V(ue){ue===void 0&&(ue=null);var ke=ue;if(!ke){var Fe=b||Ca(null,{},m[Or]);A&&A[Ta]?ke=Fe[xs](null,A[Ta]):ke=Fe[xs](null,A)}return ke}s(V,"_getTelCtx");function G(ue,ke,Fe){Cn(ue,Wv,Z1(ke)),!Fe&&ke&&(Fe=ke[J2]()[hi]());var Ne=A;A&&A[Ta]&&(Ne=A[Ta]()),m[Or]=ke,b=Ca(Fe,ue,ke,Ne)}s(G,"_setDefaults");function X(){x=!1,m[Or]=null,b=null,A=null,F=am(),D=q4()}s(X,"_initDefaults")}return s(h,"BaseTelemetryPlugin"),h.__ieDyn=1,h}();function Gv(h,m,x){var b={id:m,fn:x};ia(h,b);var A={remove:function(){Xt(h,function(D,F){if(D.id===b.id)return h[cl](F,1),-1})}};return A}s(Gv,"_addInitializer");function Yv(h,m,x){for(var b=!1,A=h[x0],D=0;D<A;++D){var F=h[D];if(F)try{if(F.fn[bf](null,[m])===!1){b=!0;break}}catch(V){Ot(x,2,64,"Telemetry initializer failed: "+Vn(V),{exception:kt(V)},!0)}}return!b}s(Yv,"_runInitializers");var Jv=function(h){T1(m,h);function m(){var x=h.call(this)||this;x.identifier="TelemetryInitializerPlugin",x.priority=199;var b,A;D(),di(m,x,function(F,V){F.addTelemetryInitializer=function(G){return Gv(A,b++,G)},F[Ki]=function(G,X){Yv(A,G,X?X[ko]():F[ko]())&&F[jn](G,X)},F[e5]=function(){D()}});function D(){b=0,A=[]}return s(D,"_initDefaults"),x}return s(m,"TelemetryInitializerPlugin"),m.__ieDyn=1,m}($4),Ea,v="Plugins must provide initialize method",E="_notificationManager",w="SDK is still unloading...",R="SDK is not initialized",z=Jt((Ea={cookieCfg:{}},Ea[Nf]={rdOnly:!0,ref:!0,v:[]},Ea[gl]={rdOnly:!0,ref:!0,v:[]},Ea[pl]={ref:!0,v:{}},Ea[n4]=zi,Ea.loggingLevelConsole=0,Ea.diagnosticLogInterval=zi,Ea));function ne(h,m){return new O4(m)}s(ne,"_createPerfManager");function me(h,m,x){var b,A=[],D=[],F={};return Xt(x,function(V){(le(V)||le(V[A1]))&&J0(v);var G=V[Df],X=V[ca];V&&G&&(le(F[G])?F[G]=X:Gf(h,"Two extensions have same priority #"+G+" - "+F[G]+", "+X)),!G||G<m?A[nr](V):D[nr](V)}),b={},b[Or]=A,b[gl]=D,b}s(me,"_validateExtensions");function Se(h,m){var x=!1;return Xt(m,function(b){if(b===h)return x=!0,-1}),x}s(Se,"_isPluginPresent");function Le(h,m,x,b){x&&vt(x,function(A,D){b&&ui(D)&&ui(m[A])&&Le(h,m[A],D,b),b&&ui(D)&&ui(m[A])?Le(h,m[A],D,b):h.set(m,A,D)})}s(Le,"_deepMergeConfig");function Ge(h,m){var x=null,b=-1;return Xt(h,function(A,D){if(A.w===m)return x=A,b=D,-1}),{i:b,l:x}}s(Ge,"_findWatcher");function ht(h,m){var x=Ge(h,m).l;return x||(x={w:m,rm:function(){var b=Ge(h,m);b.i!==-1&&h[cl](b.i,1)}},h[nr](x)),x}s(ht,"_addDelayedCfgListener");function a0(h,m,x){Xt(m,function(b){var A=Vf(h,b.w,x);delete b.w,b.rm=function(){A.rm()}})}s(a0,"_registerDelayedCfgListener");var i0=function(){function h(){var m,x,b,A,D,F,V,G,X,ue,ke,Fe,Ne,we,Ze,Ue,it,Qe,Ke,ft,t0,Z0,Ir,mr,wn,Qr,lh,ac;di(h,this,function(pt){lc(),pt._getDbgPlgTargets=function(){return[Ir]},pt[$s]=function(){return x},pt[A1]=function($e,Ct,r0,Kt){Ne&&J0(w),pt[$s]()&&J0("Core cannot be initialized more than once"),m=Cn($e,z,r0||pt[Br],!1),$e=m.cfg,Dl(m[Po](function(M0){t0=M0.cfg.instrumentationKey;var Zr=M0.ref(M0.cfg,pl);vt(Zr,function(pn){M0.ref(Zr,pn)}),le(t0)&&J0("Please provide instrumentation key")})),D=Kt,Ix(),Ax(),pt[Br]=r0;var Gt=$e[Nf];if(ue=[],ue[nr].apply(ue,_6(_6([],Ct,!1),Gt)),ke=$e[gl],Js(null),(!Fe||Fe[x0]===0)&&J0("No "+gl+" available"),ke&&ke[x0]>1){var fr=pt[P1]("TeeChannelController");(!fr||!fr.plugin)&&Ot(b,1,28,"TeeChannel required")}a0($e,Z0,b),Z0=null,x=!0,pt.releaseQueue(),pt[C6]()},pt.getChannels=function(){var $e=[];return Fe&&Xt(Fe,function(Ct){$e[nr](Ct)}),Y($e)},pt.track=function($e){nm(pt[q1](),function(){return"AppInsightsCore:track"},function(){$e===null&&(ch($e),J0("Invalid telemetry item")),!$e[ua]&&le($e[ua])&&(ch($e),J0("telemetry name required")),$e.iKey=$e.iKey||t0,$e[Cf]=$e[Cf]||j1(new Date),$e.ver=$e.ver||"4.0",!Ne&&pt[$s]()?Nl()[jn]($e):A[nr]($e)},function(){return{item:$e}},!$e.sync)},pt[J2]=Nl,pt[Hi]=function(){return D||(D=new Uv(m.cfg),pt[E]=D),D},pt[R1]=function($e){pt[Hi]()[R1]($e)},pt[k1]=function($e){D&&D[k1]($e)},pt.getCookieMgr=function(){return G||(G=N4(m.cfg,pt[Br])),G},pt.setCookieMgr=function($e){G!==$e&&(zf(G,!1),G=$e)},pt[q1]=function(){return!F&&!V&&Dl(m[Po](function($e){if($e.cfg.enablePerfMgr){var Ct=$e.cfg[n4];Ve(Ct)&&(V=Ct(pt,pt[Hi]()))}})),F||V||ru()},pt.setPerfMgr=function($e){F=$e},pt.eventCnt=function(){return A[x0]},pt.releaseQueue=function(){if(x&&A[x0]>0){var $e=A;A=[],Xt($e,function(Ct){Nl()[jn](Ct)})}},pt[C6]=function($e){return Ze=$e||null,ac=!1,Qr&&Qr[ul](),Uo(!0)};function Uo($e){if((!Qr||!Qr[dl])&&!ac){var Ct=$e||b&&b.queue[x0]>0;Ct&&(lh||(lh=!0,Dl(m[Po](function(r0){var Kt=r0.cfg.diagnosticLogInterval;(!Kt||!(Kt>0))&&(Kt=1e4);var Gt=!1;Qr&&(Gt=Qr[dl],Qr[ul]()),Qr=p6(Eu,Kt),Qr.unref(),Qr[dl]=Gt}))),Qr[dl]=!0)}return Qr}s(Uo,"_startLogPoller"),pt[Tf]=function(){ac=!0,Qr&&Qr[ul](),Eu()},c4(pt,function(){return we},["addTelemetryInitializer"]),pt[Vi]=function($e,Ct,r0){var Kt;$e===void 0&&($e=!0),x||J0(R),Ne&&J0(w);var Gt=(Kt={reason:50},Kt[Ef]=$e,Kt.flushComplete=!1,Kt),fr;$e&&!Ct&&(fr=kf(function(pn){Ct=pn}));var M0=Es(rt(),pt);M0[Qd](function(){Qe.run(pt[Br]),V6([G,D,b],$e,function(){lc(),Ct&&Ct(Gt)})},pt);function Zr(pn){Gt.flushComplete=pn,Ne=!0,it.run(M0,Gt),pt[Tf](),M0[jn](Gt)}return s(Zr,"_doUnload"),Eu(),fh($e,Zr,6,r0),fr},pt[P1]=B5,pt.addPlugin=function($e,Ct,r0,Kt){if(!$e){Kt&&Kt(!1),Rm(v);return}var Gt=B5($e[ca]);if(Gt&&!Ct){Kt&&Kt(!1),Rm("Plugin ["+$e[ca]+"] is already loaded!");return}var fr={reason:16};function M0(Ji){ue[nr]($e),fr.added=[$e],Js(fr),Kt&&Kt(!0)}if(s(M0,"_addPlugin"),Gt){var Zr=[Gt.plugin],pn={reason:2,isAsync:!!r0};Am(Zr,pn,function(Ji){Ji?(fr.removed=Zr,fr.reason|=32,M0()):Kt&&Kt(!1)})}else M0()},pt.updateCfg=function($e,Ct){Ct===void 0&&(Ct=!0);var r0;if(pt[$s]()){r0={reason:1,cfg:m.cfg,oldCfg:d6({},m.cfg),newConfig:d6({},$e),merge:Ct},$e=r0.newConfig;var Kt=m.cfg;$e[Nf]=Kt[Nf],$e[gl]=Kt[gl]}m._block(function(Gt){var fr=Gt.cfg;Le(Gt,fr,$e,Ct),Ct||vt(fr,function(M0){H($e,M0)||Gt.set(fr,M0,zi)}),Gt[_f](fr,z)},!0),m[Xd](),r0&&Pm(r0)},pt.evtNamespace=function(){return Ue},pt.flush=fh,pt.getTraceCtx=function($e){return ft||(ft=zv()),ft},pt.setTraceCtx=function($e){ft=$e||null},pt.addUnloadHook=Dl,Lf(pt,"addUnloadCb",function(){return it},"add"),pt.onCfgChange=function($e){var Ct;return x?Ct=Vf(m.cfg,$e,pt[Br]):Ct=ht(Z0,$e),{rm:function(){Ct.rm()}}},pt.getWParam=function(){return N2()||m.cfg.enableWParam?0:-1};function Tu(){var $e={};mr=[];var Ct=s(function(r0){r0&&Xt(r0,function(Kt){if(Kt[ca]&&Kt[T6]&&!$e[Kt.identifier]){var Gt=Kt[ca]+"="+Kt[T6];mr[nr](Gt),$e[Kt.identifier]=Kt}})},"_addPluginVersions");Ct(Fe),ke&&Xt(ke,function(r0){Ct(r0)}),Ct(ue)}s(Tu,"_setPluginVersions");function lc(){x=!1,m=Cn({},z,pt[Br]),m.cfg[E6]=1,rr(pt,"config",{g:function(){return m.cfg},s:function(Ct){pt.updateCfg(Ct,!1)}}),rr(pt,"pluginVersionStringArr",{g:function(){return mr||Tu(),mr}}),rr(pt,"pluginVersionString",{g:function(){return wn||(mr||Tu(),wn=mr.join(";")),wn||N0}}),rr(pt,"logger",{g:function(){return b||(b=new x5(m.cfg),m[Br]=b),b},s:function(Ct){m[Br]=Ct,b!==Ct&&(zf(b,!1),b=Ct)}}),pt[Br]=new x5(m.cfg),Ir=[];var $e=pt.config[Nf]||[];$e.splice(0,$e[x0]),ia($e,Ir),we=new Jv,A=[],zf(D,!1),D=null,F=null,V=null,zf(G,!1),G=null,X=null,ue=[],ke=null,Fe=null,Ne=!1,Ze=null,Ue=Gi("AIBaseCore",!0),it=q4(),ft=null,t0=null,Qe=am(),Z0=[],wn=null,mr=null,ac=!1}s(lc,"_initDefaults");function Nl(){var $e=Ca(rt(),m.cfg,pt);return $e[Qd](Uo),$e}s(Nl,"_createTelCtx");function Js($e){var Ct=me(pt[Br],z6,ue);X=null,wn=null,mr=null,Fe=(ke||[])[0]||[],Fe=U4(ia(Fe,Ct[gl]));var r0=ia(U4(Ct[Or]),Fe);Ir=Y(r0);var Kt=pt.config[Nf]||[];Kt.splice(0,Kt[x0]),ia(Kt,Ir);var Gt=Nl();Fe&&Fe[x0]>0&&sm(Gt[xs](Fe),r0),sm(Gt,r0),$e&&Pm($e)}s(Js,"_initPluginChain");function B5($e){var Ct=null,r0=null,Kt=[];return Xt(Ir,function(Gt){if(Gt[ca]===$e&&Gt!==we)return r0=Gt,-1;Gt.getChannel&&Kt[nr](Gt)}),!r0&&Kt[x0]>0&&Xt(Kt,function(Gt){if(r0=Gt.getChannel($e),!r0)return-1}),r0&&(Ct={plugin:r0,setEnabled:function(Gt){Sl(r0)[$n]=!Gt},isEnabled:function(){var Gt=Sl(r0);return!Gt[Ro]&&!Gt[$n]},remove:function(Gt,fr){var M0;Gt===void 0&&(Gt=!0);var Zr=[r0],pn=(M0={reason:1},M0[Ef]=Gt,M0);Am(Zr,pn,function(Ji){Ji&&Js({reason:32,removed:Zr}),fr&&fr(Ji)})}}),Ct}s(B5,"_getPlugin");function rt(){if(!X){var $e=(Ir||[]).slice();$i($e,we)===-1&&$e[nr](we),X=Ss(U4($e),m.cfg,pt)}return X}s(rt,"_getPluginChain");function Am($e,Ct,r0){if($e&&$e[x0]>0){var Kt=Ss($e,m.cfg,pt),Gt=Es(Kt,pt);Gt[Qd](function(){var fr=!1,M0=[];Xt(ue,function(pn,Ji){Se(pn,$e)?fr=!0:M0[nr](pn)}),ue=M0,wn=null,mr=null;var Zr=[];ke&&(Xt(ke,function(pn,Ji){var fc=[];Xt(pn,function(km){Se(km,$e)?fr=!0:fc[nr](km)}),Zr[nr](fc)}),ke=Zr),r0&&r0(fr),Uo()}),Gt[jn](Ct)}else r0(!1)}s(Am,"_removePlugins");function Eu(){if(b&&b.queue){var $e=b.queue.slice(0);b.queue[x0]=0,Xt($e,function(Ct){var r0,Kt=(r0={},r0[ua]=Ze||"InternalMessageId: "+Ct[Zd],r0.iKey=t0,r0[Cf]=j1(new Date),r0.baseType=Wf.dataType,r0.baseData={message:Ct[hl]},r0);pt.track(Kt)})}}s(Eu,"_flushInternalLogs");function fh($e,Ct,r0,Kt){var Gt=1,fr=!1,M0=null;Kt=Kt||5e3;function Zr(){Gt--,fr&&Gt===0&&(M0&&M0[ul](),M0=null,Ct&&Ct(fr),Ct=null)}if(s(Zr,"doCallback"),Fe&&Fe[x0]>0){var pn=Nl()[xs](Fe);pn.iterate(function(Ji){if(Ji.flush){Gt++;var fc=!1;Ji.flush($e,function(){fc=!0,Zr()},r0)||fc||($e&&M0==null?M0=js(function(){M0=null,Zr()},Kt):Zr())}})}return fr=!0,Zr(),!0}s(fh,"_flushChannels");function Ix(){!D&&pt[Hi](),Dl(m[Po](function($e){var Ct=$e.cfg.disableDbgExt;Ct===!0&&Ke&&(D[k1](Ke),Ke=null),D&&!Ke&&Ct!==!0&&(Ke=Dv($e.cfg),D[R1](Ke))}))}s(Ix,"_initDebugListener");function Ax(){Dl(m[Po](function($e){var Ct=$e.cfg.enablePerfMgr;!Ct&&V&&(V=null),Ct&&N6($e.cfg,n4,ne)}))}s(Ax,"_initPerfManager");function Pm($e){var Ct=Bo(rt(),pt);Ct[Qd](Uo),(!pt._updateHook||pt._updateHook(Ct,$e)!==!0)&&Ct[jn]($e)}s(Pm,"_doUpdate");function Rm($e){var Ct=pt[Br];Ct?(Ot(Ct,2,73,$e),Uo()):J0($e)}s(Rm,"_logOrThrowError");function ch($e){var Ct=pt[Hi]();Ct&&Ct[ma]([$e],2)}s(ch,"_notifyInvalidEvent");function Dl($e){Qe.add($e)}s(Dl,"_addUnloadHook")})}return s(h,"AppInsightsCore"),h.__ieDyn=1,h}(),Zt="on",At="attachEvent",_0="addEventListener",zt="detachEvent",F0="removeEventListener",m0="events";Gi("aiEvtPageHide"),Gi("aiEvtPageShow");var e0=/\.[\.]+/g,Sr=/[\.]+$/,Zf=1,Sa=Ws("events"),lm=/^([^.]*)(?:\.(.+)|)/;function H4(h){return h&&h[ml]?h[ml](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,N0):h}s(H4,"_normalizeNamespace");function V4(h,m){var x;if(m){var b=N0;W(m)?(b=N0,Xt(m,function(D){D=H4(D),D&&(D[0]!=="."&&(D="."+D),b+=D)})):b=H4(m),b&&(b[0]!=="."&&(b="."+b),h=(h||N0)+b)}var A=lm.exec(h||N0)||[];return x={},x[Hs]=A[1],x.ns=(A[2]||N0).replace(e0,".").replace(Sr,N0)[wf](".").sort().join("."),x}s(V4,"_getEvtNamespace");function fm(h,m,x){x===void 0&&(x=!0);var b=Sa.get(h,m0,{},x),A=b[m];return A||(A=b[m]=[]),A}s(fm,"_getRegisteredEvents");function E5(h,m,x,b){h&&m&&m[Hs]&&(h[F0]?h[F0](m[Hs],x,b):h[zt]&&h[zt](Zt+m[Hs],x))}s(E5,"_doDetach");function cm(h,m,x,b){var A=!1;return h&&m&&m[Hs]&&x&&(h[_0]?(h[_0](m[Hs],x,b),A=!0):h[At]&&(h[At](Zt+m[Hs],x),A=!0)),A}s(cm,"_doAttach");function z4(h,m,x,b){for(var A=m[x0];A--;){var D=m[A];D&&(!x.ns||x.ns===D.evtName.ns)&&(!b||b(D))&&(E5(h,D.evtName,D[X2],D.capture),m[cl](A,1))}}s(z4,"_doUnregister");function st(h,m,x){if(m[Hs])z4(h,fm(h,m[Hs]),m,x);else{var b=Sa.get(h,m0,{});vt(b,function(A,D){z4(h,D,m,x)}),mn(b)[x0]===0&&Sa.kill(h,m0)}}s(st,"_unregisterEvents");function Nt(h,m){var x;return m?(W(m)?x=[h].concat(m):x=[h,m],x=V4("xx",x).ns[wf](".")):x=h,x}s(Nt,"mergeEvtNamespace");function l0(h,m,x,b,A){var D;A===void 0&&(A=!1);var F=!1;if(h)try{var V=V4(m,b);if(F=cm(h,V,x,A),F&&Sa.accept(h)){var G=(D={guid:Zf++,evtName:V},D[X2]=x,D.capture=A,D);fm(h,V.type)[nr](G)}}catch{}return F}s(l0,"eventOn");function hr(h,m,x,b,A){if(A===void 0&&(A=!1),h)try{var D=V4(m,b),F=!1;st(h,D,function(V){return D.ns&&!x||V[X2]===x?(F=!0,!0):!1}),F||E5(h,D,x,A)}catch{}}s(hr,"eventOff");var Kr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Mr="sampleRate",Ur="ProcessLegacy",wl="http.method",Oo="https://dc.services.visualstudio.com",Fo="/v2/track",wa="not_specified",ec=Y2({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),nu="split",D0="length",um="toLowerCase",iu="ingestionendpoint",S5="toString",Xv="push",mW="removeItem",tc="name",su="message",gW="count",Qv="stringify",Zv="pathname",w5="exceptions",Mo="parsedStack",Ia="properties",Il="measurements",I5="sizeInBytes",Al="typeName",K4="severityLevel",ex="problemGroup",tx="isManual",jR="CreateFromInterface",A5="assembly",ou="fileName",dm="hasFullStack",hm="level",P5="method",W4="line",mm="duration",$R="receivedResponse";function HR(h,m,x){var b=m[D0],A=pW(h,m);if(A[D0]!==b){for(var D=0,F=A;x[F]!==void 0;)D++,F=M(A,0,147)+xW(D);A=F}return A}s(HR,"dataSanitizeKeyAndAddUniqueness");function pW(h,m){var x;return m&&(m=zr(Wt(m)),m[D0]>150&&(x=M(m,0,150),Ot(h,2,57,"name is too long.  It has been truncated to 150 characters.",{name:m},!0))),x||m}s(pW,"dataSanitizeKey");function gi(h,m,x){x===void 0&&(x=1024);var b;return m&&(x=x||1024,m=zr(Wt(m)),m[D0]>x&&(b=M(m,0,x),Ot(h,2,61,"string value is too long. It has been truncated to "+x+" characters.",{value:m},!0))),b||m}s(gi,"dataSanitizeString");function rx(h,m){return zR(h,m,2048,66)}s(rx,"dataSanitizeUrl");function VR(h,m){var x;return m&&m[D0]>32768&&(x=M(m,0,32768),Ot(h,2,56,"message is too long, it has been truncated to 32768 characters.",{message:m},!0)),x||m}s(VR,"dataSanitizeMessage");function yW(h,m){var x;if(m){var b=""+m;b[D0]>32768&&(x=M(b,0,32768),Ot(h,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:m},!0))}return x||m}s(yW,"dataSanitizeException");function au(h,m){if(m){var x={};vt(m,function(b,A){if(n0(A)&&Pi())try{A=zs()[Qv](A)}catch(D){Ot(h,2,49,"custom property is not valid",{exception:D},!0)}A=gi(h,A,8192),b=HR(h,b,x),x[b]=A}),m=x}return m}s(au,"dataSanitizeProperties");function lu(h,m){if(m){var x={};vt(m,function(b,A){b=HR(h,b,x),x[b]=A}),m=x}return m}s(lu,"dataSanitizeMeasurements");function vW(h,m){return m&&zR(h,m,128,69)[S5]()}s(vW,"dataSanitizeId");function zR(h,m,x,b){var A;return m&&(m=zr(Wt(m)),m[D0]>x&&(A=M(m,0,x),Ot(h,2,b,"input is too long, it has been truncated to "+x+" characters.",{data:m},!0))),A||m}s(zR,"dataSanitizeInput");function xW(h){var m="00"+h;return se(m,m[D0]-3)}s(xW,"dsPadNumber");var KR=sl()||{},WR=0,_W=[null,null,null,null,null];function bW(h){var m=WR,x=_W,b=x[m];return KR.createElement?x[m]||(b=x[m]=KR.createElement("a")):b={host:CW(h,!0)},b.href=h,m++,m>=x[D0]&&(m=0),WR=m,b}s(bW,"urlParseUrl");function CW(h,m){var x=TW(h,m)||"";if(x){var b=x.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[D0]>3&&dt(b[2])&&b[2][D0]>0)return b[2]+(b[3]||"")}return x}s(CW,"urlParseHost");function TW(h,m){var x=null;if(h){var b=h.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[D0]>2&&dt(b[2])&&b[2][D0]>0&&(x=b[2]||"",m&&b[D0]>2)){var A=(b[1]||"")[um](),D=b[3]||"";(A==="http"&&D===":80"||A==="https"&&D===":443")&&(D=""),x+=D}}return x}s(TW,"urlParseFullHost");var EW=[Oo+Fo,"https://breeze.aimon.applicationinsights.io"+Fo,"https://dc-int.services.visualstudio.com"+Fo];function gm(h){return $i(EW,h[um]())!==-1}s(gm,"isInternalApplicationInsightsEndpoint");function SW(h,m,x,b){var A,D=b,F=b;if(m&&m[D0]>0){var V=bW(m);if(A=V.host,!D)if(V[Zv]!=null){var G=V.pathname[D0]===0?"/":V[Zv];G.charAt(0)!=="/"&&(G="/"+G),F=V[Zv],D=gi(h,x?x+" "+G:G)}else D=gi(h,m)}else A=b,D=b;return{target:A,name:D,data:F}}s(SW,"AjaxHelperParseDependencyPath");var nx=Yd({LocalStorage:0,SessionStorage:1}),G4=void 0,GR="";function YR(h){try{if(le(ms()))return null;var m=new Date()[S5](),x=Yr(h===nx.LocalStorage?"localStorage":"sessionStorage"),b=GR+m;x.setItem(b,m);var A=x.getItem(b)!==m;if(x[mW](b),!A)return x}catch{}return null}s(YR,"_getVerifiedStorageObject");function JR(){return XR()?YR(nx.SessionStorage):null}s(JR,"_getSessionStorageObject");function wW(h){GR=h||""}s(wW,"utlSetStoragePrefix");function XR(h){return(h||G4===void 0)&&(G4=!!YR(nx.SessionStorage)),G4}s(XR,"utlCanUseSessionStorage");function IW(h,m){var x=JR();if(x!==null)try{return x.getItem(m)}catch(b){G4=!1,Ot(h,2,2,"Browser failed read of session storage. "+Vn(b),{exception:kt(b)})}return null}s(IW,"utlGetSessionStorage");function AW(h,m,x){var b=JR();if(b!==null)try{return b.setItem(m,x),!0}catch(A){G4=!1,Ot(h,2,4,"Browser failed write to session storage. "+Vn(A),{exception:kt(A)})}return!1}s(AW,"utlSetSessionStorage");var PW=";",RW="=";function kW(h){if(!h)return{};var m=h[nu](PW),x=mv(m,function(A,D){var F=D[nu](RW);if(F[D0]===2){var V=F[0][um](),G=F[1];A[V]=G}return A},{});if(mn(x)[D0]>0){if(x.endpointsuffix){var b=x.location?x.location+".":"";x[iu]=x[iu]||"https://"+b+"dc."+x.endpointsuffix}x[iu]=x[iu]||Oo,Fd(x[iu],"/")&&(x[iu]=x[iu].slice(0,-1))}return x}s(kW,"parseConnectionString");var NW=function(){function h(m,x,b){var A=this,D=this;D.ver=1,D.sampleRate=100,D.tags={},D[tc]=gi(m,b)||wa,D.data=x,D.time=j1(new Date),D.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return A.sampleRate===100?4:1},tags:1,data:1}}return s(h,"Envelope"),h}(),R5=function(){function h(m,x,b,A){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var D=this;D.ver=2,D[tc]=gi(m,x)||wa,D[Ia]=au(m,b),D[Il]=lu(m,A)}return s(h,"Event"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Event",h.dataType="EventData",h}(),DW="<no_method>",k5="error",Yi="stack",ix="stackDetails",QR="errorSrc",sx="message",ZR="description";function ox(h,m){var x=h;return x&&!dt(x)&&(JSON&&JSON[Qv]?(x=JSON[Qv](h),m&&(!x||x==="{}")&&(Ve(h[S5])?x=h[S5]():x=""+h)):x=""+h+" - (Missing JSON.stringify)"),x||""}s(ox,"_stringify");function ek(h,m){var x=h;return h&&(x&&!dt(x)&&(x=h[sx]||h[ZR]||x),x&&!dt(x)&&(x=ox(x,!0)),h.filename&&(x=x+" @"+(h.filename||"")+":"+(h.lineno||"?")+":"+(h.colno||"?"))),m&&m!=="String"&&m!=="Object"&&m!=="Error"&&gf(x||"",m)===-1&&(x=m+": "+x),x||""}s(ek,"_formatMessage");function LW(h){try{if(n0(h))return"hasFullStack"in h&&"typeName"in h}catch{}return!1}s(LW,"_isExceptionDetailsInternal");function BW(h){try{if(n0(h))return"ver"in h&&"exceptions"in h&&"properties"in h}catch{}return!1}s(BW,"_isExceptionInternal");function tk(h){return h&&h.src&&dt(h.src)&&h.obj&&W(h.obj)}s(tk,"_isStackDetails");function fu(h){var m=h||"";dt(m)||(dt(m[Yi])?m=m[Yi]:m=""+m);var x=m[nu](`
`);return{src:m,obj:x}}s(fu,"_convertStackObj");function OW(h){for(var m=[],x=h[nu](`
`),b=0;b<x[D0];b++){var A=x[b];x[b+1]&&(A+="@"+x[b+1],b++),m[Xv](A)}return{src:h,obj:m}}s(OW,"_getOperaStack");function rk(h){var m=null;if(h)try{if(h[Yi])m=fu(h[Yi]);else if(h[k5]&&h[k5][Yi])m=fu(h[k5][Yi]);else if(h.exception&&h.exception[Yi])m=fu(h.exception[Yi]);else if(tk(h))m=h;else if(tk(h[ix]))m=h[ix];else if(Eo()&&Eo().opera&&h[sx])m=OW(h[su]);else if(h.reason&&h.reason[Yi])m=fu(h.reason[Yi]);else if(dt(h))m=fu(h);else{var x=h[sx]||h[ZR]||"";dt(h[QR])&&(x&&(x+=`
`),x+=" from "+h[QR]),x&&(m=fu(x))}}catch(b){m=fu(b)}return m||{src:"",obj:null}}s(rk,"_getStackFromErrorObj");function FW(h){var m="";return h&&(h.obj?Xt(h.obj,function(x){m+=x+`
`}):m=h.src||""),m}s(FW,"_formatStackTrace");function MW(h){var m,x=h.obj;if(x&&x[D0]>0){m=[];var b=0,A=0;Xt(x,function(we){var Ze=we[S5]();if(lx.regex.test(Ze)){var Ue=new lx(Ze,b++);A+=Ue[I5],m[Xv](Ue)}});var D=32*1024;if(A>D)for(var F=0,V=m[D0]-1,G=0,X=F,ue=V;F<V;){var ke=m[F][I5],Fe=m[V][I5];if(G+=ke+Fe,G>D){var Ne=ue-X+1;m.splice(X,Ne);break}X=F,ue=V,F++,V--}}return m}s(MW,"_parseStack");function pm(h){var m="";if(h&&(m=h.typeName||h[tc]||"",!m))try{var x=/function (.{1,200})\(/,b=x.exec(h.constructor[S5]());m=b&&b[D0]>1?b[1]:""}catch{}return m}s(pm,"_getErrorType");function ax(h){if(h)try{if(!dt(h)){var m=pm(h),x=ox(h,!1);return(!x||x==="{}")&&(h[k5]&&(h=h[k5],m=pm(h)),x=ox(h,!0)),gf(x,m)!==0&&m!=="String"?m+":"+x:x}}catch{}return""+(h||"")}s(ax,"_formatErrorCode");var ym=function(){function h(m,x,b,A,D,F){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var V=this;V.ver=2,BW(x)?(V[w5]=x[w5]||[],V[Ia]=x[Ia],V[Il]=x[Il],x[K4]&&(V[K4]=x[K4]),x.id&&(V.id=x.id,x[Ia].id=x.id),x[ex]&&(V[ex]=x[ex]),le(x[tx])||(V[tx]=x[tx])):(b||(b={}),F&&(b.id=F),V[w5]=[new nk(m,x,b)],V[Ia]=au(m,b),V[Il]=lu(m,A),D&&(V[K4]=D),F&&(V.id=F))}return s(h,"Exception"),h.CreateAutoException=function(m,x,b,A,D,F,V,G){var X,ue=pm(D||F||m);return X={},X[su]=ek(m,ue),X.url=x,X.lineNumber=b,X.columnNumber=A,X.error=ax(D||F||m),X.evt=ax(F||m),X[Al]=ue,X.stackDetails=rk(V||D||F),X.errorSrc=G,X},h.CreateFromInterface=function(m,x,b,A){var D=x[w5]&&o1(x[w5],function(V){return nk[jR](m,V)}),F=new h(m,fa(fa({},x),{exceptions:D}),b,A);return F},h.prototype.toInterface=function(){var m,x=this,b=x.exceptions,A=x.properties,D=x.measurements,F=x.severityLevel,V=x.problemGroup,G=x.id,X=x.isManual,ue=b instanceof Array&&o1(b,function(ke){return ke.toInterface()})||void 0;return m={ver:"4.0"},m[w5]=ue,m.severityLevel=F,m.properties=A,m.measurements=D,m.problemGroup=V,m.id=G,m.isManual=X,m},h.CreateSimpleException=function(m,x,b,A,D,F){var V;return{exceptions:[(V={},V[dm]=!0,V.message=m,V.stack=D,V.typeName=x,V)]}},h.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",h.dataType="ExceptionData",h.formatError=ax,h}(),nk=function(){function h(m,x,b){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var A=this;if(LW(x))A[Al]=x[Al],A[su]=x[su],A[Yi]=x[Yi],A[Mo]=x[Mo]||[],A[dm]=x[dm];else{var D=x,F=D&&D.evt;He(D)||(D=D[k5]||F||D),A[Al]=gi(m,pm(D))||wa,A[su]=VR(m,ek(x||D,A[Al]))||wa;var V=x[ix]||rk(x);A[Mo]=MW(V),W(A[Mo])&&o1(A[Mo],function(G){G[A5]=gi(m,G[A5]),G[ou]=gi(m,G[ou])}),A[Yi]=yW(m,FW(V)),A.hasFullStack=W(A.parsedStack)&&A.parsedStack[D0]>0,b&&(b[Al]=b[Al]||A[Al])}}return s(h,"_ExceptionDetails"),h.prototype.toInterface=function(){var m,x=this,b=x[Mo]instanceof Array&&o1(x[Mo],function(D){return D.toInterface()}),A=(m={id:x.id,outerId:x.outerId,typeName:x[Al],message:x[su],hasFullStack:x[dm],stack:x[Yi]},m[Mo]=b||void 0,m);return A},h.CreateFromInterface=function(m,x){var b=x[Mo]instanceof Array&&o1(x[Mo],function(D){return lx[jR](D)})||x[Mo],A=new h(m,fa(fa({},x),{parsedStack:b}));return A},h}(),lx=function(){function h(m,x){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var b=this;if(b[I5]=0,typeof m=="string"){var A=m;b[hm]=x,b[P5]=DW,b[A5]=zr(A),b[ou]="",b[W4]=0;var D=A.match(h.regex);D&&D[D0]>=5&&(b[P5]=zr(D[2])||b[P5],b[ou]=zr(D[4]),b[W4]=parseInt(D[5])||0)}else b[hm]=m[hm],b[P5]=m[P5],b[A5]=m[A5],b[ou]=m[ou],b[W4]=m[W4],b[I5]=0;b.sizeInBytes+=b.method[D0],b.sizeInBytes+=b.fileName[D0],b.sizeInBytes+=b.assembly[D0],b[I5]+=h.baseSize,b.sizeInBytes+=b.level.toString()[D0],b.sizeInBytes+=b.line.toString()[D0]}return s(h,"_StackFrame"),h.CreateFromInterface=function(m){return new h(m,null)},h.prototype.toInterface=function(){var m=this;return{level:m[hm],method:m[P5],assembly:m[A5],fileName:m[ou],line:m[W4]}},h.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,h.baseSize=58,h}(),UW=function(){function h(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(h,"DataPoint"),h}(),Y4=function(){function h(m,x,b,A,D,F,V,G,X){this.aiDataContract={ver:1,metrics:1,properties:0};var ue=this;ue.ver=2;var ke=new UW;ke[gW]=A>0?A:void 0,ke.max=isNaN(F)||F===null?void 0:F,ke.min=isNaN(D)||D===null?void 0:D,ke[tc]=gi(m,x)||wa,ke.value=b,ke.stdDev=isNaN(V)||V===null?void 0:V,ue.metrics=[ke],ue[Ia]=au(m,G),ue[Il]=lu(m,X)}return s(h,"Metric"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",h.dataType="MetricData",h}(),J4="";function ik(h){(isNaN(h)||h<0)&&(h=0),h=Math.round(h);var m=J4+h%1e3,x=J4+Math.floor(h/1e3)%60,b=J4+Math.floor(h/(1e3*60))%60,A=J4+Math.floor(h/(1e3*60*60))%24,D=Math.floor(h/(1e3*60*60*24));return m=m[D0]===1?"00"+m:m[D0]===2?"0"+m:m,x=x[D0]<2?"0"+x:x,b=b[D0]<2?"0"+b:b,A=A[D0]<2?"0"+A:A,(D>0?D+".":J4)+A+":"+b+":"+x+"."+m}s(ik,"msToTimeSpan");var vm=function(){function h(m,x,b,A,D,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var G=this;G.ver=2,G.id=vW(m,V),G.url=rx(m,b),G[tc]=gi(m,x)||wa,isNaN(A)||(G[mm]=ik(A)),G[Ia]=au(m,D),G[Il]=lu(m,F)}return s(h,"PageView"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",h.dataType="PageviewData",h}(),xm=function(){function h(m,x,b,A,D,F,V,G,X,ue,ke,Fe){X===void 0&&(X="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ne=this;Ne.ver=2,Ne.id=x,Ne[mm]=ik(D),Ne.success=F,Ne.resultCode=V+"",Ne.type=gi(m,X);var we=SW(m,b,G,A);Ne.data=rx(m,A)||we.data,Ne.target=gi(m,we.target),ue&&(Ne.target="".concat(Ne.target," | ").concat(ue)),Ne[tc]=gi(m,we[tc]),Ne[Ia]=au(m,ke),Ne[Il]=lu(m,Fe)}return s(h,"RemoteDependencyData"),h.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",h.dataType="RemoteDependencyData",h}(),_m=function(){function h(m,x,b,A,D){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var F=this;F.ver=2,x=x||wa,F[su]=VR(m,x),F[Ia]=au(m,A),F[Il]=lu(m,D),b&&(F[K4]=b)}return s(h,"Trace"),h.envelopeType="Microsoft.ApplicationInsights.{0}.Message",h.dataType="MessageData",h}(),bm=function(){function h(m,x,b,A,D,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var G=this;G.ver=2,G.url=rx(m,b),G[tc]=gi(m,x)||wa,G[Ia]=au(m,D),G[Il]=lu(m,F),V&&(G.domProcessing=V.domProcessing,G[mm]=V[mm],G.networkConnect=V.networkConnect,G.perfTotal=V.perfTotal,G[$R]=V[$R],G.sentRequest=V.sentRequest)}return s(h,"PageViewPerformance"),h.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",h.dataType="PageviewPerformanceData",h}(),cu=function(){function h(m,x){this.aiDataContract={baseType:1,baseData:1},this.baseType=m,this.baseData=x}return s(h,"Data"),h}(),qW=Yd({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function rc(h){var m="ai."+h+".";return function(x){return m+x}}s(rc,"_aiNameFunc");var X4=rc("application"),gn=rc("device"),Cm=rc("location"),N5=rc("operation"),fx=rc("session"),nc=rc("user"),uu=rc("cloud"),Q4=rc("internal"),sk=function(h){T1(m,h);function m(){return h.call(this)||this}return s(m,"ContextTagKeys"),m}(wv({applicationVersion:X4("ver"),applicationBuild:X4("build"),applicationTypeId:X4("typeId"),applicationId:X4("applicationId"),applicationLayer:X4("layer"),deviceId:gn("id"),deviceIp:gn("ip"),deviceLanguage:gn("language"),deviceLocale:gn("locale"),deviceModel:gn("model"),deviceFriendlyName:gn("friendlyName"),deviceNetwork:gn("network"),deviceNetworkName:gn("networkName"),deviceOEMName:gn("oemName"),deviceOS:gn("os"),deviceOSVersion:gn("osVersion"),deviceRoleInstance:gn("roleInstance"),deviceRoleName:gn("roleName"),deviceScreenResolution:gn("screenResolution"),deviceType:gn("type"),deviceMachineName:gn("machineName"),deviceVMName:gn("vmName"),deviceBrowser:gn("browser"),deviceBrowserVersion:gn("browserVersion"),locationIp:Cm("ip"),locationCountry:Cm("country"),locationProvince:Cm("province"),locationCity:Cm("city"),operationId:N5("id"),operationName:N5("name"),operationParentId:N5("parentId"),operationRootId:N5("rootId"),operationSyntheticSource:N5("syntheticSource"),operationCorrelationVector:N5("correlationVector"),sessionId:fx("id"),sessionIsFirst:fx("isFirst"),sessionIsNew:fx("isNew"),userAccountAcquisitionDate:nc("accountAcquisitionDate"),userAccountId:nc("accountId"),userAgent:nc("userAgent"),userId:nc("id"),userStoreRegion:nc("storeRegion"),userAuthUserId:nc("authUserId"),userAnonymousUserAcquisitionDate:nc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:nc("authUserAcquisitionDate"),cloudName:uu("name"),cloudRole:uu("role"),cloudRoleVer:uu("roleVer"),cloudRoleInstance:uu("roleInstance"),cloudEnvironment:uu("environment"),cloudLocation:uu("location"),cloudDeploymentUnit:uu("deploymentUnit"),internalNodeName:Q4("nodeName"),internalSdkVersion:Q4("sdkVersion"),internalAgentVersion:Q4("agentVersion"),internalSnippet:Q4("snippet"),internalSdkSrc:Q4("sdkSrc")})),Kn=new sk;function ok(h,m){hr(h,null,null,m)}s(ok,"_disableEvents");function jW(h){var m=sl(),x=na(),b=!1,A=[],D=1;x&&!le(x.onLine)&&!x.onLine&&(D=2);var F=0,V=Fe(),G=Nt(Gi("OfflineListener"),h);try{if(ue(Eo())&&(b=!0),m){var X=m.body||m;X.ononline&&ue(X)&&(b=!0)}}catch{b=!1}function ue(Ke){var ft=!1;return Ke&&(ft=l0(Ke,"online",Ze,G),ft&&l0(Ke,"offline",Ue,G)),ft}s(ue,"_enableEvents");function ke(){return V}s(ke,"_isOnline");function Fe(){return!(F===2||D===2)}s(Fe,"calCurrentState");function Ne(){var Ke=Fe();V!==Ke&&(V=Ke,Xt(A,function(ft){var t0={isOnline:V,rState:D,uState:F};try{ft(t0)}catch{}}))}s(Ne,"listnerNoticeCheck");function we(Ke){F=Ke,Ne()}s(we,"setOnlineState");function Ze(){D=1,Ne()}s(Ze,"_setOnline");function Ue(){D=2,Ne()}s(Ue,"_setOffline");function it(){var Ke=Eo();if(Ke&&b){if(ok(Ke,G),m){var ft=m.body||m;ve(ft.ononline)||ok(ft,G)}b=!1}}s(it,"_unload");function Qe(Ke){return A[Xv](Ke),{rm:function(){var ft=A.indexOf(Ke);if(ft>-1)return A.splice(ft,1)}}}return s(Qe,"addListener"),{isOnline:ke,isListening:function(){return b},unload:it,addListener:Qe,setOnlineState:we}}s(jW,"createOfflineListener");var $W="AppInsightsChannelPlugin",du="duration",Wn="tags",cx="deviceType",Tn="data",Pl="name",Z4="traceID",b0="length",eh="stringify",hu="measurements",Aa="dataType",mu="envelopeType",gu="toString",th="_get",pu="enqueue",yu="count",ak="eventsLimitInMem",D5="push",ux="emitLineDelimitedJson",vu="clear",dx="batchPayloads",hx="createNew",L5="markAsSent",rh="clearSent",mx="bufferOverride",gx="BUFFER_KEY",ic="SENT_BUFFER_KEY",nh="concat",ih="MAX_BUFFER_SIZE",px="sendPOST",sh="triggerSend",En="diagLog",oh="_sender",yx="customHeaders",lk="maxBatchSizeInBytes",vx="onunloadDisableBeacon",xx="isBeaconApiDisabled",fk="alwaysUseXhrOverride",ck="enableSessionStorageBuffer",sc="_buffer",uk="onunloadDisableFetch",dk="disableSendBeaconSplit",hk="instrumentationKey",mk="unloadTransports",gk="convertUndefined",pk="maxBatchInterval",Tm="serialize",HW="_xhrReadyStateChange",xu="_onError",_x="_onPartialSuccess",Em="_onSuccess",Sm="itemsAccepted",VW="itemsReceived",bx="baseType",wm="sampleRate",ah="oriPayload",Cx="setRequestHeader",yk="eventsSendRequest",vk="getSamplingScore",zW="getHashCodeScore",Tx="baseType",wr="baseData",Sn="properties",xk="true";function Xr(h,m,x){return ga(h,m,x,wt)}s(Xr,"_setValueIf");function KW(h,m,x){var b=x[Wn]=x[Wn]||{},A=m.ext=m.ext||{},D=m[Wn]=m[Wn]||[],F=A.user;F&&(Xr(b,Kn.userAuthUserId,F.authId),Xr(b,Kn.userId,F.id||F.localId));var V=A.app;V&&Xr(b,Kn.sessionId,V.sesId);var G=A.device;G&&(Xr(b,Kn.deviceId,G.id||G.localId),Xr(b,Kn[cx],G.deviceClass),Xr(b,Kn.deviceIp,G.ip),Xr(b,Kn.deviceModel,G.model),Xr(b,Kn[cx],G[cx]));var X=m.ext.web;if(X){Xr(b,Kn.deviceLanguage,X.browserLang),Xr(b,Kn.deviceBrowserVersion,X.browserVer),Xr(b,Kn.deviceBrowser,X.browser);var ue=x[Tn]=x[Tn]||{},ke=ue[wr]=ue[wr]||{},Fe=ke[Sn]=ke[Sn]||{};Xr(Fe,"domain",X.domain),Xr(Fe,"isManual",X.isManual?xk:null),Xr(Fe,"screenRes",X.screenRes),Xr(Fe,"userConsent",X.userConsent?xk:null)}var Ne=A.os;Ne&&Xr(b,Kn.deviceOS,Ne[Pl]);var we=A.trace;we&&(Xr(b,Kn.operationParentId,we.parentID),Xr(b,Kn.operationName,gi(h,we[Pl])),Xr(b,Kn.operationId,we[Z4]));for(var Ze={},Ue=D[b0]-1;Ue>=0;Ue--){var it=D[Ue];vt(it,function(Ke,ft){Ze[Ke]=ft}),D.splice(Ue,1)}vt(D,function(Ke,ft){Ze[Ke]=ft});var Qe=fa(fa({},b),Ze);Qe[Kn.internalSdkVersion]||(Qe[Kn.internalSdkVersion]=gi(h,"javascript:".concat(WW.Version),64)),x[Wn]=L6(Qe)}s(KW,"_extractPartAExtensions");function oc(h,m,x){le(h)||vt(h,function(b,A){he(A)?x[b]=A:dt(A)?m[b]=A:Pi()&&(m[b]=zs()[eh](A))})}s(oc,"_extractPropsAndMeasurements");function _u(h,m){le(h)||vt(h,function(x,b){h[x]=b||m})}s(_u,"_convertPropsUndefinedToCustomDefinedValue");function bu(h,m,x,b){var A=new NW(h,b,m);Xr(A,"sampleRate",x[Mr]),(x[wr]||{}).startTime&&(A.time=j1(x[wr].startTime)),A.iKey=x.iKey;var D=x.iKey.replace(/-/g,"");return A[Pl]=A[Pl].replace("{0}",D),KW(h,x,A),x[Wn]=x[Wn]||[],L6(A)}s(bu,"_createEnvelope");function Cu(h,m){le(m[wr])&&Ot(h,1,46,"telemetryItem.baseData cannot be null.")}s(Cu,"EnvelopeCreatorInit");var WW={Version:"3.1.0"};function GW(h,m,x){Cu(h,m);var b=m[wr][hu]||{},A=m[wr][Sn]||{};oc(m[Tn],A,b),le(x)||_u(A,x);var D=m[wr];if(le(D))return Gf(h,"Invalid input for dependency data"),null;var F=D[Sn]&&D[Sn][wl]?D[Sn][wl]:"GET",V=new xm(h,D.id,D.target,D[Pl],D[du],D.success,D.responseCode,F,D.type,D.correlationContext,A,b),G=new cu(xm[Aa],V);return bu(h,xm[mu],m,G)}s(GW,"DependencyEnvelopeCreator");function _k(h,m,x){Cu(h,m);var b={},A={};m[Tx]!==R5[Aa]&&(b.baseTypeSource=m[Tx]),m[Tx]===R5[Aa]?(b=m[wr][Sn]||{},A=m[wr][hu]||{}):m[wr]&&oc(m[wr],b,A),oc(m[Tn],b,A),le(x)||_u(b,x);var D=m[wr][Pl],F=new R5(h,D,b,A),V=new cu(R5[Aa],F);return bu(h,R5[mu],m,V)}s(_k,"EventEnvelopeCreator");function YW(h,m,x){Cu(h,m);var b=m[wr][hu]||{},A=m[wr][Sn]||{};oc(m[Tn],A,b),le(x)||_u(A,x);var D=m[wr],F=ym.CreateFromInterface(h,D,A,b),V=new cu(ym[Aa],F);return bu(h,ym[mu],m,V)}s(YW,"ExceptionEnvelopeCreator");function JW(h,m,x){Cu(h,m);var b=m[wr],A=b[Sn]||{},D=b[hu]||{};oc(m[Tn],A,D),le(x)||_u(A,x);var F=new Y4(h,b[Pl],b.average,b.sampleCount,b.min,b.max,b.stdDev,A,D),V=new cu(Y4[Aa],F);return bu(h,Y4[mu],m,V)}s(JW,"MetricEnvelopeCreator");function XW(h,m,x){Cu(h,m);var b,A=m[wr];!le(A)&&!le(A[Sn])&&!le(A[Sn][du])?(b=A[Sn][du],delete A[Sn][du]):!le(m[Tn])&&!le(m[Tn][du])&&(b=m[Tn][du],delete m[Tn][du]);var D=m[wr],F;((m.ext||{}).trace||{})[Z4]&&(F=m.ext.trace[Z4]);var V=D.id||F,G=D[Pl],X=D.uri,ue=D[Sn]||{},ke=D[hu]||{};if(le(D.refUri)||(ue.refUri=D.refUri),le(D.pageType)||(ue.pageType=D.pageType),le(D.isLoggedIn)||(ue.isLoggedIn=D.isLoggedIn[gu]()),!le(D[Sn])){var Fe=D[Sn];vt(Fe,function(Ze,Ue){ue[Ze]=Ue})}oc(m[Tn],ue,ke),le(x)||_u(ue,x);var Ne=new vm(h,G,X,b,ue,ke,V),we=new cu(vm[Aa],Ne);return bu(h,vm[mu],m,we)}s(XW,"PageViewEnvelopeCreator");function QW(h,m,x){Cu(h,m);var b=m[wr],A=b[Pl],D=b.uri||b.url,F=b[Sn]||{},V=b[hu]||{};oc(m[Tn],F,V),le(x)||_u(F,x);var G=new bm(h,A,D,void 0,F,V,b),X=new cu(bm[Aa],G);return bu(h,bm[mu],m,X)}s(QW,"PageViewPerformanceEnvelopeCreator");function ZW(h,m,x){Cu(h,m);var b=m[wr].message,A=m[wr].severityLevel,D=m[wr][Sn]||{},F=m[wr][hu]||{};oc(m[Tn],D,F),le(x)||_u(D,x);var V=new _m(h,b,A,D,F),G=new cu(_m[Aa],V);return bu(h,_m[mu],m,G)}s(ZW,"TraceEnvelopeCreator");var bk=function(){function h(m,x){var b=[],A=!1;this[th]=function(){return b},this._set=function(D){return b=D,b},di(h,this,function(D){D[pu]=function(F){if(D[yu]()>=x[ak]){A||(Ot(m,2,105,"Maximum in-memory buffer size reached: "+D[yu](),!0),A=!0);return}b[D5](F)},D[yu]=function(){return b[b0]},D.size=function(){for(var F=b[b0],V=0;V<b[b0];V++)F+=b[V][b0];return x[ux]||(F+=2),F},D[vu]=function(){b=[],A=!1},D.getItems=function(){return b.slice(0)},D[dx]=function(F){if(F&&F[b0]>0){var V=x[ux]?F.join(`
`):"["+F.join(",")+"]";return V}return null},D[hx]=function(F,V,G){var X=b.slice(0);F=F||m,V=V||{};var ue=G?new Ck(F,V):new Ex(F,V);return Xt(X,function(ke){ue[pu](ke)}),ue}})}return s(h,"BaseSendBuffer"),h.__ieDyn=1,h}(),Ex=function(h){T1(m,h);function m(x,b){var A=h.call(this,x,b)||this;return di(m,A,function(D,F){D[L5]=function(V){F[vu]()},D[rh]=function(V){}}),A}return s(m,"ArraySendBuffer"),m.__ieDyn=1,m}(bk),Ck=function(h){T1(m,h);function m(x,b){var A=h.call(this,x,b)||this,D=!1,F=b==null?void 0:b.namePrefix,V=b[mx]||{getItem:IW,setItem:AW},G=V.getItem,X=V.setItem;return di(m,A,function(ue,ke){var Fe=Ue(m[gx]),Ne=Ue(m[ic]),we=ue._set(Fe[nh](Ne));we[b0]>m[ih]&&(we[b0]=m[ih]),it(m[ic],[]),it(m[gx],we),ue[pu]=function(Qe){if(ue[yu]()>=m[ih]){D||(Ot(x,2,67,"Maximum buffer size reached: "+ue[yu](),!0),D=!0);return}ke[pu](Qe),it(m.BUFFER_KEY,ue[th]())},ue[vu]=function(){ke[vu](),it(m.BUFFER_KEY,ue[th]()),it(m[ic],[]),D=!1},ue[L5]=function(Qe){it(m[gx],ue._set(Ze(Qe,ue[th]())));var Ke=Ue(m[ic]);Ke instanceof Array&&Qe instanceof Array&&(Ke=Ke[nh](Qe),Ke[b0]>m[ih]&&(Ot(x,1,67,"Sent buffer reached its maximum size: "+Ke[b0],!0),Ke[b0]=m[ih]),it(m[ic],Ke))},ue[rh]=function(Qe){var Ke=Ue(m[ic]);Ke=Ze(Qe,Ke),it(m[ic],Ke)},ue[hx]=function(Qe,Ke,ft){ft=!!ft;var t0=ue[th]().slice(0),Z0=Ue(m[ic]).slice(0);Qe=Qe||x,Ke=Ke||{},ue[vu]();var Ir=ft?new m(Qe,Ke):new Ex(Qe,Ke);return Xt(t0,function(mr){Ir[pu](mr)}),ft&&Ir[L5](Z0),Ir};function Ze(Qe,Ke){var ft=[];return Xt(Ke,function(t0){!Ve(t0)&&$i(Qe,t0)===-1&&ft[D5](t0)}),ft}s(Ze,"_removePayloadsFromBuffer");function Ue(Qe){var Ke=Qe;try{Ke=F?F+"_"+Ke:Ke;var ft=G(x,Ke);if(ft){var t0=zs().parse(ft);if(dt(t0)&&(t0=zs().parse(t0)),t0&&W(t0))return t0}}catch(Z0){Ot(x,1,42," storage key: "+Ke+", "+Vn(Z0),{exception:kt(Z0)})}return[]}s(Ue,"_getBuffer");function it(Qe,Ke){var ft=Qe;try{ft=F?F+"_"+ft:ft;var t0=JSON[eh](Ke);X(x,ft,t0)}catch(Z0){X(x,ft,JSON[eh]([])),Ot(x,2,41," storage key: "+ft+", "+Vn(Z0)+". Buffer cleared",{exception:kt(Z0)})}}s(it,"_setBuffer")}),A}return s(m,"SessionStorageSendBuffer"),m.BUFFER_KEY="AI_buffer",m.SENT_BUFFER_KEY="AI_sentBuffer",m.MAX_BUFFER_SIZE=2e3,m}(bk),eG=function(){function h(m){di(h,this,function(x){x[Tm]=function(F){var V=b(F,"root");try{return zs()[eh](V)}catch(G){Ot(m,1,48,G&&Ve(G[gu])?G[gu]():"Error serializing object",null,!0)}};function b(F,V){var G="__aiCircularRefCheck",X={};if(!F)return Ot(m,1,48,"cannot serialize object because it is null or undefined",{name:V},!0),X;if(F[G])return Ot(m,2,50,"Circular reference detected while serializing object",{name:V},!0),X;if(!F.aiDataContract){if(V==="measurements")X=D(F,"number",V);else if(V==="properties")X=D(F,"string",V);else if(V==="tags")X=D(F,"string",V);else if(W(F))X=A(F,V);else{Ot(m,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:V},!0);try{zs()[eh](F),X=F}catch(ue){Ot(m,1,48,ue&&Ve(ue[gu])?ue[gu]():"Error serializing object",null,!0)}}return X}return F[G]=!0,vt(F.aiDataContract,function(ue,ke){var Fe=Ve(ke)?ke()&1:ke&1,Ne=Ve(ke)?ke()&4:ke&4,we=ke&2,Ze=F[ue]!==void 0,Ue=n0(F[ue])&&F[ue]!==null;if(Fe&&!Ze&&!we)Ot(m,1,24,"Missing required field specification. The field is required but not present on source",{field:ue,name:V});else if(!Ne){var it=void 0;Ue?we?it=A(F[ue],ue):it=b(F[ue],ue):it=F[ue],it!==void 0&&(X[ue]=it)}}),delete F[G],X}s(b,"_serializeObject");function A(F,V){var G;if(F)if(!W(F))Ot(m,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:V},!0);else{G=[];for(var X=0;X<F[b0];X++){var ue=F[X],ke=b(ue,V+"["+X+"]");G[D5](ke)}}return G}s(A,"_serializeArray");function D(F,V,G){var X;return F&&(X={},vt(F,function(ue,ke){if(V==="string")ke===void 0?X[ue]="undefined":ke===null?X[ue]="null":ke[gu]?X[ue]=ke[gu]():X[ue]="invalid field: toString() is not defined.";else if(V==="number")if(ke===void 0)X[ue]="undefined";else if(ke===null)X[ue]="null";else{var Fe=parseFloat(ke);X[ue]=Fe}else X[ue]="invalid field: "+G+" is of unknown type.",Ot(m,1,X[ue],null,!0)})),X}s(D,"_serializeStringMap")})}return s(h,"Serializer"),h.__ieDyn=1,h}(),tG=8,rG=function(){function h(){}return s(h,"HashCodeScoreGenerator"),h.prototype.getHashCodeScore=function(m){var x=this.getHashCode(m)/h.INT_MAX_VALUE;return x*100},h.prototype.getHashCode=function(m){if(m==="")return 0;for(;m[b0]<tG;)m=m[nh](m);for(var x=5381,b=0;b<m[b0];++b)x=(x<<5)+x+m.charCodeAt(b),x=x&x;return Math.abs(x)},h.INT_MAX_VALUE=2147483647,h}(),nG=function(){function h(){var m=this,x=new rG,b=new sk;m[vk]=function(A){var D=0;return A[Wn]&&A[Wn][b.userId]?D=x.getHashCodeScore(A[Wn][b.userId]):A.ext&&A.ext.user&&A.ext.user.id?D=x[zW](A.ext.user.id):A[Wn]&&A[Wn][b.operationId]?D=x.getHashCodeScore(A[Wn][b.operationId]):A.ext&&A.ext.telemetryTrace&&A.ext.telemetryTrace[Z4]?D=x.getHashCodeScore(A.ext.telemetryTrace[Z4]):D=Math.random()*100,D}}return s(h,"SamplingScoreGenerator"),h}(),iG=function(){function h(m,x){this.INT_MAX_VALUE=2147483647;var b=x||Z1(null);(m>100||m<0)&&(b.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:m},!0),m=100),this[wm]=m,this.samplingScoreGenerator=new nG}return s(h,"Sample"),h.prototype.isSampledIn=function(m){var x=this[wm],b=!1;return x==null||x>=100||m.baseType===Y4[Aa]?!0:(b=this.samplingScoreGenerator[vk](m)<x,b)},h}(),Nr,Rl,kl=void 0,Tk="",sG=65e3;function Im(h){try{return h.responseText}catch{}return null}s(Im,"_getResponseText");function oG(h){return h&&h[px]}s(oG,"isOverrideFn");function Ek(h,m){return m&&(he(m)?h=[m][nh](h):W(m)&&(h=m[nh](h))),h}s(Ek,"_prependTransports");var Sk=Jt((Nr={endpointUrl:J1(wt,Oo+Fo)},Nr[ux]=Ys(),Nr[pk]=15e3,Nr[lk]=102400,Nr.disableTelemetry=Ys(),Nr[ck]=Ys(!0),Nr.isRetryDisabled=Ys(),Nr[xx]=Ys(!0),Nr[dk]=Ys(!0),Nr.disableXhr=Ys(),Nr[uk]=Ys(),Nr[vx]=Ys(),Nr[hk]=kl,Nr.namePrefix=kl,Nr.samplingPercentage=J1(aG,100),Nr[yx]=kl,Nr[gk]=kl,Nr[ak]=1e4,Nr[mx]=!1,Nr.httpXHROverride={isVal:oG,v:kl},Nr[fk]=Ys(),Nr.transports=kl,Nr));function aG(h){return!isNaN(h)&&h>0&&h<=100}s(aG,"_chkSampling");var lG=(Rl={},Rl[R5.dataType]=_k,Rl[_m.dataType]=ZW,Rl[vm.dataType]=XW,Rl[bm.dataType]=QW,Rl[ym.dataType]=YW,Rl[Y4.dataType]=JW,Rl[xm.dataType]=GW,Rl),wk=function(h){T1(m,h);function m(){var x=h.call(this)||this;x.priority=1001,x.identifier=$W;var b,A,D,F,V,G,X,ue=0,ke,Fe,Ne,we,Ze,Ue,it,Qe,Ke,ft,t0,Z0,Ir,mr,wn,Qr,lh,ac,pt,Uo,Tu,lc,Nl,Js,B5;return di(m,x,function(rt,Am){Rk(),rt.pause=function(){Nx(),D=!0},rt.resume=function(){D&&(D=!1,A=null,Kt(),kx())},rt.flush=function(xe,Be,gt){if(xe===void 0&&(xe=!0),!D){Nx();try{return rt[sh](xe,null,gt||1)}catch(xt){Ot(rt[En](),1,22,"flush failed, telemetry will not be collected: "+Vn(xt),{exception:kt(xt)})}}},rt.onunloadFlush=function(){if(!D)if(it||Uo)try{return rt[sh](!0,Zr,2)}catch(xe){Ot(rt[En](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Vn(xe),{exception:kt(xe)})}else rt.flush(!1)},rt.addHeader=function(xe,Be){X[xe]=Be},rt.initialize=function(xe,Be,gt,xt){rt.isInitialized()&&Ot(rt[En](),1,28,"Sender is already initialized"),Am.initialize(xe,Be,gt,xt);var It=rt.identifier;V=new eG(Be.logger),b=0,A=null,rt[oh]=null,G=0;var Dt=rt[En]();Ne=Nt(Gi("Sender"),Be.evtNamespace&&Be.evtNamespace()),Fe=jW(Ne),rt._addHook(Vf(xe,function(g0){var p0=g0.cfg;p0.storagePrefix&&wW(p0.storagePrefix);var pi=Ca(null,p0,Be),Ut=pi.getExtCfg(It,Sk);rr(rt,"_senderConfig",{g:function(){return Ut}}),Ze!==Ut.endpointUrl&&(we=Ze=Ut.endpointUrl),ft&&ft!==Ut[yx]&&Xt(ft,function(en){delete X[en.header]}),Ue=Ut[lk],it=(Ut[vx]===!1||Ut[xx]===!1)&&Ks(),Qe=Ut[vx]===!1&&Ks(),Ke=Ut[xx]===!1&&Ks(),Uo=Ut[fk],Tu=!!Ut.disableXhr;var qo=Ut[mx],Pa=!!Ut[ck]&&(!!qo||XR()),O5=Ut.namePrefix,Nm=Pa!==Qr||Pa&&ac!==O5||Pa&&lh!==qo;if(rt[sc]){if(Nm)try{rt._buffer=rt._buffer[hx](Dt,Ut,Pa)}catch(en){Ot(rt[En](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Vn(en),{exception:kt(en)})}Kt()}else rt[sc]=Pa?new Ck(Dt,Ut):new Ex(Dt,Ut);ac=O5,Qr=Pa,lh=qo,lc=!Ut[uk]&&vl(!0),B5=!!Ut[dk],rt._sample=new iG(Ut.samplingPercentage,Dt),Z0=Ut[hk],pG(Z0,p0)||Ot(Dt,1,100,"Invalid Instrumentation key "+Z0),ft=Ut[yx],!gm(we)&&ft&&ft[b0]>0?Xt(ft,function(en){x.addHeader(en.header,en.value)}):ft=null,pt=Ut.enableSendPromise;var Ra=Ut.httpXHROverride,Su=null,cc=null,yi=Ek([3,1,2],Ut.transports);Su=ch(yi,!1);var Xs={sendPOST:fc};Nl=s(function(en,wu){return $e(Xs,en,wu)},"_xhrSend"),Js=s(function(en,wu){return $e(Xs,en,wu,!1)},"_fallbackSend"),Su=Uo?Ra:Su||Ra||Xs,rt[oh]=function(en,wu){return $e(Su,en,wu)},lc&&(ke=km);var uh=Ek([3,1],Ut[mk]);lc||(uh=uh.filter(function(en){return en!==2})),cc=ch(uh,!0),cc=Uo?Ra:cc||Ra,(Uo||Ut[mk]||!ke)&&cc&&(ke=s(function(en,wu){return $e(cc,en,wu)},"_syncUnloadSender")),ke||(ke=Nl),t0=Ut.disableTelemetry,Ir=Ut[gk]||kl,mr=Ut.isRetryDisabled,wn=Ut[pk]}))},rt.processTelemetry=function(xe,Be){Be=rt._getTelCtx(Be);var gt=Be[En]();try{var xt=Eu(xe,gt);if(!xt)return;var It=fh(xe,gt);if(!It)return;var Dt=V[Tm](It),g0=rt[sc];Kt(Dt),g0[pu](Dt),kx()}catch(p0){Ot(gt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Vn(p0),{exception:kt(p0)})}rt.processNext(xe,Be)},rt.isCompletelyIdle=function(){return!D&&ue===0&&rt._buffer[yu]()===0},rt[HW]=function(xe,Be,gt){xe.readyState===4&&Gt(xe.status,Be,xe.responseURL,gt,Dx(xe),Im(xe)||xe.response)},rt[sh]=function(xe,Be,gt){xe===void 0&&(xe=!0);var xt;if(!D)try{var It=rt[sc];if(t0)It[vu]();else if(It[yu]()>0){var Dt=It.getItems();gG(gt||0,xe),Be?xt=Be.call(rt,Dt,xe):xt=rt[oh](Dt,xe)}Nx()}catch(p0){var g0=Ff();(!g0||g0>9)&&Ot(rt[En](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Vn(p0),{exception:kt(p0)})}return xt},rt.getOfflineSupport=function(){var xe;return xe={getUrl:function(){return we},createPayload:Pm},xe[Tm]=Ix,xe.batch=Ax,xe.shouldProcess=function(Be){return!!Eu(Be)},xe},rt._doTeardown=function(xe,Be){rt.onunloadFlush(),zf(Fe,!1),Rk()},rt[xu]=function(xe,Be,gt){Ot(rt[En](),2,26,"Failed to send telemetry.",{message:Be}),rt._buffer&&rt._buffer[rh](xe)},rt[_x]=function(xe,Be){for(var gt=[],xt=[],It=Be.errors.reverse(),Dt=0,g0=It;Dt<g0.length;Dt++){var p0=g0[Dt],pi=xe.splice(p0.index,1)[0];Ak(p0.statusCode)?xt[D5](pi):gt[D5](pi)}xe[b0]>0&&rt[Em](xe,Be[Sm]),gt[b0]>0&&rt[xu](gt,Dx(null,["partial success",Be[Sm],"of",Be.itemsReceived].join(" "))),xt[b0]>0&&(Rx(xt),Ot(rt[En](),2,40,"Partial success. Delivered: "+xe[b0]+", Failed: "+gt[b0]+". Will retry to send "+xt[b0]+" our of "+Be[VW]+" items"))},rt[Em]=function(xe,Be){rt._buffer&&rt._buffer[rh](xe)},rt._xdrOnLoad=function(xe,Be){var gt=Im(xe);if(xe&&(gt+""=="200"||gt===""))b=0,rt[Em](Be,0);else{var xt=Px(gt);xt&&xt.itemsReceived&&xt.itemsReceived>xt[Sm]&&!mr?rt[_x](Be,xt):rt[xu](Be,Pk(xe))}};function Eu(xe,Be){if(t0)return!1;if(!xe)return Be&&Ot(Be,1,7,"Cannot send empty telemetry"),!1;if(xe.baseData&&!xe[bx])return Be&&Ot(Be,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(xe[bx]||(xe[bx]="EventData"),!rt[oh])return Be&&Ot(Be,1,28,"Sender was not initialized"),!1;if(Rm(xe))xe[Mr]=rt._sample[wm];else return Be&&Ot(Be,2,33,"Telemetry item was sampled out and not sent",{SampleRate:rt._sample[wm]}),!1;return!0}s(Eu,"_validate");function fh(xe,Be){var gt=xe.iKey||Z0,xt=m.constructEnvelope(xe,gt,Be,Ir);if(!xt){Ot(Be,1,47,"Unable to create an AppInsights envelope");return}var It=!1;if(xe[Wn]&&xe[Wn][Ur]&&(Xt(xe[Wn][Ur],function(Dt){try{Dt&&Dt(xt)===!1&&(It=!0,Gf(Be,"Telemetry processor check returns false"))}catch(g0){Ot(Be,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Vn(g0),{exception:kt(g0)},!0)}}),delete xe[Wn][Ur]),!It)return xt}s(fh,"_getEnvelope");function Ix(xe){var Be=Tk,gt=rt[En]();try{var xt=Eu(xe,gt),It=null;xt&&(It=fh(xe,gt)),It&&(Be=V[Tm](It))}catch{}return Be}s(Ix,"_serialize");function Ax(xe){var Be=Tk;return xe&&xe[b0]&&(Be="["+xe.join(",")+"]"),Be}s(Ax,"_batch");function Pm(xe){var Be,gt=X;return gm(we)&&(gt[ec[6]]=ec[7]),Be={urlString:we},Be[Tn]=xe,Be.headers=gt,Be}s(Pm,"_createPayload");function Rm(xe){return rt._sample.isSampledIn(xe)}s(Rm,"_isSampledIn");function ch(xe,Be){for(var gt,xt=null,It=null,Dt=0;It==null&&Dt<xe[b0];)xt=xe[Dt],!Tu&&xt===1?H1()?It=hG:c5()&&(It=fc):xt===2&&vl(Be)?It=r0:xt===3&&(Be?Qe:Ke)&&(It=Ji),Dt++;return It?(gt={},gt[px]=It,gt):null}s(ch,"_getSenderInterface");function Dl(xe,Be,gt,xt){Be===200&&xe?rt._onSuccess(xe,xe[b0]):xt&&rt[xu](xe,xt)}s(Dl,"_getOnComplete");function $e(xe,Be,gt,xt){xt===void 0&&(xt=!0);var It=s(function(p0,pi,Ut){return Dl(Be,p0,pi,Ut)},"onComplete"),Dt=Ct(Be),g0=xe&&xe[px];return g0&&Dt?(xt&&rt._buffer[L5](Be),g0(Dt,It,!gt)):null}s($e,"_doSend");function Ct(xe){var Be;if(W(xe)&&xe[b0]>0){var gt=rt._buffer[dx](xe),xt=(Be={},Be[Tn]=gt,Be.urlString=we,Be.headers=X,Be.disableXhrSync=Tu,Be.disableFetchKeepAlive=!lc,Be[ah]=xe,Be);return xt}return null}s(Ct,"_getPayload");function r0(xe,Be,gt){return Ik(xe,Be,!1)}s(r0,"_fetchSender");function Kt(xe){var Be=xe?xe[b0]:0;return rt[sc].size()+Be>Ue?((!Fe||Fe.isOnline())&&rt[sh](!0,null,10),!0):!1}s(Kt,"_checkMaxSize");function Gt(xe,Be,gt,xt,It,Dt){var g0=null;if(rt._appId||(g0=Px(Dt),g0&&g0.appId&&(rt._appId=g0.appId)),(xe<200||xe>=300)&&xe!==0){if((xe===301||xe===307||xe===308)&&!fr(gt)){rt[xu](Be,It);return}!mr&&Ak(xe)?(Rx(Be),Ot(rt[En](),2,40,". Response code "+xe+". Will retry to send "+Be[b0]+" items.")):rt[xu](Be,It)}else if(Fe&&!Fe.isOnline()){if(!mr){var p0=10;Rx(Be,p0),Ot(rt[En](),2,40,". Offline - Response Code: ".concat(xe,". Offline status: ").concat(!Fe.isOnline(),". Will retry to send ").concat(Be.length," items."))}}else fr(gt),xe===206?(g0||(g0=Px(Dt)),g0&&!mr?rt[_x](Be,g0):rt[xu](Be,It)):(b=0,rt[Em](Be,xt))}s(Gt,"_checkResponsStatus");function fr(xe){return G>=10?!1:!le(xe)&&xe!==""&&xe!==we?(we=xe,++G,!0):!1}s(fr,"_checkAndUpdateEndPointUrl");function M0(xe,Be,gt,xt){try{xe(Be,gt,xt)}catch{}}s(M0,"_doOnComplete");function Zr(xe,Be){if(ke)ke(xe,!1);else{var gt=Ct(xe);rt._buffer[L5](xe),Ji(gt)}}s(Zr,"_doUnloadSend");function pn(xe,Be){var gt=na(),xt=we,It=rt[sc],Dt=It[dx](xe),g0=new Blob([Dt],{type:"text/plain;charset=UTF-8"}),p0=gt.sendBeacon(xt,g0);return p0&&rt._onSuccess(xe,xe[b0]),p0}s(pn,"_doBeaconSend");function Ji(xe,Be,gt){var xt=xe,It=xt&&xt[ah];if(W(It)&&It[b0]>0&&!pn(It))if(B5)Js&&Js(It,!0),Ot(rt[En](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Dt=[],g0=0;g0<It[b0];g0++){var p0=It[g0];pn([p0])||Dt[D5](p0)}Dt[b0]>0&&(Js&&Js(Dt,!0),Ot(rt[En](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}s(Ji,"_beaconSender");function fc(xe,Be,gt){var xt=xe,It,Dt,g0,p0=new XMLHttpRequest,pi=we;try{p0[Kr]=!0}catch{}return p0.open("POST",pi,!gt),p0[Cx]("Content-type","application/json"),gm(pi)&&p0[Cx](ec[6],ec[7]),Xt(mn(X),function(Ut){p0[Cx](Ut,X[Ut])}),p0.onreadystatechange=function(){var Ut=xt[ah];rt._xhrReadyStateChange(p0,Ut,Ut[b0]),p0.readyState===4&&Dt&&Dt(!0)},p0.onerror=function(Ut){M0(Be,400,{},Dx(p0)),g0&&g0(Ut)},!gt&&pt&&(It=kf(function(Ut,qo){Dt=Ut,g0=qo})),p0.send(xe[Tn]),It}s(fc,"_xhrSender");function km(xe,Be){var gt=s(function(g0,p0,pi){return Dl(xe,g0,p0,pi)},"onComplete");if(W(xe)){for(var xt=xe[b0],It=0;It<xe[b0];It++)xt+=xe[It][b0];var Dt=Ct(xe);rt._buffer[L5](xe),ue+xt<=sG?Ik(Dt,gt,!0):Ks()?Ji(Dt):(Js&&Js(xe,!0),Ot(rt[En](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}s(km,"_fetchKeepAliveSender");function Ik(xe,Be,gt){var xt,It=we,Dt=xe,g0=Dt[Tn],p0=new Blob([g0],{type:"application/json"}),pi,Ut,qo,Pa=new Headers,O5=g0[b0],Nm=!1,Ra=!1;gm(It)&&Pa.append(ec[6],ec[7]),Xt(mn(X),function(yi){Pa.append(yi,X[yi])});var Su=(xt={method:"POST",headers:Pa,body:p0},xt[Kr]=!0,xt);gt&&(Su.keepalive=!0,Nm=!0,ue+=O5);var cc=new Request(It,Su);try{cc[Kr]=!0}catch{}!gt&&pt&&(pi=kf(function(yi,Xs){Ut=yi,qo=Xs}));try{n5(fetch(cc),function(yi){if(gt&&(ue-=O5,O5=0),!Ra)if(Ra=!0,yi.rejected)M0(Be,400,{},yi.reason&&yi.reason.message),qo&&qo(yi.reason);else{var Xs=yi.value;Xs.ok?n5(Xs.text(),function(uh){var en=Dt[ah];Gt(Xs.status,en,Xs.url,en[b0],Xs.statusText,uh.value||""),Ut&&Ut(!0)}):(M0(Be,400,{},Xs.statusText),Ut&&Ut(!1))}})}catch(yi){Ra||(M0(Be,400,{},kt(yi)),qo&&qo(yi))}return Nm&&!Ra&&(Ra=!0,M0(Be,200,{}),Ut&&Ut(!0)),pi}s(Ik,"_doFetchSender");function Px(xe){try{if(xe&&xe!==""){var Be=zs().parse(xe);if(Be&&Be.itemsReceived&&Be.itemsReceived>=Be[Sm]&&Be.itemsReceived-Be.itemsAccepted===Be.errors[b0])return Be}}catch(gt){Ot(rt[En](),1,43,"Cannot parse the response. "+Vn(gt),{response:xe})}return null}s(Px,"_parseResponse");function Rx(xe,Be){if(Be===void 0&&(Be=1),!(!xe||xe[b0]===0)){var gt=rt[sc];gt[rh](xe),b++;for(var xt=0,It=xe;xt<It.length;xt++){var Dt=It[xt];gt[pu](Dt)}dG(Be),kx()}}s(Rx,"_resendPayload");function dG(xe){var Be=10,gt;if(b<=1)gt=Be;else{var xt=(Math.pow(2,b)-1)/2,It=Math.floor(Math.random()*xt*Be)+1;It=xe*It,gt=Math.max(Math.min(It,3600),Be)}var Dt=sa()+gt*1e3;A=Dt}s(dG,"_setRetryTime");function kx(){if(!F&&!D){var xe=A?Math.max(0,A-sa()):0,Be=Math.max(wn,xe);F=js(function(){F=null,rt[sh](!0,null,1)},Be)}}s(kx,"_setupTimer");function Nx(){F&&F.cancel(),F=null,A=null}s(Nx,"_clearScheduledTimer");function Ak(xe){return xe===401||xe===403||xe===408||xe===429||xe===500||xe===502||xe===503||xe===504}s(Ak,"_isRetriable");function Dx(xe,Be){return xe?"XMLHttpRequest,Status:"+xe.status+",Response:"+Im(xe)||xe.response||"":Be}s(Dx,"_formatErrorMessageXhr");function hG(xe,Be,gt){var xt=xe,It=Eo(),Dt=new XDomainRequest,g0=xt[Tn];Dt.onload=function(){var Ut=xt[ah];rt._xdrOnLoad(Dt,Ut)},Dt.onerror=function(){M0(Be,400,{},Pk(Dt))};var p0=It&&It.location&&It.location.protocol||"";if(we.lastIndexOf(p0,0)!==0){Ot(rt[En](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),rt._buffer[vu]();return}var pi=we.replace(/^(https?:)/,"");Dt.open("POST",pi),Dt.send(g0)}s(hG,"_xdrSender");function Pk(xe,Be){return xe?"XDomainRequest,Response:"+Im(xe)||"":Be}s(Pk,"_formatErrorMessageXdr");function mG(){var xe="getNotifyMgr";return rt.core[xe]?rt.core[xe]():rt.core._notificationManager}s(mG,"_getNotifyMgr");function gG(xe,Be){var gt=mG();if(gt&&gt[yk])try{gt[yk](xe,Be)}catch(xt){Ot(rt[En](),1,74,"send request notification failed: "+Vn(xt),{exception:kt(xt)})}}s(gG,"_notifySendRequest");function pG(xe,Be){var gt=Be.disableInstrumentationKeyValidation,xt=le(gt)?!1:gt;if(xt)return!0;var It="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Dt=new RegExp(It);return Dt.test(xe)}s(pG,"_validateInstrumentationKey");function Rk(){rt[oh]=null,rt[sc]=null,rt._appId=null,rt._sample=null,X={},Fe=null,b=0,A=null,D=!1,F=null,V=null,G=0,ue=0,ke=null,Ne=null,we=null,Ze=null,Ue=0,it=!1,ft=null,t0=!1,Z0=null,Ir=kl,mr=!1,Qr=null,ac=kl,Tu=!1,lc=!1,B5=!1,Nl=null,Js=null,rr(rt,"_senderConfig",{g:function(){return $1({},Sk)}})}s(Rk,"_initDefaults")}),x}return s(m,"Sender"),m.constructEnvelope=function(x,b,A,D){var F;b!==x.iKey&&!le(b)?F=fa(fa({},x),{iKey:b}):F=x;var V=lG[F.baseType]||_k;return V(A,F,D)},m}($4),Sx="instrumentationKey",wx="connectionString",fG={diagnosticLogInterval:J1(cG,1e4)};function cG(h){return h&&h>0}s(cG,"_chkDiagLevel");var uG=function(){function h(m){var x=new i0,b;(le(m)||le(m[Sx])&&le(m[wx]))&&J0("Invalid input configuration"),di(h,this,function(D){rr(D,"config",{g:function(){return b}}),F(),D.initialize=F,D.track=A,c4(D,x,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function F(){var V=Cn(m||{},fG);b=V.cfg,x.addUnloadHook(Vf(V,function(){if(b[wx]){var G=kW(b[wx]),X=G.ingestionendpoint;b.endpointUrl=X?X+Fo:b.endpointUrl,b[Sx]=G.instrumentationkey||b[Sx]}})),x.initialize(b,[new wk])}s(F,"_initialize")});function A(D){D&&(D.baseData=D.baseData||{},D.baseType=D.baseType||"EventData"),x.track(D)}s(A,"_track")}return s(h,"ApplicationInsights"),h.__ieDyn=1,h}();e.AppInsightsCore=i0,e.ApplicationInsights=uG,e.Sender=wk,e.SeverityLevel=qW,e.arrForEach=Xt,e.isNullOrUndefined=le,e.proxyFunctions=c4,e.throwError=J0})});var B$=ae((qpe,L$)=>{"use strict";L$.exports=N$;function N$(e,t,r){e instanceof RegExp&&(e=k$(e,r)),t instanceof RegExp&&(t=k$(t,r));var n=D$(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}s(N$,"balanced");function k$(e,t){var r=t.match(e);return r?r[0]:null}s(k$,"maybeMatch");N$.range=D$;function D$(e,t,r){var n,i,o,a,l,f=r.indexOf(e),c=r.indexOf(t,f+1),u=f;if(f>=0&&c>0){for(n=[],o=r.length;u>=0&&!l;)u==f?(n.push(u),f=r.indexOf(e,u+1)):n.length==1?l=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,a=c),c=r.indexOf(t,u+1)),u=f<c&&f>=0?f:c;n.length&&(l=[o,a])}return l}s(D$,"range")});var H$=ae(($pe,$$)=>{var O$=B$();$$.exports=lne;var F$="\0SLASH"+Math.random()+"\0",M$="\0OPEN"+Math.random()+"\0",kI="\0CLOSE"+Math.random()+"\0",U$="\0COMMA"+Math.random()+"\0",q$="\0PERIOD"+Math.random()+"\0";function RI(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}s(RI,"numeric");function one(e){return e.split("\\\\").join(F$).split("\\{").join(M$).split("\\}").join(kI).split("\\,").join(U$).split("\\.").join(q$)}s(one,"escapeBraces");function ane(e){return e.split(F$).join("\\").split(M$).join("{").split(kI).join("}").split(U$).join(",").split(q$).join(".")}s(ane,"unescapeBraces");function j$(e){if(!e)return[""];var t=[],r=O$("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=j$(o);return o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}s(j$,"parseCommaParts");function lne(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),k8(one(e),!0).map(ane)):[]}s(lne,"expandTop");function fne(e){return"{"+e+"}"}s(fne,"embrace");function cne(e){return/^-?0\d/.test(e)}s(cne,"isPadded");function une(e,t){return e<=t}s(une,"lte");function dne(e,t){return e>=t}s(dne,"gte");function k8(e,t){var r=[],n=O$("{","}",e);if(!n)return[e];var i=n.pre,o=n.post.length?k8(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<o.length;a++){var l=i+"{"+n.body+"}"+o[a];r.push(l)}else{var f=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=f||c,d=n.body.indexOf(",")>=0;if(!u&&!d)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+kI+n.post,k8(e)):[e];var g;if(u)g=n.body.split(/\.\./);else if(g=j$(n.body),g.length===1&&(g=k8(g[0],!1).map(fne),g.length===1))return o.map(function(De){return n.pre+g[0]+De});var p;if(u){var y=RI(g[0]),_=RI(g[1]),S=Math.max(g[0].length,g[1].length),T=g.length==3?Math.abs(RI(g[2])):1,I=une,P=_<y;P&&(T*=-1,I=dne);var U=g.some(cne);p=[];for(var k=y;I(k,_);k+=T){var L;if(c)L=String.fromCharCode(k),L==="\\"&&(L="");else if(L=String(k),U){var Q=S-L.length;if(Q>0){var te=new Array(Q+1).join("0");k<0?L="-"+te+L.slice(1):L=te+L}}p.push(L)}}else{p=[];for(var Ce=0;Ce<g.length;Ce++)p.push.apply(p,k8(g[Ce],!1))}for(var Ce=0;Ce<p.length;Ce++)for(var a=0;a<o.length;a++){var l=i+p[Ce]+o[a];(!t||u||l)&&r.push(l)}}return r}s(k8,"expand")});var Vp=ae(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.ValuePointer=Uc.ValuePointerRootDeleteError=Uc.ValuePointerRootSetError=void 0;var VI=class VI extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};s(VI,"ValuePointerRootSetError");var $p=VI;Uc.ValuePointerRootSetError=$p;var zI=class zI extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};s(zI,"ValuePointerRootDeleteError");var Hp=zI;Uc.ValuePointerRootDeleteError=Hp;var oH;(function(e){function t(l){return l.indexOf("~")===-1?l:l.replace(/~1/g,"/").replace(/~0/g,"~")}s(t,"Escape");function*r(l){if(l==="")return;let[f,c]=[0,0];for(let u=0;u<l.length;u++)l.charAt(u)==="/"?(u===0||(c=u,yield t(l.slice(f,c))),f=u+1):c=u;yield t(l.slice(f))}s(r,"Format"),e.Format=r;function n(l,f,c){if(f==="")throw new $p(l,f,c);let[u,d,g]=[null,l,""];for(let p of r(f))d[p]===void 0&&(d[p]={}),u=d,d=d[p],g=p;u[g]=c}s(n,"Set"),e.Set=n;function i(l,f){if(f==="")throw new Hp(l,f);let[c,u,d]=[null,l,""];for(let g of r(f)){if(u[g]===void 0||u[g]===null)return;c=u,u=u[g],d=g}if(Array.isArray(c)){let g=parseInt(d);c.splice(g,1)}else delete c[d]}s(i,"Delete"),e.Delete=i;function o(l,f){if(f==="")return!0;let[c,u,d]=[null,l,""];for(let g of r(f)){if(u[g]===void 0)return!1;c=u,u=u[g],d=g}return Object.getOwnPropertyNames(c).includes(d)}s(o,"Has"),e.Has=o;function a(l,f){if(f==="")return l;let c=l;for(let u of r(f)){if(c[u]===void 0)return;c=c[u]}return c}s(a,"Get"),e.Get=a})(oH||(Uc.ValuePointer=oH={}))});var r2=ae(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.Clone=void 0;var O8=Qi();function Xne(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:KI(e[n])}),{})}s(Xne,"ObjectType");function Qne(e){return e.map(t=>KI(t))}s(Qne,"ArrayType");function Zne(e){return e.slice()}s(Zne,"TypedArrayType");function eie(e){return new Date(e.toISOString())}s(eie,"DateType");function KI(e){if((0,O8.IsArray)(e))return Qne(e);if((0,O8.IsDate)(e))return eie(e);if((0,O8.IsPlainObject)(e))return Xne(e);if((0,O8.IsTypedArray)(e))return Zne(e);if((0,O8.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}s(KI,"Clone");zp.Clone=KI});var XI=ae(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.Patch=Wr.Diff=Wr.ValueDeltaUnableToDiffUnknownValue=Wr.ValueDeltaObjectWithSymbolKeyError=Wr.Edit=Wr.Delete=Wr.Update=Wr.Insert=void 0;var Si=Qi(),uo=ws(),WI=Vp(),GI=r2();Wr.Insert=uo.Type.Object({type:uo.Type.Literal("insert"),path:uo.Type.String(),value:uo.Type.Unknown()});Wr.Update=uo.Type.Object({type:uo.Type.Literal("update"),path:uo.Type.String(),value:uo.Type.Unknown()});Wr.Delete=uo.Type.Object({type:uo.Type.Literal("delete"),path:uo.Type.String()});Wr.Edit=uo.Type.Union([Wr.Insert,Wr.Update,Wr.Delete]);var YI=class YI extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};s(YI,"ValueDeltaObjectWithSymbolKeyError");var yd=YI;Wr.ValueDeltaObjectWithSymbolKeyError=yd;var JI=class JI extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};s(JI,"ValueDeltaUnableToDiffUnknownValue");var Kp=JI;Wr.ValueDeltaUnableToDiffUnknownValue=Kp;function F8(e,t){return{type:"update",path:e,value:t}}s(F8,"CreateUpdate");function aH(e,t){return{type:"insert",path:e,value:t}}s(aH,"CreateInsert");function lH(e){return{type:"delete",path:e}}s(lH,"CreateDelete");function*tie(e,t,r){if(!(0,Si.IsPlainObject)(r))return yield F8(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],i=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let o of n){if((0,Si.IsSymbol)(o))throw new yd(o);(0,Si.IsUndefined)(r[o])&&i.includes(o)&&(yield F8(`${e}/${String(o)}`,void 0))}for(let o of i)if(!((0,Si.IsUndefined)(t[o])||(0,Si.IsUndefined)(r[o]))){if((0,Si.IsSymbol)(o))throw new yd(o);yield*Wp(`${e}/${String(o)}`,t[o],r[o])}for(let o of i){if((0,Si.IsSymbol)(o))throw new yd(o);(0,Si.IsUndefined)(t[o])&&(yield aH(`${e}/${String(o)}`,r[o]))}for(let o of n.reverse()){if((0,Si.IsSymbol)(o))throw new yd(o);(0,Si.IsUndefined)(r[o])&&!i.includes(o)&&(yield lH(`${e}/${String(o)}`))}}s(tie,"ObjectType");function*rie(e,t,r){if(!(0,Si.IsArray)(r))return yield F8(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Wp(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield aH(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield lH(`${e}/${n}`))}s(rie,"ArrayType");function*nie(e,t,r){if(!(0,Si.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield F8(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Wp(`${e}/${n}`,t[n],r[n])}s(nie,"TypedArrayType");function*iie(e,t,r){t!==r&&(yield F8(e,r))}s(iie,"ValueType");function*Wp(e,t,r){if((0,Si.IsPlainObject)(t))return yield*tie(e,t,r);if((0,Si.IsArray)(t))return yield*rie(e,t,r);if((0,Si.IsTypedArray)(t))return yield*nie(e,t,r);if((0,Si.IsValueType)(t))return yield*iie(e,t,r);throw new Kp(t)}s(Wp,"Visit");function sie(e,t){return[...Wp("",e,t)]}s(sie,"Diff");Wr.Diff=sie;function oie(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}s(oie,"IsRootUpdate");function aie(e){return e.length===0}s(aie,"IsIdentity");function lie(e,t){if(oie(t))return(0,GI.Clone)(t[0].value);if(aie(t))return(0,GI.Clone)(e);let r=(0,GI.Clone)(e);for(let n of t)switch(n.type){case"insert":{WI.ValuePointer.Set(r,n.path,n.value);break}case"update":{WI.ValuePointer.Set(r,n.path,n.value);break}case"delete":{WI.ValuePointer.Delete(r,n.path);break}}return r}s(lie,"Patch");Wr.Patch=lie});var cH=ae(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.Mutate=qc.ValueMutateInvalidRootMutationError=qc.ValueMutateTypeMismatchError=void 0;var Ls=Qi(),Jp=Vp(),QI=r2(),eA=class eA extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};s(eA,"ValueMutateTypeMismatchError");var Gp=eA;qc.ValueMutateTypeMismatchError=Gp;var tA=class tA extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};s(tA,"ValueMutateInvalidRootMutationError");var Yp=tA;qc.ValueMutateInvalidRootMutationError=Yp;function fie(e,t,r,n){if(!(0,Ls.IsPlainObject)(r))Jp.ValuePointer.Set(e,t,(0,QI.Clone)(n));else{let i=Object.keys(r),o=Object.keys(n);for(let a of i)o.includes(a)||delete r[a];for(let a of o)i.includes(a)||(r[a]=null);for(let a of o)ZI(e,`${t}/${a}`,r[a],n[a])}}s(fie,"ObjectType");function cie(e,t,r,n){if(!(0,Ls.IsArray)(r))Jp.ValuePointer.Set(e,t,(0,QI.Clone)(n));else{for(let i=0;i<n.length;i++)ZI(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}s(cie,"ArrayType");function uie(e,t,r,n){if((0,Ls.IsTypedArray)(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else Jp.ValuePointer.Set(e,t,(0,QI.Clone)(n))}s(uie,"TypedArrayType");function die(e,t,r,n){r!==n&&Jp.ValuePointer.Set(e,t,n)}s(die,"ValueType");function ZI(e,t,r,n){if((0,Ls.IsArray)(n))return cie(e,t,r,n);if((0,Ls.IsTypedArray)(n))return uie(e,t,r,n);if((0,Ls.IsPlainObject)(n))return fie(e,t,r,n);if((0,Ls.IsValueType)(n))return die(e,t,r,n)}s(ZI,"Visit");function fH(e){return(0,Ls.IsTypedArray)(e)||(0,Ls.IsValueType)(e)}s(fH,"IsNonMutableValue");function hie(e,t){return(0,Ls.IsPlainObject)(e)&&(0,Ls.IsArray)(t)||(0,Ls.IsArray)(e)&&(0,Ls.IsPlainObject)(t)}s(hie,"IsMismatchedValue");function mie(e,t){if(fH(e)||fH(t))throw new Yp;if(hie(e,t))throw new Gp;ZI(e,"",e,t)}s(mie,"Mutate");qc.Mutate=mie});var uH=ae(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Equal=void 0;var rf=Qi();function gie(e,t){if(!(0,rf.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>Xp(e[i],t[i]))}s(gie,"ObjectType");function pie(e,t){return(0,rf.IsDate)(t)&&e.getTime()===t.getTime()}s(pie,"DateType");function yie(e,t){return!(0,rf.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>Xp(r,t[n]))}s(yie,"ArrayType");function vie(e,t){return!(0,rf.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>Xp(r,t[n]))}s(vie,"TypedArrayType");function xie(e,t){return e===t}s(xie,"ValueType");function Xp(e,t){if((0,rf.IsPlainObject)(e))return gie(e,t);if((0,rf.IsDate)(e))return pie(e,t);if((0,rf.IsTypedArray)(e))return vie(e,t);if((0,rf.IsArray)(e))return yie(e,t);if((0,rf.IsValueType)(e))return xie(e,t);throw new Error("ValueEquals: Unable to compare value")}s(Xp,"Equal");Qp.Equal=Xp});var lA=ae(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.Create=wi.ValueCreateRecursiveInstantiationError=wi.ValueCreateTempateLiteralTypeError=wi.ValueCreateIntersectTypeError=wi.ValueCreateNotTypeError=wi.ValueCreateNeverTypeError=wi.ValueCreateUnknownTypeError=void 0;var V0=Qi(),_ie=W5(),hH=uc(),ls=ws(),rA=class rA extends ls.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(rA,"ValueCreateUnknownTypeError");var Zp=rA;wi.ValueCreateUnknownTypeError=Zp;var nA=class nA extends ls.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};s(nA,"ValueCreateNeverTypeError");var ey=nA;wi.ValueCreateNeverTypeError=ey;var iA=class iA extends ls.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};s(iA,"ValueCreateNotTypeError");var ty=iA;wi.ValueCreateNotTypeError=ty;var sA=class sA extends ls.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};s(sA,"ValueCreateIntersectTypeError");var ry=sA;wi.ValueCreateIntersectTypeError=ry;var oA=class oA extends ls.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};s(oA,"ValueCreateTempateLiteralTypeError");var ny=oA;wi.ValueCreateTempateLiteralTypeError=ny;var aA=class aA extends ls.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};s(aA,"ValueCreateRecursiveInstantiationError");var iy=aA;wi.ValueCreateRecursiveInstantiationError=iy;function bie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:{}}s(bie,"TAny");function Cie(e,t){if(e.uniqueItems===!0&&!(0,V0.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,V0.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Bs(e.items,t)):[]}s(Cie,"TArray");function Tie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:async function*(){}()}s(Tie,"TAsyncIterator");function Eie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:BigInt(0)}s(Eie,"TBigInt");function Sie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:!1}s(Sie,"TBoolean");function wie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=Bs(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let o=this;o[n]=i}}}:class{}}}s(wie,"TConstructor");function Iie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}s(Iie,"TDate");function Aie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:()=>Bs(e.returns,t)}s(Aie,"TFunction");function Pie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}s(Pie,"TInteger");function Rie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,i)=>{let o=Bs(i,t);return typeof o=="object"?{...n,...o}:o},{});if(!(0,_ie.Check)(e,t,r))throw new ry(e);return r}}s(Rie,"TIntersect");function kie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:function*(){}()}s(kie,"TIterator");function Nie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.const}s(Nie,"TLiteral");function Die(e,t){throw new ey(e)}s(Die,"TNever");function Lie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new ty(e)}s(Lie,"TNot");function Bie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:null}s(Bie,"TNull");function Oie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}s(Oie,"TNumber");function Fie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[i,o])=>r.has(i)?{...n,[i]:Bs(o,t)}:{...n},{})}}s(Fie,"TObject");function Mie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:Promise.resolve(Bs(e.item,t))}s(Mie,"TPromise");function Uie(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,V0.HasPropertyKey)(e,"default")?e.default:r===ls.PatternStringExact||r===ls.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((o,a)=>({...o,[a]:Bs(n,t)}),{})}s(Uie,"TRecord");function qie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:Bs((0,hH.Deref)(e,t),t)}s(qie,"TRef");function jie(e,t){if(e.pattern!==void 0){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}s(jie,"TString");function $ie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}s($ie,"TSymbol");function Hie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;let r=ls.TemplateLiteralParser.ParseExact(e.pattern);if(!ls.TemplateLiteralFinite.Check(r))throw new ny(e);return ls.TemplateLiteralGenerator.Generate(r).next().value}s(Hie,"TTemplateLiteral");function Vie(e,t){if(mH++>dH)throw new iy(e,dH);return(0,V0.HasPropertyKey)(e,"default")?e.default:Bs((0,hH.Deref)(e,t),t)}s(Vie,"TThis");function zie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Bs(e.items[n],t))}s(zie,"TTuple");function Kie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default}s(Kie,"TUndefined");function Wie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Bs(e.anyOf[0],t)}s(Wie,"TUnion");function Gie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}s(Gie,"TUint8Array");function Yie(e,t){return(0,V0.HasPropertyKey)(e,"default")?e.default:{}}s(Yie,"TUnknown");function Jie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default}s(Jie,"TVoid");function Xie(e,t){if((0,V0.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}s(Xie,"TKind");function Bs(e,t){let r=(0,V0.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[ls.Kind]){case"Any":return bie(n,r);case"Array":return Cie(n,r);case"AsyncIterator":return Tie(n,r);case"BigInt":return Eie(n,r);case"Boolean":return Sie(n,r);case"Constructor":return wie(n,r);case"Date":return Iie(n,r);case"Function":return Aie(n,r);case"Integer":return Pie(n,r);case"Intersect":return Rie(n,r);case"Iterator":return kie(n,r);case"Literal":return Nie(n,r);case"Never":return Die(n,r);case"Not":return Lie(n,r);case"Null":return Bie(n,r);case"Number":return Oie(n,r);case"Object":return Fie(n,r);case"Promise":return Mie(n,r);case"Record":return Uie(n,r);case"Ref":return qie(n,r);case"String":return jie(n,r);case"Symbol":return $ie(n,r);case"TemplateLiteral":return Hie(n,r);case"This":return Vie(n,r);case"Tuple":return zie(n,r);case"Undefined":return Kie(n,r);case"Union":return Wie(n,r);case"Uint8Array":return Gie(n,r);case"Unknown":return Yie(n,r);case"Void":return Jie(n,r);default:if(!ls.TypeRegistry.Has(n[ls.Kind]))throw new Zp(n);return Xie(n,r)}}s(Bs,"Visit");var dH=512,mH=0;function Qie(...e){return mH=0,e.length===2?Bs(e[0],e[1]):Bs(e[0],[])}s(Qie,"Create");wi.Create=Qie});var vH=ae(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.Cast=Ii.Default=Ii.DefaultClone=Ii.ValueCastUnknownTypeError=Ii.ValueCastRecursiveTypeError=Ii.ValueCastNeverTypeError=Ii.ValueCastArrayUniqueItemsTypeError=void 0;var jc=Qi(),sf=lA(),ho=W5(),n2=r2(),gH=uc(),nf=ws(),dA=class dA extends nf.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};s(dA,"ValueCastArrayUniqueItemsTypeError");var sy=dA;Ii.ValueCastArrayUniqueItemsTypeError=sy;var hA=class hA extends nf.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};s(hA,"ValueCastNeverTypeError");var oy=hA;Ii.ValueCastNeverTypeError=oy;var mA=class mA extends nf.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};s(mA,"ValueCastRecursiveTypeError");var fA=mA;Ii.ValueCastRecursiveTypeError=fA;var gA=class gA extends nf.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(gA,"ValueCastUnknownTypeError");var ay=gA;Ii.ValueCastUnknownTypeError=ay;var cA;(function(e){function t(i,o,a){if(i[nf.Kind]==="Object"&&typeof a=="object"&&!(0,jc.IsNull)(a)){let l=i,f=Object.getOwnPropertyNames(a),c=Object.entries(l.properties),[u,d]=[1/c.length,c.length];return c.reduce((g,[p,y])=>{let _=y[nf.Kind]==="Literal"&&y.const===a[p]?d:0,S=(0,ho.Check)(y,o,a[p])?u:0,T=f.includes(p)?u:0;return g+(_+S+T)},0)}else return(0,ho.Check)(i,o,a)?1:0}s(t,"Score");function r(i,o,a){let[l,f]=[i.anyOf[0],0];for(let c of i.anyOf){let u=t(c,o,a);u>f&&(l=c,f=u)}return l}s(r,"Select");function n(i,o,a){if("default"in i)return i.default;{let l=r(i,o,a);return yH(l,o,a)}}s(n,"Create"),e.Create=n})(cA||(cA={}));function pH(e,t,r){return(0,ho.Check)(e,t,r)?(0,n2.Clone)(r):(0,sf.Create)(e,t)}s(pH,"DefaultClone");Ii.DefaultClone=pH;function uA(e,t,r){return(0,ho.Check)(e,t,r)?r:(0,sf.Create)(e,t)}s(uA,"Default");Ii.Default=uA;function Zie(e,t,r){if((0,ho.Check)(e,t,r))return(0,n2.Clone)(r);let n=(0,jc.IsArray)(r)?(0,n2.Clone)(r):(0,sf.Create)(e,t),i=(0,jc.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=((0,jc.IsNumber)(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(f=>Va(e.items,t,f));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!(0,ho.Check)(e,t,l))throw new sy(e,l);return l}s(Zie,"TArray");function ese(e,t,r){if((0,ho.Check)(e,t,r))return(0,sf.Create)(e,t);let n=new Set(e.returns.required||[]),i=s(function(){},"result");for(let[o,a]of Object.entries(e.returns.properties))!n.has(o)&&r.prototype[o]===void 0||(i.prototype[o]=Va(a,t,r.prototype[o]));return i}s(ese,"TConstructor");function tse(e,t,r){let n=(0,sf.Create)(e,t),i=(0,jc.IsPlainObject)(n)&&(0,jc.IsPlainObject)(r)?{...n,...r}:r;return(0,ho.Check)(e,t,i)?i:(0,sf.Create)(e,t)}s(tse,"TIntersect");function rse(e,t,r){throw new oy(e)}s(rse,"TNever");function nse(e,t,r){if((0,ho.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,sf.Create)(e,t);let n=new Set(e.required||[]),i={};for(let[o,a]of Object.entries(e.properties))!n.has(o)&&r[o]===void 0||(i[o]=Va(a,t,r[o]));if(typeof e.additionalProperties=="object"){let o=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))o.includes(a)||(i[a]=Va(e.additionalProperties,t,r[a]))}return i}s(nse,"TObject");function ise(e,t,r){if((0,ho.Check)(e,t,r))return(0,n2.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,sf.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[a,l]of Object.entries(r))o[a]=Va(i,t,l);return o}s(ise,"TRecord");function sse(e,t,r){return Va((0,gH.Deref)(e,t),t,r)}s(sse,"TRef");function ose(e,t,r){return Va((0,gH.Deref)(e,t),t,r)}s(ose,"TThis");function ase(e,t,r){return(0,ho.Check)(e,t,r)?(0,n2.Clone)(r):(0,jc.IsArray)(r)?e.items===void 0?[]:e.items.map((n,i)=>Va(n,t,r[i])):(0,sf.Create)(e,t)}s(ase,"TTuple");function lse(e,t,r){return(0,ho.Check)(e,t,r)?(0,n2.Clone)(r):cA.Create(e,t,r)}s(lse,"TUnion");function Va(e,t,r){let n=(0,jc.IsString)(e.$id)?[...t,e]:t,i=e;switch(e[nf.Kind]){case"Array":return Zie(i,n,r);case"Constructor":return ese(i,n,r);case"Intersect":return tse(i,n,r);case"Never":return rse(i,n,r);case"Object":return nse(i,n,r);case"Record":return ise(i,n,r);case"Ref":return sse(i,n,r);case"This":return ose(i,n,r);case"Tuple":return ase(i,n,r);case"Union":return lse(i,n,r);case"Date":case"Symbol":case"Uint8Array":return pH(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return uA(i,n,r);default:if(!nf.TypeRegistry.Has(i[nf.Kind]))throw new ay(i);return uA(i,n,r)}}s(Va,"Visit");function yH(...e){return e.length===3?Va(e[0],e[1],e[2]):Va(e[0],[],e[1])}s(yH,"Cast");Ii.Cast=yH});var TH=ae($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.Convert=$c.Default=$c.ValueConvertUnknownTypeError=void 0;var ur=Qi(),fse=r2(),cse=W5(),xH=uc(),i2=ws(),pA=class pA extends i2.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};s(pA,"ValueConvertUnknownTypeError");var ly=pA;$c.ValueConvertUnknownTypeError=ly;function fy(e){return(0,ur.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}s(fy,"IsStringNumeric");function use(e){return(0,ur.IsBigInt)(e)||(0,ur.IsBoolean)(e)||(0,ur.IsNumber)(e)}s(use,"IsValueToString");function M8(e){return e===!0||(0,ur.IsNumber)(e)&&e===1||(0,ur.IsBigInt)(e)&&e===BigInt("1")||(0,ur.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}s(M8,"IsValueTrue");function U8(e){return e===!1||(0,ur.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,ur.IsBigInt)(e)&&e===BigInt("0")||(0,ur.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}s(U8,"IsValueFalse");function dse(e){return(0,ur.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(dse,"IsTimeStringWithTimeZone");function hse(e){return(0,ur.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(hse,"IsTimeStringWithoutTimeZone");function mse(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(mse,"IsDateTimeStringWithTimeZone");function gse(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(gse,"IsDateTimeStringWithoutTimeZone");function pse(e){return(0,ur.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}s(pse,"IsDateString");function yse(e,t){let r=bH(e);return r===t?r:e}s(yse,"TryConvertLiteralString");function vse(e,t){let r=CH(e);return r===t?r:e}s(vse,"TryConvertLiteralNumber");function xse(e,t){let r=_H(e);return r===t?r:e}s(xse,"TryConvertLiteralBoolean");function _se(e,t){return typeof e.const=="string"?yse(t,e.const):typeof e.const=="number"?vse(t,e.const):typeof e.const=="boolean"?xse(t,e.const):(0,fse.Clone)(t)}s(_se,"TryConvertLiteral");function _H(e){return M8(e)?!0:U8(e)?!1:e}s(_H,"TryConvertBoolean");function bse(e){return fy(e)?BigInt(parseInt(e)):(0,ur.IsNumber)(e)?BigInt(e|0):U8(e)?BigInt(0):M8(e)?BigInt(1):e}s(bse,"TryConvertBigInt");function bH(e){return use(e)?e.toString():(0,ur.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}s(bH,"TryConvertString");function CH(e){return fy(e)?parseFloat(e):M8(e)?1:U8(e)?0:e}s(CH,"TryConvertNumber");function Cse(e){return fy(e)?parseInt(e):(0,ur.IsNumber)(e)?e|0:M8(e)?1:U8(e)?0:e}s(Cse,"TryConvertInteger");function Tse(e){return(0,ur.IsString)(e)&&e.toLowerCase()==="null"?null:e}s(Tse,"TryConvertNull");function Ese(e){return(0,ur.IsString)(e)&&e==="undefined"?void 0:e}s(Ese,"TryConvertUndefined");function Sse(e){return(0,ur.IsDate)(e)?e:(0,ur.IsNumber)(e)?new Date(e):M8(e)?new Date(1):U8(e)?new Date(0):fy(e)?new Date(parseInt(e)):hse(e)?new Date(`1970-01-01T${e}.000Z`):dse(e)?new Date(`1970-01-01T${e}`):gse(e)?new Date(`${e}.000Z`):mse(e)?new Date(e):pse(e)?new Date(`${e}T00:00:00.000Z`):e}s(Sse,"TryConvertDate");function wse(e){return e}s(wse,"Default");$c.Default=wse;function Ise(e,t,r){return(0,ur.IsArray)(r)?r.map(n=>Jo(e.items,t,n)):r}s(Ise,"TArray");function Ase(e,t,r){return bse(r)}s(Ase,"TBigInt");function Pse(e,t,r){return _H(r)}s(Pse,"TBoolean");function Rse(e,t,r){return Sse(r)}s(Rse,"TDate");function kse(e,t,r){return Cse(r)}s(kse,"TInteger");function Nse(e,t,r){return e.allOf.every(n=>i2.TypeGuard.TObject(n))?Jo(i2.Type.Composite(e.allOf),t,r):Jo(e.allOf[0],t,r)}s(Nse,"TIntersect");function Dse(e,t,r){return _se(e,r)}s(Dse,"TLiteral");function Lse(e,t,r){return Tse(r)}s(Lse,"TNull");function Bse(e,t,r){return CH(r)}s(Bse,"TNumber");function Ose(e,t,r){return(0,ur.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,i)=>r[i]!==void 0?{...n,[i]:Jo(e.properties[i],t,r[i])}:{...n},r):r}s(Ose,"TObject");function Fse(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[a,l]of Object.entries(r))o[a]=Jo(i,t,l);return o}s(Fse,"TRecord");function Mse(e,t,r){return Jo((0,xH.Deref)(e,t),t,r)}s(Mse,"TRef");function Use(e,t,r){return bH(r)}s(Use,"TString");function qse(e,t,r){return(0,ur.IsString)(r)||(0,ur.IsNumber)(r)?Symbol(r):r}s(qse,"TSymbol");function jse(e,t,r){return Jo((0,xH.Deref)(e,t),t,r)}s(jse,"TThis");function $se(e,t,r){return(0,ur.IsArray)(r)&&!(0,ur.IsUndefined)(e.items)?r.map((n,i)=>i<e.items.length?Jo(e.items[i],t,n):n):r}s($se,"TTuple");function Hse(e,t,r){return Ese(r)}s(Hse,"TUndefined");function Vse(e,t,r){for(let n of e.anyOf){let i=Jo(n,t,r);if((0,cse.Check)(n,t,i))return i}return r}s(Vse,"TUnion");function Jo(e,t,r){let n=(0,ur.IsString)(e.$id)?[...t,e]:t,i=e;switch(e[i2.Kind]){case"Array":return Ise(i,n,r);case"BigInt":return Ase(i,n,r);case"Boolean":return Pse(i,n,r);case"Date":return Rse(i,n,r);case"Integer":return kse(i,n,r);case"Intersect":return Nse(i,n,r);case"Literal":return Dse(i,n,r);case"Null":return Lse(i,n,r);case"Number":return Bse(i,n,r);case"Object":return Ose(i,n,r);case"Record":return Fse(i,n,r);case"Ref":return Mse(i,n,r);case"String":return Use(i,n,r);case"Symbol":return qse(i,n,r);case"This":return jse(i,n,r);case"Tuple":return $se(i,n,r);case"Undefined":return Hse(i,n,r);case"Union":return Vse(i,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!i2.TypeRegistry.Has(i[i2.Kind]))throw new ly(i);return r}}s(Jo,"Visit");function zse(...e){return e.length===3?Jo(e[0],e[1],e[2]):Jo(e[0],[],e[1])}s(zse,"Convert");$c.Convert=zse});var kH=ae(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});uy.Value=void 0;var EH=eg(),Kse=cH(),Wse=ph(),Gse=uH(),SH=vH(),Yse=r2(),wH=TH(),IH=lA(),AH=W5(),PH=XI(),cy=v_(),RH;(function(e){function t(...y){return SH.Cast.apply(SH,y)}s(t,"Cast"),e.Cast=t;function r(...y){return IH.Create.apply(IH,y)}s(r,"Create"),e.Create=r;function n(...y){return AH.Check.apply(AH,y)}s(n,"Check"),e.Check=n;function i(...y){return wH.Convert.apply(wH,y)}s(i,"Convert"),e.Convert=i;function o(y){return Yse.Clone(y)}s(o,"Clone"),e.Clone=o;function a(...y){let[_,S,T]=y.length===3?[y[0],y[1],y[2]]:[y[0],[],y[1]];if(!n(_,S,T))throw new cy.TransformDecodeCheckError(_,T,f(_,S,T).First());return cy.DecodeTransform.Decode(_,S,T)}s(a,"Decode"),e.Decode=a;function l(...y){let[_,S,T]=y.length===3?[y[0],y[1],y[2]]:[y[0],[],y[1]],I=cy.EncodeTransform.Encode(_,S,T);if(!n(_,S,I))throw new cy.TransformEncodeCheckError(_,T,f(_,S,T).First());return I}s(l,"Encode"),e.Encode=l;function f(...y){return EH.Errors.apply(EH,y)}s(f,"Errors"),e.Errors=f;function c(y,_){return Gse.Equal(y,_)}s(c,"Equal"),e.Equal=c;function u(y,_){return PH.Diff(y,_)}s(u,"Diff"),e.Diff=u;function d(y){return Wse.Hash(y)}s(d,"Hash"),e.Hash=d;function g(y,_){return PH.Patch(y,_)}s(g,"Patch"),e.Patch=g;function p(y,_){Kse.Mutate(y,_)}s(p,"Mutate"),e.Mutate=p})(RH||(uy.Value=RH={}))});var DH=ae(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.Value=kn.ValuePointer=kn.Delete=kn.Update=kn.Insert=kn.Edit=kn.ValueErrorIterator=kn.ValueErrorType=void 0;var NH=eg();Object.defineProperty(kn,"ValueErrorType",{enumerable:!0,get:function(){return NH.ValueErrorType}});Object.defineProperty(kn,"ValueErrorIterator",{enumerable:!0,get:function(){return NH.ValueErrorIterator}});var dy=XI();Object.defineProperty(kn,"Edit",{enumerable:!0,get:function(){return dy.Edit}});Object.defineProperty(kn,"Insert",{enumerable:!0,get:function(){return dy.Insert}});Object.defineProperty(kn,"Update",{enumerable:!0,get:function(){return dy.Update}});Object.defineProperty(kn,"Delete",{enumerable:!0,get:function(){return dy.Delete}});var Jse=Vp();Object.defineProperty(kn,"ValuePointer",{enumerable:!0,get:function(){return Jse.ValuePointer}});var Xse=kH();Object.defineProperty(kn,"Value",{enumerable:!0,get:function(){return Xse.Value}})});var v0=ae((pCe,nV)=>{nV.exports={options:{usePureJavaScript:!1}}});var oV=ae((yCe,sV)=>{var YA={};sV.exports=YA;var iV={};YA.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=doe(e,t);else{var i=0,o=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var f=0,c=e[i];f<l.length;++f)c+=l[f]<<8,l[f]=c%o,c=c/o|0;for(;c>0;)l.push(c%o),c=c/o|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};YA.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=iV[t];if(!r){r=iV[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,o=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var f=0,c=l;f<a.length;++f)c+=a[f]*i,a[f]=c&255,c>>=8;for(;c>0;)a.push(c&255),c>>=8}for(var u=0;e[u]===o&&u<e.length-1;++u)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function doe(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<o.length;++a)l+=o[a]<<8,o[a]=l%n,l=l/n|0;for(;l>0;)o.push(l%n),l=l/n|0}var f="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)f+=i;for(r=o.length-1;r>=0;--r)f+=t[o[r]];return f}s(doe,"_encodeWithByteBuffer")});var G0=ae((xCe,cV)=>{var aV=v0(),lV=oV(),ge=cV.exports=aV.util=aV.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ge.nextTick=process.nextTick,typeof setImmediate=="function"?ge.setImmediate=setImmediate:ge.setImmediate=ge.nextTick;return}if(typeof setImmediate=="function"){ge.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ge.nextTick=function(l){return setImmediate(l)};return}if(ge.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(f){if(f.source===window&&f.data===e){f.stopPropagation();var c=t.slice();t.length=0,c.forEach(function(u){u()})}};var a=l;s(l,"handler");var e="forge.setImmediate",t=[];ge.setImmediate=function(f){t.push(f),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var f=t.slice();t.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var o=ge.setImmediate;ge.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),o(f)):(t.push(f),t.length===1&&i.setAttribute("a",n=!n))}}ge.nextTick=ge.setImmediate})();ge.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ge.globalScope=function(){return ge.isNodejs?global:typeof self>"u"?window:self}();ge.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};ge.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};ge.isArrayBufferView=function(e){return e&&ge.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function K8(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}s(K8,"_checkBitsParam");ge.ByteBuffer=JA;function JA(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(ge.isArrayBuffer(e)||ge.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof JA||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}s(JA,"ByteStringBuffer");ge.ByteStringBuffer=JA;var hoe=4096;ge.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>hoe&&(this.data.substr(0,1),this._constructedStringLength=0)};ge.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ge.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ge.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};ge.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};ge.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};ge.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(ge.encodeUtf8(e))};ge.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};ge.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};ge.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};ge.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};ge.ByteStringBuffer.prototype.putInt=function(e,t){K8(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};ge.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};ge.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};ge.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ge.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};ge.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};ge.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};ge.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};ge.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};ge.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};ge.ByteStringBuffer.prototype.getInt=function(e){K8(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};ge.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};ge.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};ge.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};ge.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};ge.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};ge.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ge.ByteStringBuffer.prototype.copy=function(){var e=ge.createBuffer(this.data);return e.read=this.read,e};ge.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ge.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ge.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};ge.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};ge.ByteStringBuffer.prototype.toString=function(){return ge.decodeUtf8(this.bytes())};function moe(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=ge.isArrayBuffer(e),n=ge.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}s(moe,"DataBuffer");ge.DataBuffer=moe;ge.DataBuffer.prototype.length=function(){return this.write-this.read};ge.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ge.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};ge.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};ge.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};ge.DataBuffer.prototype.putBytes=function(e,t){if(ge.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(ge.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof ge.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&ge.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof ge.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var o;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.hex.decode(e,o,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.base64.decode(e,o,this.write),this;if(t==="utf8"&&(e=ge.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=ge.binary.raw.decode(o),this;if(t==="utf16")return this.accommodate(e.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=ge.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};ge.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};ge.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};ge.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};ge.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};ge.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};ge.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};ge.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};ge.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};ge.DataBuffer.prototype.putInt=function(e,t){K8(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};ge.DataBuffer.prototype.putSignedInt=function(e,t){return K8(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};ge.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ge.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};ge.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};ge.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};ge.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};ge.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};ge.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};ge.DataBuffer.prototype.getInt=function(e){K8(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};ge.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};ge.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};ge.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};ge.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};ge.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};ge.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ge.DataBuffer.prototype.copy=function(){return new ge.DataBuffer(this)};ge.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};ge.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ge.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};ge.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};ge.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return ge.binary.raw.encode(t);if(e==="hex")return ge.binary.hex.encode(t);if(e==="base64")return ge.binary.base64.encode(t);if(e==="utf8")return ge.text.utf8.decode(t);if(e==="utf16")return ge.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};ge.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=ge.encodeUtf8(e)),new ge.ByteBuffer(e)};ge.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};ge.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=o,o="",l=0),o+=String.fromCharCode(i),++l;return n+=o,n};ge.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};ge.bytesToHex=function(e){return ge.createBuffer(e).toHex()};ge.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Kc=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],fV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ge.encode64=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.length;)i=e.charCodeAt(l++),o=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=zc.charAt(i>>2),r+=zc.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=zc.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":zc.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};ge.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,o,a=0;a<e.length;)r=Kc[e.charCodeAt(a++)-43],n=Kc[e.charCodeAt(a++)-43],i=Kc[e.charCodeAt(a++)-43],o=Kc[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(t+=String.fromCharCode((i&3)<<6|o)));return t};ge.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};ge.decodeUtf8=function(e){return decodeURIComponent(escape(e))};ge.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:lV.encode,decode:lV.decode}};ge.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};ge.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};ge.binary.hex.encode=ge.bytesToHex;ge.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,o=r;for(e.length&1&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n};ge.binary.base64.encode=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.byteLength;)i=e[l++],o=e[l++],a=e[l++],r+=zc.charAt(i>>2),r+=zc.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=zc.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":zc.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};ge.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,l,f=0,c=r;f<e.length;)i=Kc[e.charCodeAt(f++)-43],o=Kc[e.charCodeAt(f++)-43],a=Kc[e.charCodeAt(f++)-43],l=Kc[e.charCodeAt(f++)-43],n[c++]=i<<2|o>>4,a!==64&&(n[c++]=(o&15)<<4|a>>2,l!==64&&(n[c++]=(a&3)<<6|l));return t?c-r:n.subarray(0,c)};ge.binary.base58.encode=function(e,t){return ge.binary.baseN.encode(e,fV,t)};ge.binary.base58.decode=function(e,t){return ge.binary.baseN.decode(e,fV,t)};ge.text={utf8:{},utf16:{}};ge.text.utf8.encode=function(e,t,r){e=ge.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};ge.text.utf8.decode=function(e){return ge.decodeUtf8(String.fromCharCode.apply(null,e))};ge.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),o+=2;return t?o-r:n};ge.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};ge.deflate=function(e,t,r){if(t=ge.decode64(e.deflate(ge.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};ge.inflate=function(e,t,r){var n=e.inflate(ge.encode64(t)).rval;return n===null?null:ge.decode64(n)};var XA=s(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=ge.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),QA=s(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ge.decode64(r))),r},"_getStorageObject"),goe=s(function(e,t,r,n){var i=QA(e,t);i===null&&(i={}),i[r]=n,XA(e,t,i)},"_setItem"),poe=s(function(e,t,r){var n=QA(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),yoe=s(function(e,t,r){var n=QA(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),XA(e,t,n)}},"_removeItem"),voe=s(function(e,t){XA(e,t,null)},"_clearItems"),by=s(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),o=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),o=!0)}catch(f){a=f}if(o)break}if(!o)throw a;return n},"_callStorageFunction");ge.setItem=function(e,t,r,n,i){by(goe,arguments,i)};ge.getItem=function(e,t,r,n){return by(poe,arguments,n)};ge.removeItem=function(e,t,r,n){by(yoe,arguments,n)};ge.clearItems=function(e,t,r){by(voe,arguments,r)};ge.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};ge.format=function(e){for(var t=/%./g,r,n,i=0,o=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&o.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+l+"?>")}}return o.push(e.substring(a)),o.join("")};ge.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+l:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+l)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")};ge.formatSize=function(e){return e>=1073741824?e=ge.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=ge.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=ge.formatNumber(e/1024,0)+" KiB":e=ge.formatNumber(e,0)+" bytes",e};ge.bytesFromIP=function(e){return e.indexOf(".")!==-1?ge.bytesFromIPv4(e):e.indexOf(":")!==-1?ge.bytesFromIPv6(e):null};ge.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=ge.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};ge.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=ge.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=ge.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};ge.bytesToIP=function(e){return e.length===4?ge.bytesToIPv4(e):e.length===16?ge.bytesToIPv6(e):null};ge.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};ge.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=ge.bytesToHex(e[i]+e[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(o)}if(r.length>0){var f=r[n];f.end-f.start>0&&(t.splice(f.start,f.end-f.start+1,""),f.start===0&&t.unshift(""),f.end===7&&t.push(""))}return t.join(":")};ge.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in ge&&!e.update)return t(null,ge.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ge.cores=navigator.hardwareConcurrency,t(null,ge.cores);if(typeof Worker>"u")return ge.cores=1,t(null,ge.cores);if(typeof Blob>"u")return ge.cores=2,t(null,ge.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),f=l+4;Date.now()<f;);self.postMessage({st:l,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,f){if(l===0){var c=Math.floor(a.reduce(function(u,d){return u+d},0)/a.length);return ge.cores=Math.max(1,c),URL.revokeObjectURL(r),t(null,ge.cores)}i(f,function(u,d){a.push(o(f,d)),n(a,l-1,f)})}s(n,"sample");function i(a,l){for(var f=[],c=[],u=0;u<a;++u){var d=new Worker(r);d.addEventListener("message",function(g){if(c.push(g.data),c.length===a){for(var p=0;p<a;++p)f[p].terminate();l(null,c)}}),f.push(d)}for(var u=0;u<a;++u)f[u].postMessage(u)}s(i,"map");function o(a,l){for(var f=[],c=0;c<a;++c)for(var u=l[c],d=f[c]=[],g=0;g<a;++g)if(c!==g){var p=l[g];(u.st>p.st&&u.st<p.et||p.st>u.st&&p.st<u.et)&&d.push(g)}return f.reduce(function(y,_){return Math.max(y,_.length)},0)}s(o,"reduce")}});var Cy=ae((bCe,uV)=>{var Dn=v0();G0();uV.exports=Dn.cipher=Dn.cipher||{};Dn.cipher.algorithms=Dn.cipher.algorithms||{};Dn.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Dn.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Dn.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Dn.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Dn.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Dn.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Dn.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Dn.cipher.algorithms[e]=t};Dn.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Dn.cipher.algorithms?Dn.cipher.algorithms[e]:null};var ZA=Dn.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};ZA.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Dn.util.createBuffer(),this.output=e.output||Dn.util.createBuffer(),this.mode.start(t)};ZA.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};ZA.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var tP=ae((CCe,dV)=>{var Ln=v0();G0();Ln.cipher=Ln.cipher||{};var P0=dV.exports=Ln.cipher.modes=Ln.cipher.modes||{};P0.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};P0.ecb.prototype.start=function(e){};P0.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};P0.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};P0.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};P0.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};P0.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};P0.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Ty(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};P0.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};P0.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};P0.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};P0.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};P0.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ln.util.createBuffer(),this._partialBytes=0};P0.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ty(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};P0.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};P0.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};P0.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ln.util.createBuffer(),this._partialBytes=0};P0.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ty(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};P0.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};P0.ofb.prototype.decrypt=P0.ofb.prototype.encrypt;P0.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ln.util.createBuffer(),this._partialBytes=0};P0.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Ty(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};P0.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Ey(this._inBlock)};P0.ctr.prototype.decrypt=P0.ctr.prototype.encrypt;P0.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ln.util.createBuffer(),this._partialBytes=0,this._R=3774873600};P0.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Ln.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Ln.util.createBuffer(e.additionalData):r=Ln.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Ln.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(eP(n*8)))}this._inBlock=this._j0.slice(0),Ey(this._inBlock),this._partialBytes=0,r=Ln.util.createBuffer(r),this._aDataLength=eP(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};P0.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Ey(this._inBlock)};P0.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Ey(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};P0.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Ln.util.createBuffer();var n=this._aDataLength.concat(eP(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};P0.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var o=e[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};P0.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};P0.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,o=this._m[r][i];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t};P0.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};P0.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],f=a/n|0,c=(n-1-a%n)*t;l[f]=1<<t-1<<c,o[a]=this.generateSubHashTable(this.multiply(l,e),t)}return o};P0.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var l=i[o],f=i[a];i[o+a]=[l[0]^f[0],l[1]^f[1],l[2]^f[2],l[3]^f[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i};function Ty(e,t){if(typeof e=="string"&&(e=Ln.util.createBuffer(e)),Ln.util.isArray(e)&&e.length>4){var r=e;e=Ln.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Ln.util.isArray(e)){for(var i=[],o=t/4,n=0;n<o;++n)i.push(e.getInt32());e=i}return e}s(Ty,"transformIV");function Ey(e){e[e.length-1]=e[e.length-1]+1&4294967295}s(Ey,"inc32");function eP(e){return[e/4294967296|0,e&4294967295]}s(eP,"from64To32")});var Wc=ae((ECe,pV)=>{var vr=v0();Cy();tP();G0();pV.exports=vr.aes=vr.aes||{};vr.aes.startEncrypting=function(e,t,r,n){var i=Sy({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};vr.aes.createEncryptionCipher=function(e,t){return Sy({key:e,output:null,decrypt:!1,mode:t})};vr.aes.startDecrypting=function(e,t,r,n){var i=Sy({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};vr.aes.createDecryptionCipher=function(e,t){return Sy({key:e,output:null,decrypt:!0,mode:t})};vr.aes.Algorithm=function(e,t){iP||mV();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return nP(r._w,n,i,!1)},decrypt:function(n,i){return nP(r._w,n,i,!0)}}}),r._init=!1};vr.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=vr.util.createBuffer(t);else if(vr.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=vr.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!vr.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!vr.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=gV(t,e.decrypt&&!a),this._init=!0}};vr.aes._expandKey=function(e,t){return iP||mV(),gV(e,t)};vr.aes._updateBlock=nP;h2("AES-ECB",vr.cipher.modes.ecb);h2("AES-CBC",vr.cipher.modes.cbc);h2("AES-CFB",vr.cipher.modes.cfb);h2("AES-OFB",vr.cipher.modes.ofb);h2("AES-CTR",vr.cipher.modes.ctr);h2("AES-GCM",vr.cipher.modes.gcm);function h2(e,t){var r=s(function(){return new vr.aes.Algorithm(e,t)},"factory");vr.cipher.registerAlgorithm(e,r)}s(h2,"registerAlgorithm");var iP=!1,d2=4,Fi,rP,hV,_d,Qo;function mV(){iP=!0,hV=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Fi=new Array(256),rP=new Array(256),_d=new Array(4),Qo=new Array(4);for(var t=0;t<4;++t)_d[t]=new Array(256),Qo[t]=new Array(256);for(var r=0,n=0,i,o,a,l,f,c,u,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,Fi[r]=l,rP[l]=r,f=e[l],i=e[r],o=e[i],a=e[o],c=f<<24^l<<16^l<<8^(l^f),u=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var d=0;d<4;++d)_d[d][r]=c,Qo[d][l]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}s(mV,"initialize");function gV(e,t){for(var r=e.slice(0),n,i=1,o=r.length,a=o+6+1,l=d2*a,f=o;f<l;++f)n=r[f-1],f%o===0?(n=Fi[n>>>16&255]<<24^Fi[n>>>8&255]<<16^Fi[n&255]<<8^Fi[n>>>24]^hV[i]<<24,i++):o>6&&f%o===4&&(n=Fi[n>>>24]<<24^Fi[n>>>16&255]<<16^Fi[n>>>8&255]<<8^Fi[n&255]),r[f]=r[f-o]^n;if(t){var c,u=Qo[0],d=Qo[1],g=Qo[2],p=Qo[3],y=r.slice(0);l=r.length;for(var f=0,_=l-d2;f<l;f+=d2,_-=d2)if(f===0||f===l-d2)y[f]=r[_],y[f+1]=r[_+3],y[f+2]=r[_+2],y[f+3]=r[_+1];else for(var S=0;S<d2;++S)c=r[_+S],y[f+(3&-S)]=u[Fi[c>>>24]]^d[Fi[c>>>16&255]]^g[Fi[c>>>8&255]]^p[Fi[c&255]];r=y}return r}s(gV,"_expandKey");function nP(e,t,r,n){var i=e.length/4-1,o,a,l,f,c;n?(o=Qo[0],a=Qo[1],l=Qo[2],f=Qo[3],c=rP):(o=_d[0],a=_d[1],l=_d[2],f=_d[3],c=Fi);var u,d,g,p,y,_,S;u=t[0]^e[0],d=t[n?3:1]^e[1],g=t[2]^e[2],p=t[n?1:3]^e[3];for(var T=3,I=1;I<i;++I)y=o[u>>>24]^a[d>>>16&255]^l[g>>>8&255]^f[p&255]^e[++T],_=o[d>>>24]^a[g>>>16&255]^l[p>>>8&255]^f[u&255]^e[++T],S=o[g>>>24]^a[p>>>16&255]^l[u>>>8&255]^f[d&255]^e[++T],p=o[p>>>24]^a[u>>>16&255]^l[d>>>8&255]^f[g&255]^e[++T],u=y,d=_,g=S;r[0]=c[u>>>24]<<24^c[d>>>16&255]<<16^c[g>>>8&255]<<8^c[p&255]^e[++T],r[n?3:1]=c[d>>>24]<<24^c[g>>>16&255]<<16^c[p>>>8&255]<<8^c[u&255]^e[++T],r[2]=c[g>>>24]<<24^c[p>>>16&255]<<16^c[u>>>8&255]<<8^c[d&255]^e[++T],r[n?1:3]=c[p>>>24]<<24^c[u>>>16&255]<<16^c[d>>>8&255]<<8^c[g&255]^e[++T]}s(nP,"_updateBlock");function Sy(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=vr.cipher.createDecipher(r,e.key):n=vr.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof vr.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(Sy,"_createCipher")});var Gc=ae((wCe,yV)=>{var W8=v0();W8.pki=W8.pki||{};var sP=yV.exports=W8.pki.oids=W8.oids=W8.oids||{};function ot(e,t){sP[e]=t,sP[t]=e}s(ot,"_IN");function ar(e,t){sP[e]=t}s(ar,"_I_");ot("1.2.840.113549.1.1.1","rsaEncryption");ot("1.2.840.113549.1.1.4","md5WithRSAEncryption");ot("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ot("1.2.840.113549.1.1.7","RSAES-OAEP");ot("1.2.840.113549.1.1.8","mgf1");ot("1.2.840.113549.1.1.9","pSpecified");ot("1.2.840.113549.1.1.10","RSASSA-PSS");ot("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ot("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ot("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ot("1.3.101.112","EdDSA25519");ot("1.2.840.10040.4.3","dsa-with-sha1");ot("1.3.14.3.2.7","desCBC");ot("1.3.14.3.2.26","sha1");ot("1.3.14.3.2.29","sha1WithRSASignature");ot("2.16.840.1.101.3.4.2.1","sha256");ot("2.16.840.1.101.3.4.2.2","sha384");ot("2.16.840.1.101.3.4.2.3","sha512");ot("2.16.840.1.101.3.4.2.4","sha224");ot("2.16.840.1.101.3.4.2.5","sha512-224");ot("2.16.840.1.101.3.4.2.6","sha512-256");ot("1.2.840.113549.2.2","md2");ot("1.2.840.113549.2.5","md5");ot("1.2.840.113549.1.7.1","data");ot("1.2.840.113549.1.7.2","signedData");ot("1.2.840.113549.1.7.3","envelopedData");ot("1.2.840.113549.1.7.4","signedAndEnvelopedData");ot("1.2.840.113549.1.7.5","digestedData");ot("1.2.840.113549.1.7.6","encryptedData");ot("1.2.840.113549.1.9.1","emailAddress");ot("1.2.840.113549.1.9.2","unstructuredName");ot("1.2.840.113549.1.9.3","contentType");ot("1.2.840.113549.1.9.4","messageDigest");ot("1.2.840.113549.1.9.5","signingTime");ot("1.2.840.113549.1.9.6","counterSignature");ot("1.2.840.113549.1.9.7","challengePassword");ot("1.2.840.113549.1.9.8","unstructuredAddress");ot("1.2.840.113549.1.9.14","extensionRequest");ot("1.2.840.113549.1.9.20","friendlyName");ot("1.2.840.113549.1.9.21","localKeyId");ot("1.2.840.113549.1.9.22.1","x509Certificate");ot("1.2.840.113549.1.12.10.1.1","keyBag");ot("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ot("1.2.840.113549.1.12.10.1.3","certBag");ot("1.2.840.113549.1.12.10.1.4","crlBag");ot("1.2.840.113549.1.12.10.1.5","secretBag");ot("1.2.840.113549.1.12.10.1.6","safeContentsBag");ot("1.2.840.113549.1.5.13","pkcs5PBES2");ot("1.2.840.113549.1.5.12","pkcs5PBKDF2");ot("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ot("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ot("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ot("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ot("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ot("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ot("1.2.840.113549.2.7","hmacWithSHA1");ot("1.2.840.113549.2.8","hmacWithSHA224");ot("1.2.840.113549.2.9","hmacWithSHA256");ot("1.2.840.113549.2.10","hmacWithSHA384");ot("1.2.840.113549.2.11","hmacWithSHA512");ot("1.2.840.113549.3.7","des-EDE3-CBC");ot("2.16.840.1.101.3.4.1.2","aes128-CBC");ot("2.16.840.1.101.3.4.1.22","aes192-CBC");ot("2.16.840.1.101.3.4.1.42","aes256-CBC");ot("2.5.4.3","commonName");ot("2.5.4.4","surname");ot("2.5.4.5","serialNumber");ot("2.5.4.6","countryName");ot("2.5.4.7","localityName");ot("2.5.4.8","stateOrProvinceName");ot("2.5.4.9","streetAddress");ot("2.5.4.10","organizationName");ot("2.5.4.11","organizationalUnitName");ot("2.5.4.12","title");ot("2.5.4.13","description");ot("2.5.4.15","businessCategory");ot("2.5.4.17","postalCode");ot("2.5.4.42","givenName");ot("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ot("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ot("2.16.840.1.113730.1.1","nsCertType");ot("2.16.840.1.113730.1.13","nsComment");ar("2.5.29.1","authorityKeyIdentifier");ar("2.5.29.2","keyAttributes");ar("2.5.29.3","certificatePolicies");ar("2.5.29.4","keyUsageRestriction");ar("2.5.29.5","policyMapping");ar("2.5.29.6","subtreesConstraint");ar("2.5.29.7","subjectAltName");ar("2.5.29.8","issuerAltName");ar("2.5.29.9","subjectDirectoryAttributes");ar("2.5.29.10","basicConstraints");ar("2.5.29.11","nameConstraints");ar("2.5.29.12","policyConstraints");ar("2.5.29.13","basicConstraints");ot("2.5.29.14","subjectKeyIdentifier");ot("2.5.29.15","keyUsage");ar("2.5.29.16","privateKeyUsagePeriod");ot("2.5.29.17","subjectAltName");ot("2.5.29.18","issuerAltName");ot("2.5.29.19","basicConstraints");ar("2.5.29.20","cRLNumber");ar("2.5.29.21","cRLReason");ar("2.5.29.22","expirationDate");ar("2.5.29.23","instructionCode");ar("2.5.29.24","invalidityDate");ar("2.5.29.25","cRLDistributionPoints");ar("2.5.29.26","issuingDistributionPoint");ar("2.5.29.27","deltaCRLIndicator");ar("2.5.29.28","issuingDistributionPoint");ar("2.5.29.29","certificateIssuer");ar("2.5.29.30","nameConstraints");ot("2.5.29.31","cRLDistributionPoints");ot("2.5.29.32","certificatePolicies");ar("2.5.29.33","policyMappings");ar("2.5.29.34","policyConstraints");ot("2.5.29.35","authorityKeyIdentifier");ar("2.5.29.36","policyConstraints");ot("2.5.29.37","extKeyUsage");ar("2.5.29.46","freshestCRL");ar("2.5.29.54","inhibitAnyPolicy");ot("1.3.6.1.4.1.11129.2.4.2","timestampList");ot("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ot("1.3.6.1.5.5.7.3.1","serverAuth");ot("1.3.6.1.5.5.7.3.2","clientAuth");ot("1.3.6.1.5.5.7.3.3","codeSigning");ot("1.3.6.1.5.5.7.3.4","emailProtection");ot("1.3.6.1.5.5.7.3.8","timeStamping")});var Zo=ae((ACe,xV)=>{var Tr=v0();G0();Gc();var yt=xV.exports=Tr.asn1=Tr.asn1||{};yt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};yt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};yt.create=function(e,t,r,n,i){if(Tr.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var l={tagClass:e,type:t,constructed:r,composed:r||Tr.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=yt.copy(l)),l};yt.copy=function(e,t){var r;if(Tr.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(yt.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:yt.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};yt.equals=function(e,t,r){if(Tr.util.isArray(e)){if(!Tr.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!yt.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&yt.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};yt.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function G8(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}s(G8,"_checkBufferLength");var xoe=s(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;G8(e,t,o),n=e.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");yt.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Tr.util.createBuffer(e));var r=e.length(),n=wy(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function wy(e,t,r,n){var i;G8(e,t,2);var o=e.getByte();t--;var a=o&192,l=o&31;i=e.length();var f=xoe(e,t);if(t-=i-e.length(),f!==void 0&&f>t){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=e.length(),c.remaining=t,c.requested=f,c}f=t}var u,d,g=(o&32)===32;if(g)if(u=[],f===void 0)for(;;){if(G8(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),u.push(wy(e,t,r+1,n)),t-=i-e.length()}else for(;f>0;)i=e.length(),u.push(wy(e,f,r+1,n)),t-=i-e.length(),f-=i-e.length();if(u===void 0&&a===yt.Class.UNIVERSAL&&l===yt.Type.BITSTRING&&(d=e.bytes(f)),u===void 0&&n.decodeBitStrings&&a===yt.Class.UNIVERSAL&&l===yt.Type.BITSTRING&&f>1){var p=e.read,y=t,_=0;if(l===yt.Type.BITSTRING&&(G8(e,t,1),_=e.getByte(),t--),_===0)try{i=e.length();var S={strict:!0,decodeBitStrings:!0},T=wy(e,t,r+1,S),I=i-e.length();t-=I,l==yt.Type.BITSTRING&&I++;var P=T.tagClass;I===f&&(P===yt.Class.UNIVERSAL||P===yt.Class.CONTEXT_SPECIFIC)&&(u=[T])}catch{}u===void 0&&(e.read=p,t=y)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=t}if(l===yt.Type.BMPSTRING)for(u="";f>0;f-=2)G8(e,t,2),u+=String.fromCharCode(e.getInt16()),t-=2;else u=e.getBytes(f),t-=f}var U=d===void 0?null:{bitStringContents:d};return yt.create(a,l,g,u,U)}s(wy,"_fromDer");yt.toDer=function(e){var t=Tr.util.createBuffer(),r=e.tagClass|e.type,n=Tr.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=yt.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var o=0;o<e.value.length;++o)e.value[o]!==void 0&&n.putBuffer(yt.toDer(e.value[o]))}else if(e.type===yt.Type.BMPSTRING)for(var o=0;o<e.value.length;++o)n.putInt16(e.value.charCodeAt(o));else e.type===yt.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var o=l.length-1;o>=0;--o)t.putByte(l.charCodeAt(o))}return t.putBuffer(n),t};yt.oidToDer=function(e){var t=e.split("."),r=Tr.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,o,a,l=2;l<t.length;++l){n=!0,i=[],o=parseInt(t[l],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};yt.derToOid=function(e){var t;typeof e=="string"&&(e=Tr.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};yt.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var f=e.charAt(10),c=10;f!=="+"&&f!=="-"&&(l=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,0),c&&(f=e.charAt(c),f==="+"||f==="-")){var u=parseInt(e.substr(c+1,2),10),d=parseInt(e.substr(c+4,2),10),g=u*60+d;g*=6e4,f==="+"?t.setTime(+t-g):t.setTime(+t+g)}return t};yt.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),f=0,c=0,u=!1;e.charAt(e.length-1)==="Z"&&(u=!0);var d=e.length-5,g=e.charAt(d);if(g==="+"||g==="-"){var p=parseInt(e.substr(d+1,2),10),y=parseInt(e.substr(d+4,2),10);c=p*60+y,c*=6e4,g==="+"&&(c*=-1),u=!0}return e.charAt(14)==="."&&(f=parseFloat(e.substr(14),10)*1e3),u?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,f),t.setTime(+t+c)):(t.setFullYear(r,n,i),t.setHours(o,a,l,f)),t};yt.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yt.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};yt.integerToDer=function(e){var t=Tr.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};yt.derToInteger=function(e){typeof e=="string"&&(e=Tr.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};yt.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&Tr.util.isArray(t.value))for(var o=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[o]&&(i=yt.validate(e.value[o],t.value[a],r,n),i?++o:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var f=e.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var vV=/[^\\u0000-\\u00ff]/;yt.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",o=0;o<t*r;++o)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case yt.Class.UNIVERSAL:n+="Universal:";break;case yt.Class.APPLICATION:n+="Application:";break;case yt.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case yt.Class.PRIVATE:n+="Private:";break}if(e.tagClass===yt.Class.UNIVERSAL)switch(n+=e.type,e.type){case yt.Type.NONE:n+=" (None)";break;case yt.Type.BOOLEAN:n+=" (Boolean)";break;case yt.Type.INTEGER:n+=" (Integer)";break;case yt.Type.BITSTRING:n+=" (Bit string)";break;case yt.Type.OCTETSTRING:n+=" (Octet string)";break;case yt.Type.NULL:n+=" (Null)";break;case yt.Type.OID:n+=" (Object Identifier)";break;case yt.Type.ODESC:n+=" (Object Descriptor)";break;case yt.Type.EXTERNAL:n+=" (External or Instance of)";break;case yt.Type.REAL:n+=" (Real)";break;case yt.Type.ENUMERATED:n+=" (Enumerated)";break;case yt.Type.EMBEDDED:n+=" (Embedded PDV)";break;case yt.Type.UTF8:n+=" (UTF8)";break;case yt.Type.ROID:n+=" (Relative Object Identifier)";break;case yt.Type.SEQUENCE:n+=" (Sequence)";break;case yt.Type.SET:n+=" (Set)";break;case yt.Type.PRINTABLESTRING:n+=" (Printable String)";break;case yt.Type.IA5String:n+=" (IA5String (ASCII))";break;case yt.Type.UTCTIME:n+=" (UTC time)";break;case yt.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case yt.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",o=0;o<e.value.length;++o)e.value[o]!==void 0&&(a+=1,l+=yt.prettyPrint(e.value[o],t+1,r),o+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===yt.Type.OID){var f=yt.derToOid(e.value);n+=f,Tr.pki&&Tr.pki.oids&&f in Tr.pki.oids&&(n+=" ("+Tr.pki.oids[f]+") ")}if(e.type===yt.Type.INTEGER)try{n+=yt.derToInteger(e.value)}catch{n+="0x"+Tr.util.bytesToHex(e.value)}else if(e.type===yt.Type.BITSTRING){if(e.value.length>1?n+="0x"+Tr.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var c=e.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(e.type===yt.Type.OCTETSTRING)vV.test(e.value)||(n+="("+e.value+") "),n+="0x"+Tr.util.bytesToHex(e.value);else if(e.type===yt.Type.UTF8)try{n+=Tr.util.decodeUtf8(e.value)}catch(u){if(u.message==="URI malformed")n+="0x"+Tr.util.bytesToHex(e.value)+" (malformed UTF8)";else throw u}else e.type===yt.Type.PRINTABLESTRING||e.type===yt.Type.IA5String?n+=e.value:vV.test(e.value)?n+="0x"+Tr.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var za=ae((RCe,_V)=>{var Iy=v0();_V.exports=Iy.md=Iy.md||{};Iy.md.algorithms=Iy.md.algorithms||{}});var m2=ae((kCe,bV)=>{var af=v0();za();G0();var _oe=bV.exports=af.hmac=af.hmac||{};_oe.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in af.md.algorithms)t=af.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else t=o;if(a===null)a=e;else{if(typeof a=="string")a=af.util.createBuffer(a);else if(af.util.isArray(a)){var l=a;a=af.util.createBuffer();for(var f=0;f<l.length;++f)a.putByte(l[f])}var c=a.length();c>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=af.util.createBuffer(),n=af.util.createBuffer(),c=a.length();for(var f=0;f<c;++f){var l=a.at(f);r.putByte(54^l),n.putByte(92^l)}if(c<t.blockLength)for(var l=t.blockLength-c,f=0;f<l;++f)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(o){t.update(o)},i.getMac=function(){var o=t.digest().bytes();return t.start(),t.update(n),t.update(o),t.digest()},i.digest=i.getMac,i}});var Py=ae((NCe,SV)=>{var Ka=v0();za();G0();var TV=SV.exports=Ka.md5=Ka.md5||{};Ka.md.md5=Ka.md.algorithms.md5=TV;TV.create=function(){EV||boe();var e=null,t=Ka.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Ka.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ka.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),CV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ka.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(oP.substr(0,n.blockLength-a));for(var l,f=0,c=n.fullMessageLength.length-1;c>=0;--c)l=n.fullMessageLength[c]*8+f,f=l/4294967296>>>0,i.putInt32Le(l>>>0);var u={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};CV(u,r,i);var d=Ka.util.createBuffer();return d.putInt32Le(u.h0),d.putInt32Le(u.h1),d.putInt32Le(u.h2),d.putInt32Le(u.h3),d},n};var oP=null,Ay=null,Y8=null,g2=null,EV=!1;function boe(){oP="\x80",oP+=Ka.util.fillString("\0",64),Ay=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],Y8=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],g2=new Array(64);for(var e=0;e<64;++e)g2[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);EV=!0}s(boe,"_init");function CV(e,t,r){for(var n,i,o,a,l,f,c,u,d=r.length();d>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,u=0;u<16;++u)t[u]=r.getInt32Le(),f=l^o&(a^l),n=i+f+g2[u]+t[u],c=Y8[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<32;++u)f=a^l&(o^a),n=i+f+g2[u]+t[Ay[u]],c=Y8[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<48;++u)f=o^a^l,n=i+f+g2[u]+t[Ay[u]],c=Y8[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;for(;u<64;++u)f=a^(o|~l),n=i+f+g2[u]+t[Ay[u]],c=Y8[u],i=l,l=a,a=o,o+=n<<c|n>>>32-c;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,d-=64}}s(CV,"_update")});var bd=ae((LCe,IV)=>{var ky=v0();G0();var wV=IV.exports=ky.pem=ky.pem||{};wV.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Ry(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Ry(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Ry(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Ry(e.headers[i]);return e.procType&&(r+=`\r
`),r+=ky.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};wV.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(e),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ky.util.decode64(o[3])};if(t.push(l),!!o[2]){for(var f=o[2].split(i),c=0;o&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),d=c+1;d<f.length;++d){var g=f[d];if(!/\s/.test(g[0]))break;u+=g,c=d}if(o=u.match(n),o){for(var p={name:o[1],values:[]},y=o[2].split(","),_=0;_<y.length;++_)p.values.push(Coe(y[_]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=y[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:y[0],parameters:y[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:y[0],type:y[1]}}}++c}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Ry(e){for(var t=e.name+": ",r=[],n=s(function(f,c){return" "+c},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<t.length;++i,++o)if(o>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),o=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}s(Ry,"foldHeader");function Coe(e){return e.replace(/^\s+/,"")}s(Coe,"ltrim")});var J8=ae((OCe,PV)=>{var Rr=v0();Cy();tP();G0();PV.exports=Rr.des=Rr.des||{};Rr.des.startEncrypting=function(e,t,r,n){var i=Ny({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Rr.des.createEncryptionCipher=function(e,t){return Ny({key:e,output:null,decrypt:!1,mode:t})};Rr.des.startDecrypting=function(e,t,r,n){var i=Ny({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Rr.des.createDecryptionCipher=function(e,t){return Ny({key:e,output:null,decrypt:!0,mode:t})};Rr.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return AV(r._keys,n,i,!1)},decrypt:function(n,i){return AV(r._keys,n,i,!0)}}}),r._init=!1};Rr.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Rr.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=koe(t),this._init=!0}};Wa("DES-ECB",Rr.cipher.modes.ecb);Wa("DES-CBC",Rr.cipher.modes.cbc);Wa("DES-CFB",Rr.cipher.modes.cfb);Wa("DES-OFB",Rr.cipher.modes.ofb);Wa("DES-CTR",Rr.cipher.modes.ctr);Wa("3DES-ECB",Rr.cipher.modes.ecb);Wa("3DES-CBC",Rr.cipher.modes.cbc);Wa("3DES-CFB",Rr.cipher.modes.cfb);Wa("3DES-OFB",Rr.cipher.modes.ofb);Wa("3DES-CTR",Rr.cipher.modes.ctr);function Wa(e,t){var r=s(function(){return new Rr.des.Algorithm(e,t)},"factory");Rr.cipher.registerAlgorithm(e,r)}s(Wa,"registerAlgorithm");var Toe=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Eoe=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Soe=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],woe=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Ioe=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Aoe=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Poe=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Roe=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function koe(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],g=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=e.length()>8?3:1,S=[],T=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],I=0,P,U=0;U<_;U++){var k=e.getInt32(),L=e.getInt32();P=(k>>>4^L)&252645135,L^=P,k^=P<<4,P=(L>>>-16^k)&65535,k^=P,L^=P<<-16,P=(k>>>2^L)&858993459,L^=P,k^=P<<2,P=(L>>>-16^k)&65535,k^=P,L^=P<<-16,P=(k>>>1^L)&1431655765,L^=P,k^=P<<1,P=(L>>>8^k)&16711935,k^=P,L^=P<<8,P=(k>>>1^L)&1431655765,L^=P,k^=P<<1,P=k<<8|L>>>20&240,k=L<<24|L<<8&16711680|L>>>8&65280|L>>>24&240,L=P;for(var Q=0;Q<T.length;++Q){T[Q]?(k=k<<2|k>>>26,L=L<<2|L>>>26):(k=k<<1|k>>>27,L=L<<1|L>>>27),k&=-15,L&=-15;var te=t[k>>>28]|r[k>>>24&15]|n[k>>>20&15]|i[k>>>16&15]|o[k>>>12&15]|a[k>>>8&15]|l[k>>>4&15],Ce=f[L>>>28]|c[L>>>24&15]|u[L>>>20&15]|d[L>>>16&15]|g[L>>>12&15]|p[L>>>8&15]|y[L>>>4&15];P=(Ce>>>16^te)&65535,S[I++]=te^P,S[I++]=Ce^P<<16}}return S}s(koe,"_createKeys");function AV(e,t,r,n){var i=e.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],f=t[1];a=(l>>>4^f)&252645135,f^=a,l^=a<<4,a=(l>>>16^f)&65535,f^=a,l^=a<<16,a=(f>>>2^l)&858993459,l^=a,f^=a<<2,a=(f>>>8^l)&16711935,l^=a,f^=a<<8,a=(l>>>1^f)&1431655765,f^=a,l^=a<<1,l=l<<1|l>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=o[c+1],d=o[c+2],g=o[c];g!=u;g+=d){var p=f^e[g],y=(f>>>4|f<<28)^e[g+1];a=l,l=f,f=a^(Eoe[p>>>24&63]|woe[p>>>16&63]|Aoe[p>>>8&63]|Roe[p&63]|Toe[y>>>24&63]|Soe[y>>>16&63]|Ioe[y>>>8&63]|Poe[y&63])}a=l,l=f,f=a}l=l>>>1|l<<31,f=f>>>1|f<<31,a=(l>>>1^f)&1431655765,f^=a,l^=a<<1,a=(f>>>8^l)&16711935,l^=a,f^=a<<8,a=(f>>>2^l)&858993459,l^=a,f^=a<<2,a=(l>>>16^f)&65535,f^=a,l^=a<<16,a=(l>>>4^f)&252645135,f^=a,l^=a<<4,r[0]=l,r[1]=f}s(AV,"_updateBlock");function Ny(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Rr.cipher.createDecipher(r,e.key):n=Rr.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof Rr.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(Ny,"_createCipher")});var Dy=ae((MCe,RV)=>{var Mi=v0();m2();za();G0();var Noe=Mi.pkcs5=Mi.pkcs5||{},lf;Mi.util.isNodejs&&!Mi.options.usePureJavaScript&&(lf=require("crypto"));RV.exports=Mi.pbkdf2=Noe.pbkdf2=function(e,t,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),Mi.util.isNodejs&&!Mi.options.usePureJavaScript&&lf.pbkdf2&&(i===null||typeof i!="object")&&(lf.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?lf.pbkdf2Sync.length===4?lf.pbkdf2(e,t,r,n,function(P,U){if(P)return o(P);o(null,U.toString("binary"))}):lf.pbkdf2(e,t,r,n,i,function(P,U){if(P)return o(P);o(null,U.toString("binary"))}):lf.pbkdf2Sync.length===4?lf.pbkdf2Sync(e,t,r,n).toString("binary"):lf.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Mi.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Mi.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(o)return o(l);throw l}var f=Math.ceil(n/a),c=n-(f-1)*a,u=Mi.hmac.create();u.start(i,e);var d="",g,p,y;if(!o){for(var _=1;_<=f;++_){u.start(null,null),u.update(t),u.update(Mi.util.int32ToBytes(_)),g=y=u.digest().getBytes();for(var S=2;S<=r;++S)u.start(null,null),u.update(y),p=u.digest().getBytes(),g=Mi.util.xorBytes(g,p,a),y=p;d+=_<f?g:g.substr(0,c)}return d}var _=1,S;function T(){if(_>f)return o(null,d);u.start(null,null),u.update(t),u.update(Mi.util.int32ToBytes(_)),g=y=u.digest().getBytes(),S=2,I()}s(T,"outer");function I(){if(S<=r)return u.start(null,null),u.update(y),p=u.digest().getBytes(),g=Mi.util.xorBytes(g,p,a),y=p,++S,Mi.util.setImmediate(I);d+=_<f?g:g.substr(0,c),++_,T()}s(I,"inner"),T()}});var lP=ae((qCe,BV)=>{var Ga=v0();za();G0();var NV=BV.exports=Ga.sha256=Ga.sha256||{};Ga.md.sha256=Ga.md.algorithms.sha256=NV;NV.create=function(){DV||Doe();var e=null,t=Ga.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Ga.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ga.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),kV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ga.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(aP.substr(0,n.blockLength-a));for(var l,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)l=n.fullMessageLength[u+1]*8,f=l/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=l>>>0;i.putInt32(c);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};kV(d,r,i);var g=Ga.util.createBuffer();return g.putInt32(d.h0),g.putInt32(d.h1),g.putInt32(d.h2),g.putInt32(d.h3),g.putInt32(d.h4),g.putInt32(d.h5),g.putInt32(d.h6),g.putInt32(d.h7),g},n};var aP=null,DV=!1,LV=null;function Doe(){aP="\x80",aP+=Ga.util.fillString("\0",64),LV=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],DV=!0}s(Doe,"_init");function kV(e,t,r){for(var n,i,o,a,l,f,c,u,d,g,p,y,_,S,T,I=r.length();I>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=t[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[c]=n+t[c-7]+i+t[c-16]|0;for(u=e.h0,d=e.h1,g=e.h2,p=e.h3,y=e.h4,_=e.h5,S=e.h6,T=e.h7,c=0;c<64;++c)a=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),l=S^y&(_^S),o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&d|g&(u^d),n=T+a+l+LV[c]+t[c],i=o+f,T=S,S=_,_=y,y=p+n>>>0,p=g,g=d,d=u,u=n+i>>>0;e.h0=e.h0+u|0,e.h1=e.h1+d|0,e.h2=e.h2+g|0,e.h3=e.h3+p|0,e.h4=e.h4+y|0,e.h5=e.h5+_|0,e.h6=e.h6+S|0,e.h7=e.h7+T|0,I-=64}}s(kV,"_update")});var fP=ae(($Ce,OV)=>{var Ya=v0();G0();var Ly=null;Ya.util.isNodejs&&!Ya.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Ly=require("crypto"));var Loe=OV.exports=Ya.prng=Ya.prng||{};Loe.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(c,u){if(!u)return t.generateSync(c);var d=t.plugin.cipher,g=t.plugin.increment,p=t.plugin.formatKey,y=t.plugin.formatSeed,_=Ya.util.createBuffer();t.key=null,S();function S(T){if(T)return u(T);if(_.length()>=c)return u(null,_.getBytes(c));if(t.generated>1048575&&(t.key=null),t.key===null)return Ya.util.nextTick(function(){o(S)});var I=d(t.key,t.seed);t.generated+=I.length,_.putBytes(I),t.key=p(d(t.key,g(t.seed))),t.seed=y(d(t.key,t.seed)),Ya.util.setImmediate(S)}s(S,"generate")},t.generateSync=function(c){var u=t.plugin.cipher,d=t.plugin.increment,g=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var y=Ya.util.createBuffer();y.length()<c;){t.generated>1048575&&(t.key=null),t.key===null&&a();var _=u(t.key,t.seed);t.generated+=_.length,y.putBytes(_),t.key=g(u(t.key,d(t.seed))),t.seed=p(u(t.key,t.seed))}return y.getBytes(c)};function o(c){if(t.pools[0].messageLength>=32)return l(),c();var u=32-t.pools[0].messageLength<<5;t.seedFile(u,function(d,g){if(d)return c(d);t.collect(g),l(),c()})}s(o,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var c=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(c)),l()}s(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var c=t.plugin.md.create();c.update(t.keyBytes);for(var u=1,d=0;d<32;++d)t.reseeds%u===0&&(c.update(t.pools[d].digest().getBytes()),t.pools[d].start()),u=u<<1;t.keyBytes=c.digest().getBytes(),c.start(),c.update(t.keyBytes);var g=c.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(g),t.generated=0}s(l,"_seed");function f(c){var u=null,d=Ya.util.globalScope,g=d.crypto||d.msCrypto;g&&g.getRandomValues&&(u=s(function(k){return g.getRandomValues(k)},"getRandomValues"));var p=Ya.util.createBuffer();if(u)for(;p.length()<c;){var y=Math.max(1,Math.min(c-p.length(),65536)/4),_=new Uint32Array(Math.floor(y));try{u(_);for(var S=0;S<_.length;++S)p.putInt32(_[S])}catch(k){if(!(typeof QuotaExceededError<"u"&&k instanceof QuotaExceededError))throw k}}if(p.length()<c)for(var T,I,P,U=Math.floor(Math.random()*65536);p.length()<c;){I=16807*(U&65535),T=16807*(U>>16),I+=(T&32767)<<16,I+=T>>15,I=(I&2147483647)+(I>>31),U=I&4294967295;for(var S=0;S<3;++S)P=U>>>(S<<3),P^=Math.floor(Math.random()*256),p.putByte(P&255)}return p.getBytes(c)}return s(f,"defaultSeedFile"),Ly?(t.seedFile=function(c,u){Ly.randomBytes(c,function(d,g){if(d)return u(d);u(null,g.toString())})},t.seedFileSync=function(c){return Ly.randomBytes(c).toString()}):(t.seedFile=function(c,u){try{u(null,f(c))}catch(d){u(d)}},t.seedFileSync=f),t.collect=function(c){for(var u=c.length,d=0;d<u;++d)t.pools[t.pool].update(c.substr(d,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(c,u){for(var d="",g=0;g<u;g+=8)d+=String.fromCharCode(c>>g&255);t.collect(d)},t.registerWorker=function(c){if(c===self)t.seedFile=function(d,g){function p(y){var _=y.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",p),g(_.forge.prng.err,_.forge.prng.bytes))}s(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:d}}})};else{var u=s(function(d){var g=d.data;g.forge&&g.forge.prng&&t.seedFile(g.forge.prng.needed,function(p,y){c.postMessage({forge:{prng:{err:p,bytes:y}}})})},"listener");c.addEventListener("message",u)}},t}});var po=ae((VCe,cP)=>{var Bn=v0();Wc();lP();fP();G0();(function(){if(Bn.random&&Bn.random.getBytes){cP.exports=Bn.random;return}(function(e){var t={},r=new Array(4),n=Bn.util.createBuffer();t.formatKey=function(d){var g=Bn.util.createBuffer(d);return d=new Array(4),d[0]=g.getInt32(),d[1]=g.getInt32(),d[2]=g.getInt32(),d[3]=g.getInt32(),Bn.aes._expandKey(d,!1)},t.formatSeed=function(d){var g=Bn.util.createBuffer(d);return d=new Array(4),d[0]=g.getInt32(),d[1]=g.getInt32(),d[2]=g.getInt32(),d[3]=g.getInt32(),d},t.cipher=function(d,g){return Bn.aes._updateBlock(d,g,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(d){return++d[3],d},t.md=Bn.md.sha256;function i(){var d=Bn.prng.create(t);return d.getBytes=function(g,p){return d.generate(g,p)},d.getBytesSync=function(g){return d.generate(g)},d}s(i,"spawnPrng");var o=i(),a=null,l=Bn.util.globalScope,f=l.crypto||l.msCrypto;if(f&&f.getRandomValues&&(a=s(function(d){return f.getRandomValues(d)},"getRandomValues")),Bn.options.usePureJavaScript||!Bn.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}o.collect(c),c=null}e&&(e().mousemove(function(d){o.collectInt(d.clientX,16),o.collectInt(d.clientY,16)}),e().keypress(function(d){o.collectInt(d.charCode,8)}))}if(!Bn.random)Bn.random=o;else for(var u in o)Bn.random[u]=o[u];Bn.random.createInstance=i,cP.exports=Bn.random})(typeof jQuery<"u"?jQuery:null)})()});var dP=ae((KCe,UV)=>{var cs=v0();G0();var uP=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],FV=[1,2,3,5],Boe=s(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),Ooe=s(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");UV.exports=cs.rc2=cs.rc2||{};cs.rc2.expandKey=function(e,t){typeof e=="string"&&(e=cs.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,o=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(uP[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-o,uP[r.at(128-o)&a]),l=127-o;l>=0;l--)r.setAt(l,uP[r.at(l+1)^r.at(l+o)]);return r};var MV=s(function(e,t,r){var n=!1,i=null,o=null,a=null,l,f,c,u,d=[];for(e=cs.rc2.expandKey(e,t),c=0;c<64;c++)d.push(e.getInt16Le());r?(l=s(function(y){for(c=0;c<4;c++)y[c]+=d[u]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),y[c]=Boe(y[c],FV[c]),u++},"mixRound"),f=s(function(y){for(c=0;c<4;c++)y[c]+=d[y[(c+3)%4]&63]},"mashRound")):(l=s(function(y){for(c=3;c>=0;c--)y[c]=Ooe(y[c],FV[c]),y[c]-=d[u]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),u--},"mixRound"),f=s(function(y){for(c=3;c>=0;c--)y[c]-=d[y[(c+3)%4]&63]},"mashRound"));var g=s(function(y){var _=[];for(c=0;c<4;c++){var S=i.getInt16Le();a!==null&&(r?S^=a.getInt16Le():a.putInt16Le(S)),_.push(S&65535)}u=r?0:63;for(var T=0;T<y.length;T++)for(var I=0;I<y[T][0];I++)y[T][1](_);for(c=0;c<4;c++)a!==null&&(r?a.putInt16Le(_[c]):_[c]^=a.getInt16Le()),o.putInt16Le(_[c])},"runPlan"),p=null;return p={start:function(y,_){y&&typeof y=="string"&&(y=cs.util.createBuffer(y)),n=!1,i=cs.util.createBuffer(),o=_||new cs.util.createBuffer,a=y,p.output=o},update:function(y){for(n||i.putBuffer(y);i.length()>=8;)g([[5,l],[1,f],[6,l],[1,f],[5,l]])},finish:function(y){var _=!0;if(r)if(y)_=y(8,i,!r);else{var S=i.length()===8?8:8-i.length();i.fillWithByte(S,S)}if(_&&(n=!0,p.update()),!r&&(_=i.length()===0,_))if(y)_=y(8,o,!r);else{var T=o.length(),I=o.at(T-1);I>T?_=!1:o.truncate(I)}return _}},p},"createCipher");cs.rc2.startEncrypting=function(e,t,r){var n=cs.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};cs.rc2.createEncryptionCipher=function(e,t){return MV(e,t,!0)};cs.rc2.startDecrypting=function(e,t,r){var n=cs.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};cs.rc2.createDecryptionCipher=function(e,t){return MV(e,t,!1)}});var Q8=ae((GCe,WV)=>{var hP=v0();WV.exports=hP.jsbn=hP.jsbn||{};var ff,Foe=0xdeadbeefcafe,qV=(Foe&16777215)==15715070;function et(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}s(et,"BigInteger");hP.jsbn.BigInteger=et;function Y0(){return new et(null)}s(Y0,"nbi");function Moe(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}s(Moe,"am1");function Uoe(e,t,r,n,i,o){for(var a=t&32767,l=t>>15;--o>=0;){var f=this.data[e]&32767,c=this.data[e++]>>15,u=l*f+c*a;f=a*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+l*c+(i>>>30),r.data[n++]=f&1073741823}return i}s(Uoe,"am2");function jV(e,t,r,n,i,o){for(var a=t&16383,l=t>>14;--o>=0;){var f=this.data[e]&16383,c=this.data[e++]>>14,u=l*f+c*a;f=a*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+l*c,r.data[n++]=f&268435455}return i}s(jV,"am3");typeof navigator>"u"?(et.prototype.am=jV,ff=28):qV&&navigator.appName=="Microsoft Internet Explorer"?(et.prototype.am=Uoe,ff=30):qV&&navigator.appName!="Netscape"?(et.prototype.am=Moe,ff=26):(et.prototype.am=jV,ff=28);et.prototype.DB=ff;et.prototype.DM=(1<<ff)-1;et.prototype.DV=1<<ff;var mP=52;et.prototype.FV=Math.pow(2,mP);et.prototype.F1=mP-ff;et.prototype.F2=2*ff-mP;var qoe="0123456789abcdefghijklmnopqrstuvwxyz",By=new Array,p2,yo;p2=48;for(yo=0;yo<=9;++yo)By[p2++]=yo;p2=97;for(yo=10;yo<36;++yo)By[p2++]=yo;p2=65;for(yo=10;yo<36;++yo)By[p2++]=yo;function $V(e){return qoe.charAt(e)}s($V,"int2char");function HV(e,t){var r=By[e.charCodeAt(t)];return r==null?-1:r}s(HV,"intAt");function joe(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}s(joe,"bnpCopyTo");function $oe(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}s($oe,"bnpFromInt");function Yc(e){var t=Y0();return t.fromInt(e),t}s(Yc,"nbv");function Hoe(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=r==8?e[n]&255:HV(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&e[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&et.ZERO.subTo(this,this)}s(Hoe,"bnpFromString");function Voe(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}s(Voe,"bnpClamp");function zoe(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,o="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,o=$V(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(o+=$V(n));return i?o:"0"}s(zoe,"bnToString");function Koe(){var e=Y0();return et.ZERO.subTo(this,e),e}s(Koe,"bnNegate");function Woe(){return this.s<0?this.negate():this}s(Woe,"bnAbs");function Goe(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}s(Goe,"bnCompareTo");function Oy(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}s(Oy,"nbits");function Yoe(){return this.t<=0?0:this.DB*(this.t-1)+Oy(this.data[this.t-1]^this.s&this.DM)}s(Yoe,"bnBitLength");function Joe(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}s(Joe,"bnpDLShiftTo");function Xoe(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}s(Xoe,"bnpDRShiftTo");function Qoe(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+o+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=o-1;l>=0;--l)t.data[l]=0;t.data[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}s(Qoe,"bnpLShiftTo");function Zoe(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}s(Zoe,"bnpRShiftTo");function eae(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}s(eae,"bnpSubTo");function tae(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&et.ZERO.subTo(t,t)}s(tae,"bnpMultiplyTo");function rae(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}s(rae,"bnpSquareTo");function nae(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Y0());var o=Y0(),a=this.s,l=e.s,f=this.DB-Oy(n.data[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,u=o.data[c-1];if(u!=0){var d=u*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),g=this.FV/d,p=(1<<this.F1)/d,y=1<<this.F2,_=r.t,S=_-c,T=t==null?Y0():t;for(o.dlShiftTo(S,T),r.compareTo(T)>=0&&(r.data[r.t++]=1,r.subTo(T,r)),et.ONE.dlShiftTo(c,T),T.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--S>=0;){var I=r.data[--_]==u?this.DM:Math.floor(r.data[_]*g+(r.data[_-1]+y)*p);if((r.data[_]+=o.am(0,I,r,S,0,c))<I)for(o.dlShiftTo(S,T),r.subTo(T,r);r.data[_]<--I;)r.subTo(T,r)}t!=null&&(r.drShiftTo(c,t),a!=l&&et.ZERO.subTo(t,t)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),a<0&&et.ZERO.subTo(r,r)}}}s(nae,"bnpDivRemTo");function iae(e){var t=Y0();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(et.ZERO)>0&&e.subTo(t,t),t}s(iae,"bnMod");function Cd(e){this.m=e}s(Cd,"Classic");function sae(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}s(sae,"cConvert");function oae(e){return e}s(oae,"cRevert");function aae(e){e.divRemTo(this.m,null,e)}s(aae,"cReduce");function lae(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(lae,"cMulTo");function fae(e,t){e.squareTo(t),this.reduce(t)}s(fae,"cSqrTo");Cd.prototype.convert=sae;Cd.prototype.revert=oae;Cd.prototype.reduce=aae;Cd.prototype.mulTo=lae;Cd.prototype.sqrTo=fae;function cae(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}s(cae,"bnpInvDigit");function Td(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}s(Td,"Montgomery");function uae(e){var t=Y0();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(et.ZERO)>0&&this.m.subTo(t,t),t}s(uae,"montConvert");function dae(e){var t=Y0();return e.copyTo(t),this.reduce(t),t}s(dae,"montRevert");function hae(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}s(hae,"montReduce");function mae(e,t){e.squareTo(t),this.reduce(t)}s(mae,"montSqrTo");function gae(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(gae,"montMulTo");Td.prototype.convert=uae;Td.prototype.revert=dae;Td.prototype.reduce=hae;Td.prototype.mulTo=gae;Td.prototype.sqrTo=mae;function pae(){return(this.t>0?this.data[0]&1:this.s)==0}s(pae,"bnpIsEven");function yae(e,t){if(e>4294967295||e<1)return et.ONE;var r=Y0(),n=Y0(),i=t.convert(this),o=Oy(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}s(yae,"bnpExp");function vae(e,t){var r;return e<256||t.isEven()?r=new Cd(t):r=new Td(t),this.exp(e,r)}s(vae,"bnModPowInt");et.prototype.copyTo=joe;et.prototype.fromInt=$oe;et.prototype.fromString=Hoe;et.prototype.clamp=Voe;et.prototype.dlShiftTo=Joe;et.prototype.drShiftTo=Xoe;et.prototype.lShiftTo=Qoe;et.prototype.rShiftTo=Zoe;et.prototype.subTo=eae;et.prototype.multiplyTo=tae;et.prototype.squareTo=rae;et.prototype.divRemTo=nae;et.prototype.invDigit=cae;et.prototype.isEven=pae;et.prototype.exp=yae;et.prototype.toString=zoe;et.prototype.negate=Koe;et.prototype.abs=Woe;et.prototype.compareTo=Goe;et.prototype.bitLength=Yoe;et.prototype.mod=iae;et.prototype.modPowInt=vae;et.ZERO=Yc(0);et.ONE=Yc(1);function xae(){var e=Y0();return this.copyTo(e),e}s(xae,"bnClone");function _ae(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}s(_ae,"bnIntValue");function bae(){return this.t==0?this.s:this.data[0]<<24>>24}s(bae,"bnByteValue");function Cae(){return this.t==0?this.s:this.data[0]<<16>>16}s(Cae,"bnShortValue");function Tae(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}s(Tae,"bnpChunkSize");function Eae(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}s(Eae,"bnSigNum");function Sae(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Yc(r),i=Y0(),o=Y0(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a}s(Sae,"bnpToRadix");function wae(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,l=0;l<e.length;++l){var f=HV(e,l);if(f<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&et.ZERO.subTo(this,this)}s(wae,"bnpFromRadix");function Iae(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(et.ONE.shiftLeft(e-1),gP,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(et.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}s(Iae,"bnpFromNumber");function Aae(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}s(Aae,"bnToByteArray");function Pae(e){return this.compareTo(e)==0}s(Pae,"bnEquals");function Rae(e){return this.compareTo(e)<0?this:e}s(Rae,"bnMin");function kae(e){return this.compareTo(e)>0?this:e}s(kae,"bnMax");function Nae(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}s(Nae,"bnpBitwiseTo");function Dae(e,t){return e&t}s(Dae,"op_and");function Lae(e){var t=Y0();return this.bitwiseTo(e,Dae,t),t}s(Lae,"bnAnd");function gP(e,t){return e|t}s(gP,"op_or");function Bae(e){var t=Y0();return this.bitwiseTo(e,gP,t),t}s(Bae,"bnOr");function VV(e,t){return e^t}s(VV,"op_xor");function Oae(e){var t=Y0();return this.bitwiseTo(e,VV,t),t}s(Oae,"bnXor");function zV(e,t){return e&~t}s(zV,"op_andnot");function Fae(e){var t=Y0();return this.bitwiseTo(e,zV,t),t}s(Fae,"bnAndNot");function Mae(){for(var e=Y0(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}s(Mae,"bnNot");function Uae(e){var t=Y0();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}s(Uae,"bnShiftLeft");function qae(e){var t=Y0();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}s(qae,"bnShiftRight");function jae(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}s(jae,"lbit");function $ae(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+jae(this.data[e]);return this.s<0?this.t*this.DB:-1}s($ae,"bnGetLowestSetBit");function Hae(e){for(var t=0;e!=0;)e&=e-1,++t;return t}s(Hae,"cbit");function Vae(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Hae(this.data[r]^t);return e}s(Vae,"bnBitCount");function zae(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}s(zae,"bnTestBit");function Kae(e,t){var r=et.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}s(Kae,"bnpChangeBit");function Wae(e){return this.changeBit(e,gP)}s(Wae,"bnSetBit");function Gae(e){return this.changeBit(e,zV)}s(Gae,"bnClearBit");function Yae(e){return this.changeBit(e,VV)}s(Yae,"bnFlipBit");function Jae(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}s(Jae,"bnpAddTo");function Xae(e){var t=Y0();return this.addTo(e,t),t}s(Xae,"bnAdd");function Qae(e){var t=Y0();return this.subTo(e,t),t}s(Qae,"bnSubtract");function Zae(e){var t=Y0();return this.multiplyTo(e,t),t}s(Zae,"bnMultiply");function ele(e){var t=Y0();return this.divRemTo(e,t,null),t}s(ele,"bnDivide");function tle(e){var t=Y0();return this.divRemTo(e,null,t),t}s(tle,"bnRemainder");function rle(e){var t=Y0(),r=Y0();return this.divRemTo(e,t,r),new Array(t,r)}s(rle,"bnDivideAndRemainder");function nle(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}s(nle,"bnpDMultiply");function ile(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}s(ile,"bnpDAddOffset");function X8(){}s(X8,"NullExp");function KV(e){return e}s(KV,"nNop");function sle(e,t,r){e.multiplyTo(t,r)}s(sle,"nMulTo");function ole(e,t){e.squareTo(t)}s(ole,"nSqrTo");X8.prototype.convert=KV;X8.prototype.revert=KV;X8.prototype.mulTo=sle;X8.prototype.sqrTo=ole;function ale(e){return this.exp(e,new X8)}s(ale,"bnPow");function lle(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}s(lle,"bnpMultiplyLowerTo");function fle(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}s(fle,"bnpMultiplyUpperTo");function y2(e){this.r2=Y0(),this.q3=Y0(),et.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}s(y2,"Barrett");function cle(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Y0();return e.copyTo(t),this.reduce(t),t}s(cle,"barrettConvert");function ule(e){return e}s(ule,"barrettRevert");function dle(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}s(dle,"barrettReduce");function hle(e,t){e.squareTo(t),this.reduce(t)}s(hle,"barrettSqrTo");function mle(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(mle,"barrettMulTo");y2.prototype.convert=cle;y2.prototype.revert=ule;y2.prototype.reduce=dle;y2.prototype.mulTo=mle;y2.prototype.sqrTo=hle;function gle(e,t){var r=e.bitLength(),n,i=Yc(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new Cd(t):t.isEven()?o=new y2(t):o=new Td(t);var a=new Array,l=3,f=n-1,c=(1<<n)-1;if(a[1]=o.convert(this),n>1){var u=Y0();for(o.sqrTo(a[1],u);l<=c;)a[l]=Y0(),o.mulTo(u,a[l-2],a[l]),l+=2}var d=e.t-1,g,p=!0,y=Y0(),_;for(r=Oy(e.data[d])-1;d>=0;){for(r>=f?g=e.data[d]>>r-f&c:(g=(e.data[d]&(1<<r+1)-1)<<f-r,d>0&&(g|=e.data[d-1]>>this.DB+r-f)),l=n;!(g&1);)g>>=1,--l;if((r-=l)<0&&(r+=this.DB,--d),p)a[g].copyTo(i),p=!1;else{for(;l>1;)o.sqrTo(i,y),o.sqrTo(y,i),l-=2;l>0?o.sqrTo(i,y):(_=i,i=y,y=_),o.mulTo(y,a[g],i)}for(;d>=0&&!(e.data[d]&1<<r);)o.sqrTo(i,y),_=i,i=y,y=_,--r<0&&(r=this.DB-1,--d)}return o.revert(i)}s(gle,"bnModPow");function ple(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}s(ple,"bnGCD");function yle(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}s(yle,"bnpModInt");function vle(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return et.ZERO;for(var r=e.clone(),n=this.clone(),i=Yc(1),o=Yc(0),a=Yc(0),l=Yc(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(l,o)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(o,l))}if(n.compareTo(et.ONE)!=0)return et.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}s(vle,"bnModInverse");var ea=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],xle=(1<<26)/ea[ea.length-1];function _le(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=ea[ea.length-1]){for(t=0;t<ea.length;++t)if(r.data[0]==ea[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<ea.length;){for(var n=ea[t],i=t+1;i<ea.length&&n<xle;)n*=ea[i++];for(n=r.modInt(n);t<i;)if(n%ea[t++]==0)return!1}return r.millerRabin(e)}s(_le,"bnIsProbablePrime");function ble(e){var t=this.subtract(et.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=Cle(),o,a=0;a<e;++a){do o=new et(this.bitLength(),i);while(o.compareTo(et.ONE)<=0||o.compareTo(t)>=0);var l=o.modPow(n,this);if(l.compareTo(et.ONE)!=0&&l.compareTo(t)!=0){for(var f=1;f++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(et.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}s(ble,"bnpMillerRabin");function Cle(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}s(Cle,"bnGetPrng");et.prototype.chunkSize=Tae;et.prototype.toRadix=Sae;et.prototype.fromRadix=wae;et.prototype.fromNumber=Iae;et.prototype.bitwiseTo=Nae;et.prototype.changeBit=Kae;et.prototype.addTo=Jae;et.prototype.dMultiply=nle;et.prototype.dAddOffset=ile;et.prototype.multiplyLowerTo=lle;et.prototype.multiplyUpperTo=fle;et.prototype.modInt=yle;et.prototype.millerRabin=ble;et.prototype.clone=xae;et.prototype.intValue=_ae;et.prototype.byteValue=bae;et.prototype.shortValue=Cae;et.prototype.signum=Eae;et.prototype.toByteArray=Aae;et.prototype.equals=Pae;et.prototype.min=Rae;et.prototype.max=kae;et.prototype.and=Lae;et.prototype.or=Bae;et.prototype.xor=Oae;et.prototype.andNot=Fae;et.prototype.not=Mae;et.prototype.shiftLeft=Uae;et.prototype.shiftRight=qae;et.prototype.getLowestSetBit=$ae;et.prototype.bitCount=Vae;et.prototype.testBit=zae;et.prototype.setBit=Wae;et.prototype.clearBit=Gae;et.prototype.flipBit=Yae;et.prototype.add=Xae;et.prototype.subtract=Qae;et.prototype.multiply=Zae;et.prototype.divide=ele;et.prototype.remainder=tle;et.prototype.divideAndRemainder=rle;et.prototype.modPow=gle;et.prototype.modInverse=vle;et.prototype.pow=ale;et.prototype.gcd=ple;et.prototype.isProbablePrime=_le});var v2=ae((JCe,XV)=>{var Ja=v0();za();G0();var YV=XV.exports=Ja.sha1=Ja.sha1||{};Ja.md.sha1=Ja.md.algorithms.sha1=YV;YV.create=function(){JV||Tle();var e=null,t=Ja.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Ja.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ja.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),GV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ja.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(pP.substr(0,n.blockLength-a));for(var l,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)l=n.fullMessageLength[u+1]*8,f=l/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=l>>>0;i.putInt32(c);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};GV(d,r,i);var g=Ja.util.createBuffer();return g.putInt32(d.h0),g.putInt32(d.h1),g.putInt32(d.h2),g.putInt32(d.h3),g.putInt32(d.h4),g},n};var pP=null,JV=!1;function Tle(){pP="\x80",pP+=Ja.util.fillString("\0",64),JV=!0}s(Tle,"_init");function GV(e,t,r){for(var n,i,o,a,l,f,c,u,d=r.length();d>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,f=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,c=l^o&(a^l),n=(i<<5|i>>>27)+c+f+1518500249+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,c=l^o&(a^l),n=(i<<5|i>>>27)+c+f+1518500249+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+1859775393+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+1859775393+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o&a|l&(o^a),n=(i<<5|i>>>27)+c+f+2400959708+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,c=o^a^l,n=(i<<5|i>>>27)+c+f+3395469782+n,f=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+f|0,d-=64}}s(GV,"_update")});var yP=ae((QCe,ZV)=>{var Xa=v0();G0();po();v2();var QV=ZV.exports=Xa.pkcs1=Xa.pkcs1||{};QV.encode_rsa_oaep=function(e,t,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=Xa.md.sha1.create(),a||(a=o);var l=Math.ceil(e.n.bitLength()/8),f=l-2*o.digestLength-2;if(t.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=t.length,c.maxLength=f,c}n||(n=""),o.update(n,"raw");for(var u=o.digest(),d="",g=f-t.length,p=0;p<g;p++)d+="\0";var y=u.getBytes()+d+""+t;if(!i)i=Xa.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=o.digestLength,c}var _=Fy(i,l-o.digestLength-1,a),S=Xa.util.xorBytes(y,_,y.length),T=Fy(S,o.digestLength,a),I=Xa.util.xorBytes(i,T,i.length);return"\0"+I+S};QV.decode_rsa_oaep=function(e,t,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var S=new Error("RSAES-OAEP encoded message length is invalid.");throw S.length=t.length,S.expectedLength=a,S}if(i===void 0?i=Xa.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),f=t.charAt(0),c=t.substring(1,i.digestLength+1),u=t.substring(1+i.digestLength),d=Fy(u,i.digestLength,o),g=Xa.util.xorBytes(c,d,c.length),p=Fy(g,a-i.digestLength-1,o),y=Xa.util.xorBytes(u,p,u.length),_=y.substring(0,i.digestLength),S=f!=="\0",T=0;T<i.digestLength;++T)S|=l.charAt(T)!==_.charAt(T);for(var I=1,P=i.digestLength,U=i.digestLength;U<y.length;U++){var k=y.charCodeAt(U),L=k&1^1,Q=I?65534:0;S|=k&Q,I=I&L,P+=I}if(S||y.charCodeAt(P)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(P+1)};function Fy(e,t,r){r||(r=Xa.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}s(Fy,"rsa_mgf1")});var xP=ae((eTe,vP)=>{var Jc=v0();G0();Q8();po();(function(){if(Jc.prime){vP.exports=Jc.prime;return}var e=vP.exports=Jc.prime=Jc.prime||{},t=Jc.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=s(function(d,g){return d|g},"op_or");e.generateProbablePrime=function(d,g,p){typeof g=="function"&&(p=g,g={}),g=g||{};var y=g.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var _=g.prng||Jc.random,S={nextBytes:function(T){for(var I=_.getBytesSync(T.length),P=0;P<T.length;++P)T[P]=I.charCodeAt(P)}};if(y.name==="PRIMEINC")return o(d,S,y.options,p);throw new Error("Invalid prime generation algorithm: "+y.name)};function o(d,g,p,y){return"workers"in p?f(d,g,p,y):a(d,g,p,y)}s(o,"primeincFindPrime");function a(d,g,p,y){var _=c(d,g),S=0,T=u(_.bitLength());"millerRabinTests"in p&&(T=p.millerRabinTests);var I=10;"maxBlockTime"in p&&(I=p.maxBlockTime),l(_,d,g,S,T,I,y)}s(a,"primeincFindPrimeWithoutWorkers");function l(d,g,p,y,_,S,T){var I=+new Date;do{if(d.bitLength()>g&&(d=c(g,p)),d.isProbablePrime(_))return T(null,d);d.dAddOffset(r[y++%8],0)}while(S<0||+new Date-I<S);Jc.util.setImmediate(function(){l(d,g,p,y,_,S,T)})}s(l,"_primeinc");function f(d,g,p,y){if(typeof Worker>"u")return a(d,g,p,y);var _=c(d,g),S=p.workers,T=p.workLoad||100,I=T*30/8,P=p.workerScript||"forge/prime.worker.js";if(S===-1)return Jc.util.estimateCores(function(k,L){k&&(L=2),S=L-1,U()});U();function U(){S=Math.max(1,S);for(var k=[],L=0;L<S;++L)k[L]=new Worker(P);for(var Q=S,L=0;L<S;++L)k[L].addEventListener("message",Ce);var te=!1;function Ce(De){if(!te){--Q;var pe=De.data;if(pe.found){for(var Ie=0;Ie<k.length;++Ie)k[Ie].terminate();return te=!0,y(null,new t(pe.prime,16))}_.bitLength()>d&&(_=c(d,g));var ie=_.toString(16);De.target.postMessage({hex:ie,workLoad:T}),_.dAddOffset(I,0)}}s(Ce,"workerMessage")}s(U,"generate")}s(f,"primeincFindPrimeWithWorkers");function c(d,g){var p=new t(d,g),y=d-1;return p.testBit(y)||p.bitwiseTo(t.ONE.shiftLeft(y),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}s(c,"generateRandom");function u(d){return d<=100?27:d<=150?18:d<=200?15:d<=250?12:d<=300?9:d<=350?8:d<=400?7:d<=500?6:d<=600?5:d<=800?4:d<=1250?3:2}s(u,"getMillerRabinTests")})()});var Z8=ae((rTe,oz)=>{var qt=v0();Zo();Q8();Gc();yP();xP();po();G0();typeof z0>"u"&&(z0=qt.jsbn.BigInteger);var z0,_P=qt.util.isNodejs?require("crypto"):null,Pe=qt.asn1,vo=qt.util;qt.pki=qt.pki||{};oz.exports=qt.pki.rsa=qt.rsa=qt.rsa||{};var c0=qt.pki,Ele=[6,4,2,4,2,4,6,2],Sle={name:"PrivateKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},wle={name:"RSAPrivateKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Ile={name:"RSAPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Ale=qt.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Ple={name:"DigestInfo",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:Pe.Class.UNIVERSAL,type:Pe.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Rle=s(function(e){var t;if(e.algorithm in c0.oids)t=c0.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=Pe.oidToDer(t).getBytes(),i=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[]),o=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[]);o.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,n)),o.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,""));var a=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(a),Pe.toDer(i).getBytes()},"emsaPkcs1v15encode"),iz=s(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(z0.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(z0.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new z0(qt.util.bytesToHex(qt.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(z0.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var a=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");c0.rsa.encrypt=function(e,t,r){var n=r,i,o=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=sz(e,t,r)):(i=qt.util.createBuffer(),i.putBytes(e));for(var a=new z0(i.toHex(),16),l=iz(a,t,n),f=l.toString(16),c=qt.util.createBuffer(),u=o-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(qt.util.hexToBytes(f)),c.getBytes()};c0.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var a=new z0(qt.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=iz(a,t,r),f=l.toString(16),c=qt.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes(qt.util.hexToBytes(f)),n!==!1?My(c.getBytes(),t,r):c.getBytes()};c0.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||qt.random,i={nextBytes:function(l){for(var f=n.getBytesSync(l.length),c=0;c<l.length;++c)l[c]=f.charCodeAt(c)}},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:e,rng:i,eInt:t||65537,e:new z0(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};c0.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new z0(null);r.fromInt(30);for(var n=0,i=s(function(d,g){return d|g},"op_or"),o=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var f=e.p===null?e.pBits:e.qBits,c=f-1;e.pqState===0?(e.num=new z0(f,e.rng),e.num.testBit(c)||e.num.bitwiseTo(z0.ONE.shiftLeft(c),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(Nle(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(Ele[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(z0.ONE),e.q1=e.q.subtract(z0.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(z0.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var u=e.e.modInverse(e.phi);e.keys={privateKey:c0.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:c0.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-o,o=a}return e.keys!==null};c0.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!qt.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(ez("generateKeyPair"))return _P.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,f,c){if(l)return n(l);n(null,{privateKey:c0.privateKeyFromPem(c),publicKey:c0.publicKeyFromPem(f)})});if(tz("generateKey")&&tz("exportKey"))return vo.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:nz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return vo.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var f=c0.privateKeyFromAsn1(Pe.fromDer(qt.util.createBuffer(l)));n(null,{privateKey:f,publicKey:c0.setRsaPublicKey(f.n,f.e)})}});if(rz("generateKey")&&rz("exportKey")){var i=vo.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:nz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var f=l.target.result,c=vo.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var d=u.target.result,g=c0.privateKeyFromAsn1(Pe.fromDer(qt.util.createBuffer(d)));n(null,{privateKey:g,publicKey:c0.setRsaPublicKey(g.n,g.e)})},c.onerror=function(u){n(u)}},i.onerror=function(l){n(l)};return}}else if(ez("generateKeyPairSync")){var o=_P.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:c0.privateKeyFromPem(o.privateKey),publicKey:c0.publicKeyFromPem(o.publicKey)}}}var a=c0.rsa.createKeyPairGenerationState(e,t,r);if(!n)return c0.rsa.stepKeyPairGenerationState(a,0),a.keys;kle(a,r,n)};c0.setRsaPublicKey=c0.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(l,f,c){return sz(l,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(l,f){return qt.pkcs1.encode_rsa_oaep(f,l,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(l){return l}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return c0.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(f,c){c=My(c,r,!0);var u=Pe.fromDer(c,{parseAllBytes:a._parseAllDigestBytes}),d={},g=[];if(!Pe.validate(u,Ple,d,g)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=g,p}var y=Pe.derToOid(d.algorithmIdentifier);if(!(y===qt.oids.md2||y===qt.oids.md5||y===qt.oids.sha1||y===qt.oids.sha224||y===qt.oids.sha256||y===qt.oids.sha384||y===qt.oids.sha512||y===qt.oids["sha512-224"]||y===qt.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=y,p}if((y===qt.oids.md2||y===qt.oids.md5)&&!("parameters"in d))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===d.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(f,c){return c=My(c,r,!0),f===c}});var l=c0.rsa.decrypt(i,r,!0,!1);return o.verify(n,l,r.n.bitLength())},r};c0.setRsaPrivateKey=c0.rsa.setPrivateKey=function(e,t,r,n,i,o,a,l){var f={n:e,e:t,d:r,p:n,q:i,dP:o,dQ:a,qInv:l};return f.decrypt=function(c,u,d){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var g=c0.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:My};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(p,y){return qt.pkcs1.decode_rsa_oaep(y,p,d)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(g,f,!1)},f.sign=function(c,u){var d=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:Rle},d=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},d=1);var g=u.encode(c,f.n.bitLength());return c0.rsa.encrypt(g,f,d)},f};c0.wrapRsaPrivateKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(0).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(c0.oids.rsaEncryption).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,Pe.toDer(e).getBytes())])};c0.privateKeyFromAsn1=function(e){var t={},r=[];if(Pe.validate(e,Sle,t,r)&&(e=Pe.fromDer(qt.util.createBuffer(t.privateKey))),t={},r=[],!Pe.validate(e,wle,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,l,f,c,u,d;return i=qt.util.createBuffer(t.privateKeyModulus).toHex(),o=qt.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=qt.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=qt.util.createBuffer(t.privateKeyPrime1).toHex(),f=qt.util.createBuffer(t.privateKeyPrime2).toHex(),c=qt.util.createBuffer(t.privateKeyExponent1).toHex(),u=qt.util.createBuffer(t.privateKeyExponent2).toHex(),d=qt.util.createBuffer(t.privateKeyCoefficient).toHex(),c0.setRsaPrivateKey(new z0(i,16),new z0(o,16),new z0(a,16),new z0(l,16),new z0(f,16),new z0(c,16),new z0(u,16),new z0(d,16))};c0.privateKeyToAsn1=c0.privateKeyToRSAPrivateKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(0).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.n)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.e)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.d)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.p)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.q)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.dP)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.dQ)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.qInv))])};c0.publicKeyFromAsn1=function(e){var t={},r=[];if(Pe.validate(e,Ale,t,r)){var n=Pe.derToOid(t.publicKeyOid);if(n!==c0.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!Pe.validate(e,Ile,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=qt.util.createBuffer(t.publicKeyModulus).toHex(),a=qt.util.createBuffer(t.publicKeyExponent).toHex();return c0.setRsaPublicKey(new z0(o,16),new z0(a,16))};c0.publicKeyToAsn1=c0.publicKeyToSubjectPublicKeyInfo=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(c0.oids.rsaEncryption).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.BITSTRING,!1,[c0.publicKeyToRSAPublicKey(e)])])};c0.publicKeyToRSAPublicKey=function(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.n)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Qa(e.e))])};function sz(e,t,r){var n=qt.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var f=0;f<a;++f)n.putByte(l)}else for(;a>0;){for(var c=0,u=qt.random.getBytes(a),f=0;f<a;++f)l=u.charCodeAt(f),l===0?++c:n.putByte(l);a=c}return n.putByte(0),n.putBytes(e),n}s(sz,"_encodePkcs1_v1_5");function My(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),o=qt.util.createBuffer(e),a=o.getByte(),l=o.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(l===0){f=i-3-n;for(var c=0;c<f;++c)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(f=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++f}else if(l===2)for(f=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++f}var u=o.getByte();if(u!==0||f!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}s(My,"_decodePkcs1_v1_5");function kle(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){o(e.pBits,function(l,f){if(l)return r(l);if(e.p=f,e.q!==null)return a(l,e.q);o(e.qBits,a)})}s(i,"generate");function o(l,f){qt.prime.generateProbablePrime(l,n,f)}s(o,"getPrime");function a(l,f){if(l)return r(l);if(e.q=f,e.p.compareTo(e.q)<0){var c=e.p;e.p=e.q,e.q=c}if(e.p.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)!==0){e.p=null,i();return}if(e.q.subtract(z0.ONE).gcd(e.e).compareTo(z0.ONE)!==0){e.q=null,o(e.qBits,a);return}if(e.p1=e.p.subtract(z0.ONE),e.q1=e.q.subtract(z0.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(z0.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,o(e.qBits,a);return}var u=e.e.modInverse(e.phi);e.keys={privateKey:c0.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:c0.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}s(a,"finish")}s(kle,"_generateKeyPair");function Qa(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=qt.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}s(Qa,"_bnToBytes");function Nle(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}s(Nle,"_getMillerRabinTests");function ez(e){return qt.util.isNodejs&&typeof _P[e]=="function"}s(ez,"_detectNodeCrypto");function tz(e){return typeof vo.globalScope<"u"&&typeof vo.globalScope.crypto=="object"&&typeof vo.globalScope.crypto.subtle=="object"&&typeof vo.globalScope.crypto.subtle[e]=="function"}s(tz,"_detectSubtleCrypto");function rz(e){return typeof vo.globalScope<"u"&&typeof vo.globalScope.msCrypto=="object"&&typeof vo.globalScope.msCrypto.subtle=="object"&&typeof vo.globalScope.msCrypto.subtle[e]=="function"}s(rz,"_detectSubtleMsCrypto");function nz(e){for(var t=qt.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}s(nz,"_intToUint8Array")});var bP=ae((iTe,uz)=>{var St=v0();Wc();Zo();J8();za();Gc();Dy();bd();po();dP();Z8();G0();typeof az>"u"&&(az=St.jsbn.BigInteger);var az,Me=St.asn1,y0=St.pki=St.pki||{};uz.exports=y0.pbe=St.pbe=St.pbe||{};var Ed=y0.oids,Dle={name:"EncryptedPrivateKeyInfo",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Lle={name:"PBES2Algorithms",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Ble={name:"pkcs-12PbeParams",tagClass:Me.Class.UNIVERSAL,type:Me.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Me.Class.UNIVERSAL,type:Me.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Me.Class.UNIVERSAL,type:Me.Type.INTEGER,constructed:!1,capture:"iterations"}]};y0.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=St.random.getBytesSync(r.saltSize),i=r.count,o=Me.integerToDer(i),a,l,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,d;switch(r.algorithm){case"aes128":a=16,c=16,u=Ed["aes128-CBC"],d=St.aes.createEncryptionCipher;break;case"aes192":a=24,c=16,u=Ed["aes192-CBC"],d=St.aes.createEncryptionCipher;break;case"aes256":a=32,c=16,u=Ed["aes256-CBC"],d=St.aes.createEncryptionCipher;break;case"des":a=8,c=8,u=Ed.desCBC,d=St.des.createEncryptionCipher;break;default:var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),y=cz(p),_=St.pkcs5.pbkdf2(t,n,i,a,y),S=St.random.getBytesSync(c),T=d(_);T.start(S),T.update(Me.toDer(e)),T.finish(),f=T.output.getBytes();var I=Ole(n,o,a,p);l=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Ed.pkcs5PBES2).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Ed.pkcs5PBKDF2).getBytes()),I]),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(u).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,S)])])])}else if(r.algorithm==="3des"){a=24;var P=new St.util.ByteBuffer(n),_=y0.pbe.generatePkcs12Key(t,P,1,i,a),S=y0.pbe.generatePkcs12Key(t,P,2,i,a),T=St.des.createEncryptionCipher(_);T.start(S),T.update(Me.toDer(e)),T.finish(),f=T.output.getBytes(),l=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(Ed["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,n),Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,o.getBytes())])])}else{var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=r.algorithm,g}var U=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[l,Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,f)]);return U};y0.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!Me.validate(e,Dle,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=Me.derToOid(n.encryptionOid),l=y0.pbe.getCipher(a,n.encryptionParams,t),f=St.util.createBuffer(n.encryptedData);return l.update(f),l.finish()&&(r=Me.fromDer(l.output)),r};y0.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:Me.toDer(e).getBytes()};return St.pem.encode(r,{maxline:t})};y0.encryptedPrivateKeyFromPem=function(e){var t=St.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Me.fromDer(t.body)};y0.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=y0.wrapRsaPrivateKey(y0.privateKeyToAsn1(e));return n=y0.encryptPrivateKeyInfo(n,t,r),y0.encryptedPrivateKeyToPem(n)}var i,o,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=St.random.getBytesSync(16),l=St.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=St.random.getBytesSync(8),l=St.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=St.random.getBytesSync(8),l=St.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=St.pbe.opensslDeriveBytes(t,o.substr(0,8),a),u=l(c);u.start(o),u.update(Me.toDer(y0.privateKeyToAsn1(e))),u.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:St.util.bytesToHex(o).toUpperCase()},body:u.output.getBytes()};return St.pem.encode(d)};y0.decryptRsaPrivateKey=function(e,t){var r=null,n=St.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=St.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=St.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=St.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=St.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=St.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=s(function(d){return St.rc2.createDecryptionCipher(d,40)},"cipherFn");break;case"RC2-64-CBC":o=8,a=s(function(d){return St.rc2.createDecryptionCipher(d,64)},"cipherFn");break;case"RC2-128-CBC":o=16,a=s(function(d){return St.rc2.createDecryptionCipher(d,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=St.util.hexToBytes(n.dekInfo.parameters),f=St.pbe.opensslDeriveBytes(t,l.substr(0,8),o),c=a(f);if(c.start(l),c.update(St.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=y0.decryptPrivateKeyInfo(Me.fromDer(r),t):r=Me.fromDer(r),r!==null&&(r=y0.privateKeyFromAsn1(r)),r};y0.pbe.generatePkcs12Key=function(e,t,r,n,i,o){var a,l;if(typeof o>"u"||o===null){if(!("sha1"in St.md))throw new Error('"sha1" hash algorithm unavailable.');o=St.md.sha1.create()}var f=o.digestLength,c=o.blockLength,u=new St.util.ByteBuffer,d=new St.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)d.putInt16(e.charCodeAt(l));d.putInt16(0)}var g=d.length(),p=t.length(),y=new St.util.ByteBuffer;y.fillWithByte(r,c);var _=c*Math.ceil(p/c),S=new St.util.ByteBuffer;for(l=0;l<_;l++)S.putByte(t.at(l%p));var T=c*Math.ceil(g/c),I=new St.util.ByteBuffer;for(l=0;l<T;l++)I.putByte(d.at(l%g));var P=S;P.putBuffer(I);for(var U=Math.ceil(i/f),k=1;k<=U;k++){var L=new St.util.ByteBuffer;L.putBytes(y.bytes()),L.putBytes(P.bytes());for(var Q=0;Q<n;Q++)o.start(),o.update(L.getBytes()),L=o.digest();var te=new St.util.ByteBuffer;for(l=0;l<c;l++)te.putByte(L.at(l%f));var Ce=Math.ceil(p/c)+Math.ceil(g/c),De=new St.util.ByteBuffer;for(a=0;a<Ce;a++){var pe=new St.util.ByteBuffer(P.getBytes(c)),Ie=511;for(l=te.length()-1;l>=0;l--)Ie=Ie>>8,Ie+=te.at(l)+pe.at(l),pe.setAt(l,Ie&255);De.putBuffer(pe)}P=De,u.putBuffer(L)}return u.truncate(u.length()-i),u};y0.pbe.getCipher=function(e,t,r){switch(e){case y0.oids.pkcs5PBES2:return y0.pbe.getCipherForPBES2(e,t,r);case y0.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case y0.oids["pbewithSHAAnd40BitRC2-CBC"]:return y0.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};y0.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!Me.validate(t,Lle,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(e=Me.derToOid(n.kdfOid),e!==y0.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=e,o.supportedOids=["pkcs5PBKDF2"],o}if(e=Me.derToOid(n.encOid),e!==y0.oids["aes128-CBC"]&&e!==y0.oids["aes192-CBC"]&&e!==y0.oids["aes256-CBC"]&&e!==y0.oids["des-EDE3-CBC"]&&e!==y0.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,l=St.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var f,c;switch(y0.oids[e]){case"aes128-CBC":f=16,c=St.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=St.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=St.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=St.des.createDecryptionCipher;break;case"desCBC":f=8,c=St.des.createDecryptionCipher;break}var u=fz(n.prfOid),d=St.pkcs5.pbkdf2(r,a,l,f,u),g=n.encIv,p=c(d);return p.start(g),p};y0.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!Me.validate(t,Ble,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=St.util.createBuffer(n.salt),l=St.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var f,c,u;switch(e){case y0.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=St.des.startDecrypting;break;case y0.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=s(function(_,S){var T=St.rc2.createDecryptionCipher(_,40);return T.start(S,null),T},"cipherFn");break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=e,o}var d=fz(n.prfOid),g=y0.pbe.generatePkcs12Key(r,a,1,l,f,d);d.start();var p=y0.pbe.generatePkcs12Key(r,a,2,l,c,d);return u(g,p)};y0.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in St.md))throw new Error('"md5" hash algorithm unavailable.');n=St.md.md5.create()}t===null&&(t="");for(var i=[lz(n,e+t)],o=16,a=1;o<r;++a,o+=16)i.push(lz(n,i[a-1]+e+t));return i.join("").substr(0,r)};function lz(e,t){return e.start().update(t).digest().getBytes()}s(lz,"hash");function fz(e){var t;if(!e)t="hmacWithSHA1";else if(t=y0.oids[Me.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return cz(t)}s(fz,"prfOidToMessageDigest");function cz(e){var t=St.md;switch(e){case"hmacWithSHA224":t=St.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}s(cz,"prfAlgorithmToMessageDigest");function Ole(e,t,r,n){var i=Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OCTETSTRING,!1,e),Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(Me.create(Me.Class.UNIVERSAL,Me.Type.INTEGER,!1,St.util.hexToBytes(r.toString(16))),Me.create(Me.Class.UNIVERSAL,Me.Type.SEQUENCE,!0,[Me.create(Me.Class.UNIVERSAL,Me.Type.OID,!1,Me.oidToDer(y0.oids[n]).getBytes()),Me.create(Me.Class.UNIVERSAL,Me.Type.NULL,!1,"")])),i}s(Ole,"createPbkdf2Params")});var CP=ae((oTe,mz)=>{var x2=v0();Zo();G0();var bt=x2.asn1,_2=mz.exports=x2.pkcs7asn1=x2.pkcs7asn1||{};x2.pkcs7=x2.pkcs7||{};x2.pkcs7.asn1=_2;var dz={name:"ContentInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};_2.contentInfoValidator=dz;var hz={name:"EncryptedContentInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};_2.envelopedDataValidator={name:"EnvelopedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(hz)};_2.encryptedDataValidator={name:"EncryptedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"}].concat(hz)};var Fle={name:"SignerInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:bt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};_2.signedDataValidator={name:"SignedData",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},dz,{name:"SignedData.Certificates",tagClass:bt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:bt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SET,capture:"signerInfos",optional:!0,value:[Fle]}]};_2.recipientInfoValidator={name:"RecipientInfo",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:bt.Class.UNIVERSAL,type:bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:bt.Class.UNIVERSAL,type:bt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var TP=ae((aTe,gz)=>{var Sd=v0();G0();Sd.mgf=Sd.mgf||{};var Mle=gz.exports=Sd.mgf.mgf1=Sd.mgf1=Sd.mgf1||{};Mle.create=function(e){var t={generate:function(r,n){for(var i=new Sd.util.ByteBuffer,o=Math.ceil(n/e.digestLength),a=0;a<o;a++){var l=new Sd.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t}});var yz=ae((lTe,pz)=>{var Uy=v0();TP();pz.exports=Uy.mgf=Uy.mgf||{};Uy.mgf.mgf1=Uy.mgf1});var qy=ae((fTe,vz)=>{var wd=v0();po();G0();var Ule=vz.exports=wd.pss=wd.pss||{};Ule.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=wd.util.createBuffer(i));var o;if("saltLength"in e)o=e.saltLength;else if(i!==null)o=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==o)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||wd.random,l={};return l.encode=function(f,c){var u,d=c-1,g=Math.ceil(d/8),p=f.digest().getBytes();if(g<n+o+2)throw new Error("Message is too long to encrypt.");var y;i===null?y=a.getBytesSync(o):y=i.bytes();var _=new wd.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(p),_.putBytes(y),t.start(),t.update(_.getBytes());var S=t.digest().getBytes(),T=new wd.util.ByteBuffer;T.fillWithByte(0,g-o-n-2),T.putByte(1),T.putBytes(y);var I=T.getBytes(),P=g-n-1,U=r.generate(S,P),k="";for(u=0;u<P;u++)k+=String.fromCharCode(I.charCodeAt(u)^U.charCodeAt(u));var L=65280>>8*g-d&255;return k=String.fromCharCode(k.charCodeAt(0)&~L)+k.substr(1),k+S+"\xBC"},l.verify=function(f,c,u){var d,g=u-1,p=Math.ceil(g/8);if(c=c.substr(-p),p<n+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(c.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var y=p-n-1,_=c.substr(0,y),S=c.substr(y,n),T=65280>>8*p-g&255;if(_.charCodeAt(0)&T)throw new Error("Bits beyond keysize not zero as expected.");var I=r.generate(S,y),P="";for(d=0;d<y;d++)P+=String.fromCharCode(_.charCodeAt(d)^I.charCodeAt(d));P=String.fromCharCode(P.charCodeAt(0)&~T)+P.substr(1);var U=p-n-o-2;for(d=0;d<U;d++)if(P.charCodeAt(d)!==0)throw new Error("Leftmost octets not zero as expected");if(P.charCodeAt(U)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var k=P.substr(-o),L=new wd.util.ByteBuffer;L.fillWithByte(0,8),L.putBytes(f),L.putBytes(k),t.start(),t.update(L.getBytes());var Q=t.digest().getBytes();return S===Q},l}});var Hy=ae((cTe,Tz)=>{var jt=v0();Wc();Zo();J8();za();yz();Gc();bd();qy();Z8();G0();var q=jt.asn1,lt=Tz.exports=jt.pki=jt.pki||{},K0=lt.oids,Vr={};Vr.CN=K0.commonName;Vr.commonName="CN";Vr.C=K0.countryName;Vr.countryName="C";Vr.L=K0.localityName;Vr.localityName="L";Vr.ST=K0.stateOrProvinceName;Vr.stateOrProvinceName="ST";Vr.O=K0.organizationName;Vr.organizationName="O";Vr.OU=K0.organizationalUnitName;Vr.organizationalUnitName="OU";Vr.E=K0.emailAddress;Vr.emailAddress="E";var _z=jt.pki.rsa.publicKeyValidator,qle={name:"Certificate",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:q.Class.UNIVERSAL,type:q.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:q.Class.UNIVERSAL,type:q.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:q.Class.UNIVERSAL,type:q.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:q.Class.UNIVERSAL,type:q.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},_z,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:q.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:q.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:q.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},jle={name:"rsapss",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:q.Class.UNIVERSAL,type:q.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:q.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:q.Class.UNIVERSAL,type:q.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:q.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:q.Class.UNIVERSAL,type:q.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:q.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:q.Class.UNIVERSAL,type:q.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},$le={name:"CertificationRequestInfo",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},_z,{name:"CertificationRequestInfo.attributes",tagClass:q.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:q.Class.UNIVERSAL,type:q.Type.SET,constructed:!0}]}]}]},Hle={name:"CertificationRequest",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[$le,{name:"CertificationRequest.signatureAlgorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:q.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:q.Class.UNIVERSAL,type:q.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};lt.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,o,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)o={},i=n.value[l],o.type=q.derToOid(i.value[0].value),o.value=i.value[1].value,o.valueTagClass=i.value[1].type,o.type in K0&&(o.name=K0[o.type],o.name in Vr&&(o.shortName=Vr[o.name])),t&&(t.update(o.type),t.update(o.value)),r.push(o)}return r};lt.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=q.derToOid(n.value[0].value),o=n.value[1].value,a=0;a<o.length;++a){var l={};if(l.type=i,l.value=o[a].value,l.valueTagClass=o[a].type,l.type in K0&&(l.name=K0[l.type],l.name in Vr&&(l.shortName=Vr[l.name])),l.type===K0.extensionRequest){l.extensions=[];for(var f=0;f<l.value.length;++f)l.extensions.push(lt.certificateExtensionFromAsn1(l.value[f]))}t.push(l)}return t};function Xc(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}s(Xc,"_getAttribute");var jy=s(function(e,t,r){var n={};if(e!==K0["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:K0.sha1},mgf:{algorithmOid:K0.mgf1,hash:{algorithmOid:K0.sha1}},saltLength:20});var i={},o=[];if(!q.validate(t,jle,i,o)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=o,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=q.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=q.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=q.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),$y=s(function(e){switch(K0[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return jt.md.sha1.create();case"md5WithRSAEncryption":return jt.md.md5.create();case"sha256WithRSAEncryption":return jt.md.sha256.create();case"sha384WithRSAEncryption":return jt.md.sha384.create();case"sha512WithRSAEncryption":return jt.md.sha512.create();case"RSASSA-PSS":return jt.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),bz=s(function(e){var t=e.certificate,r;switch(t.signatureOid){case K0.sha1WithRSAEncryption:case K0.sha1WithRSASignature:break;case K0["RSASSA-PSS"]:var n,i;if(n=K0[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||jt.md[n]===void 0){var o=new Error("Unsupported MGF hash function.");throw o.oid=t.signatureParameters.mgf.hash.algorithmOid,o.name=n,o}if(i=K0[t.signatureParameters.mgf.algorithmOid],i===void 0||jt.mgf[i]===void 0){var o=new Error("Unsupported MGF function.");throw o.oid=t.signatureParameters.mgf.algorithmOid,o.name=i,o}if(i=jt.mgf[i].create(jt.md[n].create()),n=K0[t.signatureParameters.hash.algorithmOid],n===void 0||jt.md[n]===void 0){var o=new Error("Unsupported RSASSA-PSS hash function.");throw o.oid=t.signatureParameters.hash.algorithmOid,o.name=n,o}r=jt.pss.create(jt.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");lt.certificateFromPem=function(e,t,r){var n=jt.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var o=q.fromDer(n.body,r);return lt.certificateFromAsn1(o,t)};lt.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:q.toDer(lt.certificateToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.publicKeyFromPem=function(e){var t=jt.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=q.fromDer(t.body);return lt.publicKeyFromAsn1(n)};lt.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:q.toDer(lt.publicKeyToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:q.toDer(lt.publicKeyToRSAPublicKey(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||jt.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=q.toDer(lt.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=q.toDer(lt.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};lt.certificationRequestFromPem=function(e,t,r){var n=jt.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var o=q.fromDer(n.body,r);return lt.certificationRequestFromAsn1(o,t)};lt.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:q.toDer(lt.certificationRequestToAsn1(e)).getBytes()};return jt.pem.encode(r,{maxline:t})};lt.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Xc(e.issuer,t)},e.issuer.addField=function(t){xo([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Xc(e.subject,t)},e.subject.addField=function(t){xo([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){xo(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){xo(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)Cz(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||jt.md.sha1.create();var n=K0[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=lt.getTBSCertificate(e);var o=q.toDer(e.tbsCertificate);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw o.expectedIssuer=i.attributes,o.actualIssuer=n.attributes,o}var a=t.md;if(a===null){a=$y({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||lt.getTBSCertificate(t),f=q.toDer(l);a.update(f.getBytes())}return a!==null&&(r=bz({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var o,a,l=0;r&&l<n.attributes.length;++l)o=n.attributes[l],a=i.attributes[l],(o.type!==a.type||o.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return lt.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=K0.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return jt.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};lt.certificateFromAsn1=function(e,t){var r={},n=[];if(!q.validate(e,qle,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var o=q.derToOid(r.publicKeyOid);if(o!==lt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=lt.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=jt.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=jt.asn1.derToOid(r.certSignatureOid),a.signatureParameters=jy(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=jt.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=jy(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var f=[];if(r.certValidity1UTCTime!==void 0&&f.push(q.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&f.push(q.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&f.push(q.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&f.push(q.generalizedTimeToDate(r.certValidity4GeneralizedTime)),f.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(f.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=f[0],a.validity.notAfter=f[1],a.tbsCertificate=r.tbsCertificate,t){a.md=$y({signatureOid:a.signatureOid,type:"certificate"});var c=q.toDer(a.tbsCertificate);a.md.update(c.getBytes())}var u=jt.md.sha1.create(),d=q.toDer(r.certIssuer);u.update(d.getBytes()),a.issuer.getField=function(y){return Xc(a.issuer,y)},a.issuer.addField=function(y){xo([y]),a.issuer.attributes.push(y)},a.issuer.attributes=lt.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=u.digest().toHex();var g=jt.md.sha1.create(),p=q.toDer(r.certSubject);return g.update(p.getBytes()),a.subject.getField=function(y){return Xc(a.subject,y)},a.subject.addField=function(y){xo([y]),a.subject.attributes.push(y)},a.subject.attributes=lt.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=g.digest().toHex(),r.certExtensions?a.extensions=lt.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=lt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};lt.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(lt.certificateExtensionFromAsn1(n.value[i]));return t};lt.certificateExtensionFromAsn1=function(e){var t={};if(t.id=q.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===q.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in K0){if(t.name=K0[t.id],t.name==="keyUsage"){var r=q.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=q.fromDer(t.value);r.value.length>0&&r.value[0].type===q.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var o=null;r.value.length>0&&r.value[0].type===q.Type.INTEGER?o=r.value[0].value:r.value.length>1&&(o=r.value[1].value),o!==null&&(t.pathLenConstraint=q.derToInteger(o))}else if(t.name==="extKeyUsage")for(var r=q.fromDer(t.value),a=0;a<r.value.length;++a){var l=q.derToOid(r.value[a].value);l in K0?t[K0[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=q.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var f,r=q.fromDer(t.value),c=0;c<r.value.length;++c){f=r.value[c];var u={type:f.type,value:f.value};switch(t.altNames.push(u),f.type){case 1:case 2:case 6:break;case 7:u.ip=jt.util.bytesToIP(f.value);break;case 8:u.oid=q.derToOid(f.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=q.fromDer(t.value);t.subjectKeyIdentifier=jt.util.bytesToHex(r.value)}}return t};lt.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!q.validate(e,Hle,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var o=q.derToOid(r.publicKeyOid);if(o!==lt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=lt.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=jt.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=jy(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=jt.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=jy(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=$y({signatureOid:a.signatureOid,type:"certification request"});var l=q.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var f=jt.md.sha1.create();return a.subject.getField=function(c){return Xc(a.subject,c)},a.subject.addField=function(c){xo([c]),a.subject.attributes.push(c)},a.subject.attributes=lt.RDNAttributesAsArray(r.certificationRequestInfoSubject,f),a.subject.hash=f.digest().toHex(),a.publicKey=lt.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(c){return Xc(a,c)},a.addAttribute=function(c){xo([c]),a.attributes.push(c)},a.attributes=lt.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};lt.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Xc(e.subject,t)},e.subject.addField=function(t){xo([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Xc(e,t)},e.addAttribute=function(t){xo([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){xo(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){xo(t),e.attributes=t},e.sign=function(t,r){e.md=r||jt.md.sha1.create();var n=K0[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=lt.getCertificationRequestInfo(e);var o=q.toDer(e.certificationRequestInfo);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=$y({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||lt.getCertificationRequestInfo(e),i=q.toDer(n);r.update(i.getBytes())}return r!==null&&(t=bz({certificate:e,md:r,signature:e.signature})),t},e};function b2(e){for(var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,o=0;o<i.length;++o){r=i[o];var a=r.value,l=q.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===q.Type.UTF8&&(a=jt.util.encodeUtf8(a))),n=q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(r.type).getBytes()),q.create(q.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}s(b2,"_dnToAsn1");function xo(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in lt.oids?t.name=lt.oids[t.type]:t.shortName&&t.shortName in Vr&&(t.name=lt.oids[Vr[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in lt.oids)t.type=lt.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Vr&&(t.shortName=Vr[t.name]),t.type===K0.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=q.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(lt.certificateExtensionToAsn1(Cz(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}s(xo,"_fillMissingFields");function Cz(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in lt.oids&&(e.name=lt.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in lt.oids)e.id=lt.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,o=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(o|=128,n=7);var a=String.fromCharCode(n);o!==0?a+=String.fromCharCode(i)+String.fromCharCode(o):i!==0&&(a+=String.fromCharCode(i)),e.value=q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(q.create(q.Class.UNIVERSAL,q.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var f in e)e[f]===!0&&(f in K0?l.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(K0[f]).getBytes())):f.indexOf(".")!==-1&&l.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(f).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);for(var c,u=0;u<e.altNames.length;++u){c=e.altNames[u];var a=c.value;if(c.type===7&&c.ip){if(a=jt.util.bytesFromIP(c.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else c.type===8&&(c.oid?a=q.oidToDer(q.oidToDer(c.oid)):a=q.oidToDer(a));e.value.value.push(q.create(q.Class.CONTEXT_SPECIFIC,c.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=q.create(q.Class.UNIVERSAL,q.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var d=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=d.toHex(),e.value=q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,d.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var g=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!1,g))}if(e.authorityCertIssuer){var p=[q.create(q.Class.CONTEXT_SPECIFIC,4,!0,[b2(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var y=jt.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if(e.name==="cRLDistributionPoints"){e.value=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);for(var l=e.value.value,_=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]),S=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]),c,u=0;u<e.altNames.length;++u){c=e.altNames[u];var a=c.value;if(c.type===7&&c.ip){if(a=jt.util.bytesFromIP(c.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else c.type===8&&(c.oid?a=q.oidToDer(q.oidToDer(c.oid)):a=q.oidToDer(a));S.value.push(q.create(q.Class.CONTEXT_SPECIFIC,c.type,!1,a))}_.value.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[S])),l.push(_)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}s(Cz,"_fillMissingExtensionFields");function EP(e,t){switch(e){case K0["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.hash.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.mgf.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(t.mgf.hash.algorithmOid).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(t.saltLength).getBytes())])),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,r);default:return q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")}}s(EP,"_signatureParametersToAsn1");function Vle(e){var t=q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],o=i.value,a=q.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===q.Type.UTF8&&(o=jt.util.encodeUtf8(o));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var f=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(i.type).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[q.create(q.Class.UNIVERSAL,a,l,o)])]);t.value.push(f)}return t}s(Vle,"_CRIAttributesToAsn1");var zle=new Date("1950-01-01T00:00:00Z"),Kle=new Date("2050-01-01T00:00:00Z");function xz(e){return e>=zle&&e<Kle?q.create(q.Class.UNIVERSAL,q.Type.UTCTIME,!1,q.dateToUtcTime(e)):q.create(q.Class.UNIVERSAL,q.Type.GENERALIZEDTIME,!1,q.dateToGeneralizedTime(e))}s(xz,"_dateToAsn1");lt.getTBSCertificate=function(e){var t=xz(e.validity.notBefore),r=xz(e.validity.notAfter),n=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes())]),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,jt.util.hexToBytes(e.serialNumber)),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.siginfo.algorithmOid).getBytes()),EP(e.siginfo.algorithmOid,e.siginfo.parameters)]),b2(e.issuer),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,r]),b2(e.subject),lt.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(q.create(q.Class.CONTEXT_SPECIFIC,1,!0,[q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(q.create(q.Class.CONTEXT_SPECIFIC,2,!0,[q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(lt.certificateExtensionsToAsn1(e.extensions)),n};lt.getCertificationRequestInfo=function(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(e.version).getBytes()),b2(e.subject),lt.publicKeyToAsn1(e.publicKey),Vle(e)]);return t};lt.distinguishedNameToAsn1=function(e){return b2(e)};lt.certificateToAsn1=function(e){var t=e.tbsCertificate||lt.getTBSCertificate(e);return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureOid).getBytes()),EP(e.signatureOid,e.signatureParameters)]),q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.signature)])};lt.certificateExtensionsToAsn1=function(e){var t=q.create(q.Class.CONTEXT_SPECIFIC,3,!0,[]),r=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(lt.certificateExtensionToAsn1(e[n]));return t};lt.certificateExtensionToAsn1=function(e){var t=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[]);t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.id).getBytes())),e.critical&&t.value.push(q.create(q.Class.UNIVERSAL,q.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=q.toDer(r).getBytes()),t.value.push(q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,r)),t};lt.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||lt.getCertificationRequestInfo(e);return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[t,q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(e.signatureOid).getBytes()),EP(e.signatureOid,e.signatureParameters)]),q.create(q.Class.UNIVERSAL,q.Type.BITSTRING,!1,"\0"+e.signature)])};lt.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=jt.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];jt.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=jt.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;jt.util.isArray(l)||(l=[l]);for(var f=q.toDer(lt.certificateToAsn1(a)).getBytes(),c=0;c<l.length;++c){var u=q.toDer(lt.certificateToAsn1(l[c])).getBytes();if(f===u)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var f=t.certs[l];if(!jt.util.isArray(f))a.push(f);else for(var c=0;c<f.length;++c)a.push(f[c])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=jt.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var f=r(a.subject);if(!jt.util.isArray(f))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var c=q.toDer(lt.certificateToAsn1(a)).getBytes(),u=0;u<f.length;++u){var d=q.toDer(lt.certificateToAsn1(f[u])).getBytes();c===d&&(l=f[u],f.splice(u,1))}return f.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}s(r,"getBySubject");function n(a){if(!a.hash){var l=jt.md.sha1.create();a.attributes=lt.RDNAttributesAsArray(b2(a),l),a.hash=l.digest().toHex()}}if(s(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var o=e[i];t.addCertificate(o)}return t};lt.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};lt.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var o=!0,a=null,l=0;do{var f=t.shift(),c=null,u=!1;if(i&&(i<f.validity.notBefore||i>f.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:lt.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:i}),a===null){if(c=t[0]||e.getIssuer(f),c===null&&f.isIssuer(f)&&(u=!0,c=f),c){var d=c;jt.util.isArray(d)||(d=[d]);for(var g=!1;!g&&d.length>0;){c=d.shift();try{g=c.verify(f)}catch{}}g||(a={message:"Certificate signature is invalid.",error:lt.certificateError.bad_certificate})}a===null&&(!c||u)&&!e.hasCertificate(f)&&(a={message:"Certificate is not trusted.",error:lt.certificateError.unknown_ca})}if(a===null&&c&&!f.isIssuer(c)&&(a={message:"Certificate issuer is invalid.",error:lt.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},y=0;a===null&&y<f.extensions.length;++y){var _=f.extensions[y];_.critical&&!(_.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:lt.certificateError.unsupported_certificate})}if(a===null&&(!o||t.length===0&&(!c||u))){var S=f.getExtension("basicConstraints"),T=f.getExtension("keyUsage");if(T!==null&&(!T.keyCertSign||S===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:lt.certificateError.bad_certificate}),a===null&&S!==null&&!S.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:lt.certificateError.bad_certificate}),a===null&&T!==null&&"pathLenConstraint"in S){var I=l-1;I>S.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:lt.certificateError.bad_certificate})}}var P=a===null?!0:a.error,U=r.verify?r.verify(P,l,n):P;if(U===!0)a=null;else throw P===!0&&(a={message:"The application rejected the certificate.",error:lt.certificateError.bad_certificate}),(U||U===0)&&(typeof U=="object"&&!jt.util.isArray(U)?(U.message&&(a.message=U.message),U.error&&(a.error=U.error)):typeof U=="string"&&(a.error=U)),a;o=!1,++l}while(t.length>0);return!0}});var wP=ae((dTe,Sz)=>{var xr=v0();Zo();m2();Gc();CP();bP();po();Z8();v2();G0();Hy();var oe=xr.asn1,R0=xr.pki,t6=Sz.exports=xr.pkcs12=xr.pkcs12||{},Ez={name:"ContentInfo",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},Wle={name:"PFX",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:oe.Class.UNIVERSAL,type:oe.Type.INTEGER,constructed:!1,capture:"version"},Ez,{name:"PFX.macData",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:oe.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:oe.Class.UNIVERSAL,type:oe.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},Gle={name:"SafeBag",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},Yle={name:"Attribute",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SET,constructed:!0,capture:"values"}]},Jle={name:"CertBag",tagClass:oe.Class.UNIVERSAL,type:oe.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:oe.Class.UNIVERSAL,type:oe.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:oe.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:oe.Class.UNIVERSAL,type:oe.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function e6(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var l=e[o].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}s(e6,"_getBagsByAttribute");t6.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!oe.validate(e,Wle,n,i)){var o=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw o.errors=o,o}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:function(S){var T={},I;return"localKeyId"in S?I=S.localKeyId:"localKeyIdHex"in S&&(I=xr.util.hexToBytes(S.localKeyIdHex)),I===void 0&&!("friendlyName"in S)&&"bagType"in S&&(T[S.bagType]=e6(a.safeContents,null,null,S.bagType)),I!==void 0&&(T.localKeyId=e6(a.safeContents,"localKeyId",I,S.bagType)),"friendlyName"in S&&(T.friendlyName=e6(a.safeContents,"friendlyName",S.friendlyName,S.bagType)),T},getBagsByFriendlyName:function(S,T){return e6(a.safeContents,"friendlyName",S,T)},getBagsByLocalKeyId:function(S,T){return e6(a.safeContents,"localKeyId",S,T)}};if(n.version.charCodeAt(0)!==3){var o=new Error("PKCS#12 PFX of version other than 3 not supported.");throw o.version=n.version.charCodeAt(0),o}if(oe.derToOid(n.contentType)!==R0.oids.data){var o=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw o.oid=oe.derToOid(n.contentType),o}var l=n.content.value[0];if(l.tagClass!==oe.Class.UNIVERSAL||l.type!==oe.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=SP(l),n.mac){var f=null,c=0,u=oe.derToOid(n.macAlgorithm);switch(u){case R0.oids.sha1:f=xr.md.sha1.create(),c=20;break;case R0.oids.sha256:f=xr.md.sha256.create(),c=32;break;case R0.oids.sha384:f=xr.md.sha384.create(),c=48;break;case R0.oids.sha512:f=xr.md.sha512.create(),c=64;break;case R0.oids.md5:f=xr.md.md5.create(),c=16;break}if(f===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+u);var d=new xr.util.ByteBuffer(n.macSalt),g="macIterations"in n?parseInt(xr.util.bytesToHex(n.macIterations),16):1,p=t6.generateKey(r,d,3,g,c,f),y=xr.hmac.create();y.start(f,p),y.update(l.value);var _=y.getMac();if(_.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return Xle(a,l.value,t,r),a};function SP(e){if(e.composed||e.constructed){for(var t=xr.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}s(SP,"_decodePkcs7Data");function Xle(e,t,r,n){if(t=oe.fromDer(t,r),t.tagClass!==oe.Class.UNIVERSAL||t.type!==oe.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var o=t.value[i],a={},l=[];if(!oe.validate(o,Ez,a,l)){var f=new Error("Cannot read ContentInfo.");throw f.errors=l,f}var c={encrypted:!1},u=null,d=a.content.value[0];switch(oe.derToOid(a.contentType)){case R0.oids.data:if(d.tagClass!==oe.Class.UNIVERSAL||d.type!==oe.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=SP(d).value;break;case R0.oids.encryptedData:u=Qle(d,n),c.encrypted=!0;break;default:var f=new Error("Unsupported PKCS#12 contentType.");throw f.contentType=oe.derToOid(a.contentType),f}c.safeBags=Zle(u,r,n),e.safeContents.push(c)}}s(Xle,"_decodeAuthenticatedSafe");function Qle(e,t){var r={},n=[];if(!oe.validate(e,xr.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var o=oe.derToOid(r.contentType);if(o!==R0.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=o,i}o=oe.derToOid(r.encAlgorithm);var a=R0.pbe.getCipher(o,r.encParameter,t),l=SP(r.encryptedContentAsn1),f=xr.util.createBuffer(l.value);if(a.update(f),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}s(Qle,"_decryptSafeContents");function Zle(e,t,r){if(!t&&e.length===0)return[];if(e=oe.fromDer(e,t),e.tagClass!==oe.Class.UNIVERSAL||e.type!==oe.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var o=e.value[i],a={},l=[];if(!oe.validate(o,Gle,a,l)){var f=new Error("Cannot read SafeBag.");throw f.errors=l,f}var c={type:oe.derToOid(a.bagId),attributes:efe(a.bagAttributes)};n.push(c);var u,d,g=a.bagValue.value[0];switch(c.type){case R0.oids.pkcs8ShroudedKeyBag:if(g=R0.decryptPrivateKeyInfo(g,r),g===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case R0.oids.keyBag:try{c.key=R0.privateKeyFromAsn1(g)}catch{c.key=null,c.asn1=g}continue;case R0.oids.certBag:u=Jle,d=s(function(){if(oe.derToOid(a.certId)!==R0.oids.x509Certificate){var y=new Error("Unsupported certificate type, only X.509 supported.");throw y.oid=oe.derToOid(a.certId),y}var _=oe.fromDer(a.cert,t);try{c.cert=R0.certificateFromAsn1(_,!0)}catch{c.cert=null,c.asn1=_}},"decoder");break;default:var f=new Error("Unsupported PKCS#12 SafeBag type.");throw f.oid=c.type,f}if(u!==void 0&&!oe.validate(g,u,a,l)){var f=new Error("Cannot read PKCS#12 "+u.name);throw f.errors=l,f}d()}return n}s(Zle,"_decodeSafeContents");function efe(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!oe.validate(e[r],Yle,n,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var a=oe.derToOid(n.oid);if(R0.oids[a]!==void 0){t[R0.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[R0.oids[a]].push(n.values[l].value)}}return t}s(efe,"_decodeBagAttributes");t6.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,o;if(i!==null)i=xr.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=xr.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=R0.certificateFromPem(a));var l=xr.md.sha1.create();l.update(oe.toDer(R0.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=xr.random.getBytes(20);var f=[];i!==null&&f.push(oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.localKeyId).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&f.push(oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.friendlyName).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.BMPSTRING,!1,n.friendlyName)])])),f.length>0&&(o=oe.create(oe.Class.UNIVERSAL,oe.Type.SET,!0,f));var c=[],u=[];t!==null&&(xr.util.isArray(t)?u=t:u=[t]);for(var d=[],g=0;g<u.length;++g){t=u[g],typeof t=="string"&&(t=R0.certificateFromPem(t));var p=g===0?o:void 0,y=R0.certificateToAsn1(t),_=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.certBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.x509Certificate).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(y).getBytes())])])]),p]);d.push(_)}if(d.length>0){var S=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,d),T=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(S).getBytes())])]);c.push(T)}var I=null;if(e!==null){var P=R0.wrapRsaPrivateKey(R0.privateKeyToAsn1(e));r===null?I=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.keyBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[P]),o]):I=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.pkcs8ShroudedKeyBag).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[R0.encryptPrivateKeyInfo(P,r,n)]),o]);var U=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[I]),k=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(U).getBytes())])]);c.push(k)}var L=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,c),Q;if(n.useMac){var l=xr.md.sha1.create(),te=new xr.util.ByteBuffer(xr.random.getBytes(n.saltSize)),Ce=n.count,e=t6.generateKey(r,te,3,Ce,20),De=xr.hmac.create();De.start(l,e),De.update(oe.toDer(L).getBytes());var pe=De.getMac();Q=oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.sha1).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.NULL,!1,"")]),oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,pe.getBytes())]),oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,te.getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.INTEGER,!1,oe.integerToDer(Ce).getBytes())])}return oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.INTEGER,!1,oe.integerToDer(3).getBytes()),oe.create(oe.Class.UNIVERSAL,oe.Type.SEQUENCE,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OID,!1,oe.oidToDer(R0.oids.data).getBytes()),oe.create(oe.Class.CONTEXT_SPECIFIC,0,!0,[oe.create(oe.Class.UNIVERSAL,oe.Type.OCTETSTRING,!1,oe.toDer(L).getBytes())])]),Q])};t6.generateKey=xr.pbe.generatePkcs12Key});var AP=ae((mTe,wz)=>{var Qc=v0();Zo();Gc();bP();bd();Dy();wP();qy();Z8();G0();Hy();var IP=Qc.asn1,C2=wz.exports=Qc.pki=Qc.pki||{};C2.pemToDer=function(e){var t=Qc.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Qc.util.createBuffer(t.body)};C2.privateKeyFromPem=function(e){var t=Qc.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=IP.fromDer(t.body);return C2.privateKeyFromAsn1(n)};C2.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:IP.toDer(C2.privateKeyToAsn1(e)).getBytes()};return Qc.pem.encode(r,{maxline:t})};C2.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:IP.toDer(e).getBytes()};return Qc.pem.encode(r,{maxline:t})}});var LP=ae((gTe,Lz)=>{var tt=v0();Zo();m2();Py();bd();AP();po();v2();G0();var Wy=s(function(e,t,r,n){var i=tt.util.createBuffer(),o=e.length>>1,a=o+(e.length&1),l=e.substr(0,a),f=e.substr(o,a),c=tt.util.createBuffer(),u=tt.hmac.create();r=t+r;var d=Math.ceil(n/16),g=Math.ceil(n/20);u.start("MD5",l);var p=tt.util.createBuffer();c.putBytes(r);for(var y=0;y<d;++y)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),p.putBuffer(u.digest());u.start("SHA1",f);var _=tt.util.createBuffer();c.clear(),c.putBytes(r);for(var y=0;y<g;++y)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),_.putBuffer(u.digest());return i.putBytes(tt.util.xorBytes(p.getBytes(),_.getBytes(),n)),i},"prf_TLS1"),tfe=s(function(e,t,r){var n=tt.hmac.create();n.start("SHA1",e);var i=tt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),rfe=s(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=tt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),nfe=s(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=tt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),Os=s(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return tt.util.createBuffer(e.getBytes(r))},"readVector"),_o=s(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),$={};$.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};$.SupportedVersions=[$.Versions.TLS_1_1,$.Versions.TLS_1_0];$.Version=$.SupportedVersions[0];$.MaxFragment=15360;$.ConnectionEnd={server:0,client:1};$.PRFAlgorithm={tls_prf_sha256:0};$.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};$.CipherType={stream:0,block:1,aead:2};$.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};$.CompressionMethod={none:0,deflate:1};$.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};$.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};$.Alert={};$.Alert.Level={warning:1,fatal:2};$.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};$.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};$.CipherSuites={};$.getCipherSuite=function(e){var t=null;for(var r in $.CipherSuites){var n=$.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};$.handleUnexpected=function(e,t){var r=!e.open&&e.entity===$.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unexpected_message}})};$.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&($.queue(e,$.createAlert(e,{level:$.Alert.Level.warning,description:$.Alert.Description.no_renegotiation})),$.flush(e)),e.process()};$.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===$.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});else{var o=t.fragment,a=o.length();if(n={version:{major:o.getByte(),minor:o.getByte()},random:tt.util.createBuffer(o.getBytes(32)),session_id:Os(o,1),extensions:[]},i?(n.cipher_suite=o.getBytes(2),n.compression_method=o.getByte()):(n.cipher_suites=Os(o,2),n.compression_methods=Os(o,1)),a=r-(a-o.length()),a>0){for(var l=Os(o,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:Os(l,2)});if(!i)for(var f=0;f<n.extensions.length;++f){var c=n.extensions[f];if(c.type[0]===0&&c.type[1]===0)for(var u=Os(c.data,2);u.length()>0;){var d=u.getByte();if(d!==0)break;e.session.extensions.server_name.serverNameList.push(Os(u,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=$.getCipherSuite(n.cipher_suite);else for(var g=tt.util.createBuffer(n.cipher_suites.bytes());g.length()>0&&(e.session.cipherSuite=$.getCipherSuite(g.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.handshake_failure},cipherSuite:tt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=$.CompressionMethod.none}return n};$.createSecurityParameters=function(e,t){var r=e.entity===$.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,o=r?n:$.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:$.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}};$.handleServerHello=function(e,t,r){var n=$.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=Pz,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=sfe,e.session.resuming=!1,$.createSecurityParameters(e,n)),e.session.id=i,e.process()}};$.handleClientHello=function(e,t,r){var n=$.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),o=null;if(e.sessionCache&&(o=e.sessionCache.getSession(i),o===null?i="":(o.version.major!==n.version.major||o.version.minor>n.version.minor)&&(o=null,i="")),i.length===0&&(i=tt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var a,l=1;l<$.SupportedVersions.length&&(a=$.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}o!==null?(e.expect=NP,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?dfe:kP,e.session.resuming=!1,$.createSecurityParameters(e,n)),e.open=!0,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerHello(e)})),e.session.resuming?($.queue(e,$.createRecord(e,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),e.state.pending=$.createConnectionState(e),e.state.current.write=e.state.pending.write,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createFinished(e)}))):($.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificate(e)})),e.fail||($.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerKeyExchange(e)})),e.verifyClient!==!1&&$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificateRequest(e)})),$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createServerHelloDone(e)})))),$.flush(e),e.process()}};$.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:Os(n,3)},o,a,l=[];try{for(;i.certificate_list.length()>0;)o=Os(i.certificate_list,3),a=tt.asn1.fromDer(o),o=tt.pki.certificateFromAsn1(a,!0),l.push(o)}catch(c){return e.error(e,{message:"Could not parse certificate list.",cause:c,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate}})}var f=e.entity===$.ConnectionEnd.client;(f||e.verifyClient===!0)&&l.length===0?e.error(e,{message:f?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}}):l.length===0?e.expect=f?Iz:kP:(f?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],$.verifyCertificateChain(e,l)&&(e.expect=f?Iz:kP)),e.process()};$.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unsupported_certificate}});e.expect=ofe,e.process()};$.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:Os(n,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=tt.pki.privateKeyFromPem(o)}catch(f){e.error(e,{message:"Could not get private key.",cause:f,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}})}if(o===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=tt.random.getBytes(48)}e.expect=NP,e.session.clientCertificate!==null&&(e.expect=hfe),e.process()};$.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:Os(n,1),certificate_authorities:Os(n,2)};e.session.certificateRequest=i,e.expect=afe,e.process()};$.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o={signature:Os(n,2).getBytes()},a=tt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.handshake_failure}})}e.expect=NP,e.process()};$.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.insufficient_security}},i=0,o=e.verify(e,n.alert.description,i,[]);if(o!==!0)return(o||o===0)&&(typeof o=="object"&&!tt.util.isArray(o)?(o.message&&(n.message=o.message),o.alert&&(n.alert.description=o.alert)):typeof o=="number"&&(n.alert.description=o)),e.error(e,n)}e.session.certificateRequest!==null&&(t=$.createRecord(e,{type:$.ContentType.handshake,data:$.createCertificate(e)}),$.queue(e,t)),t=$.createRecord(e,{type:$.ContentType.handshake,data:$.createClientKeyExchange(e)}),$.queue(e,t),e.expect=cfe;var a=s(function(l,f){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&$.queue(l,$.createRecord(l,{type:$.ContentType.handshake,data:$.createCertificateVerify(l,f)})),$.queue(l,$.createRecord(l,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),l.state.pending=$.createConnectionState(l),l.state.current.write=l.state.pending.write,$.queue(l,$.createRecord(l,{type:$.ContentType.handshake,data:$.createFinished(l)})),l.expect=Pz,$.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);$.getClientSignature(e,a)};$.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.illegal_parameter}});var r=e.entity===$.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=$.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?lfe:mfe,e.process()};$.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o=t.fragment.getBytes();n=tt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===$.ConnectionEnd.client,l=a?"server finished":"client finished",f=e.session.sp,c=12,u=Wy;if(n=u(f.master_secret,l,n.getBytes(),c),n.getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&($.queue(e,$.createRecord(e,{type:$.ContentType.change_cipher_spec,data:$.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,$.queue(e,$.createRecord(e,{type:$.ContentType.handshake,data:$.createFinished(e)}))),e.expect=a?ffe:gfe,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,$.flush(e),e.isConnected=!0,e.connected(e),e.process()};$.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case $.Alert.Description.close_notify:i="Connection closed.";break;case $.Alert.Description.unexpected_message:i="Unexpected message.";break;case $.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case $.Alert.Description.decryption_failed:i="Decryption failed.";break;case $.Alert.Description.record_overflow:i="Record overflow.";break;case $.Alert.Description.decompression_failure:i="Decompression failed.";break;case $.Alert.Description.handshake_failure:i="Handshake failure.";break;case $.Alert.Description.bad_certificate:i="Bad certificate.";break;case $.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case $.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case $.Alert.Description.certificate_expired:i="Certificate expired.";break;case $.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case $.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case $.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case $.Alert.Description.access_denied:i="Access denied.";break;case $.Alert.Description.decode_error:i="Decode error.";break;case $.Alert.Description.decrypt_error:i="Decrypt error.";break;case $.Alert.Description.export_restriction:i="Export restriction.";break;case $.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case $.Alert.Description.insufficient_security:i="Insufficient security.";break;case $.Alert.Description.internal_error:i="Internal error.";break;case $.Alert.Description.user_canceled:i="User canceled.";break;case $.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===$.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===$.ConnectionEnd.client?"server":"client",alert:n}),e.process()};$.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=tt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,n in Ky[e.entity][e.expect]?(e.entity===$.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:tt.md.md5.create(),sha1:tt.md.sha1.create()}),n!==$.HandshakeType.hello_request&&n!==$.HandshakeType.certificate_verify&&n!==$.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),Ky[e.entity][e.expect][n](e,t,i)):$.handleUnexpected(e,t)};$.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};$.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(n===$.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>o.length)return e.process();$.queue(e,$.createRecord(e,{type:$.ContentType.heartbeat,data:$.createHeartbeat($.HeartbeatMessageType.heartbeat_response,o)})),$.flush(e)}else if(n===$.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,tt.util.createBuffer(o))}e.process()};var ife=0,sfe=1,Iz=2,ofe=3,afe=4,Pz=5,lfe=6,ffe=7,cfe=8,ufe=0,dfe=1,kP=2,hfe=3,NP=4,mfe=5,gfe=6,j=$.handleUnexpected,Rz=$.handleChangeCipherSpec,ii=$.handleAlert,Ui=$.handleHandshake,kz=$.handleApplicationData,si=$.handleHeartbeat,DP=[];DP[$.ConnectionEnd.client]=[[j,ii,Ui,j,si],[j,ii,Ui,j,si],[j,ii,Ui,j,si],[j,ii,Ui,j,si],[j,ii,Ui,j,si],[Rz,ii,j,j,si],[j,ii,Ui,j,si],[j,ii,Ui,kz,si],[j,ii,Ui,j,si]];DP[$.ConnectionEnd.server]=[[j,ii,Ui,j,si],[j,ii,Ui,j,si],[j,ii,Ui,j,si],[j,ii,Ui,j,si],[Rz,ii,j,j,si],[j,ii,Ui,j,si],[j,ii,Ui,kz,si],[j,ii,Ui,j,si]];var Zc=$.handleHelloRequest,pfe=$.handleServerHello,Nz=$.handleCertificate,Az=$.handleServerKeyExchange,PP=$.handleCertificateRequest,Vy=$.handleServerHelloDone,Dz=$.handleFinished,Ky=[];Ky[$.ConnectionEnd.client]=[[j,j,pfe,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[Zc,j,j,j,j,j,j,j,j,j,j,Nz,Az,PP,Vy,j,j,j,j,j,j],[Zc,j,j,j,j,j,j,j,j,j,j,j,Az,PP,Vy,j,j,j,j,j,j],[Zc,j,j,j,j,j,j,j,j,j,j,j,j,PP,Vy,j,j,j,j,j,j],[Zc,j,j,j,j,j,j,j,j,j,j,j,j,j,Vy,j,j,j,j,j,j],[Zc,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[Zc,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,Dz],[Zc,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[Zc,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j]];var yfe=$.handleClientHello,vfe=$.handleClientKeyExchange,xfe=$.handleCertificateVerify;Ky[$.ConnectionEnd.server]=[[j,yfe,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,Nz,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,vfe,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,xfe,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,Dz],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j],[j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j]];$.generateKeys=function(e,t){var r=Wy,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===$.Versions.TLS_1_0.major&&e.version.minor===$.Versions.TLS_1_0.minor;o&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return o&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};$.createConnectionState=function(e){var t=e.entity===$.ConnectionEnd.client,r=s(function(){var o={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(a){return!0},compressionState:null,compressFunction:function(a){return!0},updateSequenceNumber:function(){o.sequenceNumber[1]===4294967295?(o.sequenceNumber[1]=0,++o.sequenceNumber[0]):++o.sequenceNumber[1]}};return o},"createMode"),n={read:r(),write:r()};if(n.read.update=function(o,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(o,a,n.read)||o.error(o,{message:"Could not decompress record.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.decompression_failure}}):o.error(o,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_record_mac}}),!o.fail},n.write.update=function(o,a){return n.write.compressFunction(o,a,n.write)?n.write.cipherFunction(a,n.write)||o.error(o,{message:"Could not encrypt record.",send:!1,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}):o.error(o,{message:"Could not compress record.",send:!1,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}),!o.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=$.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case $.CompressionMethod.none:break;case $.CompressionMethod.deflate:n.read.compressFunction=nfe,n.write.compressFunction=rfe;break;default:throw new Error("Unsupported compression algorithm.")}}return n};$.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=tt.util.createBuffer();return r.putInt32(t),r.putBytes(tt.random.getBytes(28)),r};$.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};$.createAlert=function(e,t){var r=tt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),$.createRecord(e,{type:$.ContentType.alert,data:r})};$.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=tt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),o=tt.util.createBuffer();o.putByte($.CompressionMethod.none);var a=o.length(),l=tt.util.createBuffer();if(e.virtualHost){var f=tt.util.createBuffer();f.putByte(0),f.putByte(0);var c=tt.util.createBuffer();c.putByte(0),_o(c,2,tt.util.createBuffer(e.virtualHost));var u=tt.util.createBuffer();_o(u,2,c),_o(f,2,u),l.putBuffer(f)}var d=l.length();d>0&&(d+=2);var g=e.session.id,p=g.length+1+2+4+28+2+i+1+a+d,y=tt.util.createBuffer();return y.putByte($.HandshakeType.client_hello),y.putInt24(p),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),_o(y,1,tt.util.createBuffer(g)),_o(y,2,t),_o(y,1,o),d>0&&_o(y,2,l),y};$.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=tt.util.createBuffer();return n.putByte($.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),_o(n,1,tt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};$.createCertificate=function(e){var t=e.entity===$.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=tt.util.createBuffer();if(r!==null)try{tt.util.isArray(r)||(r=[r]);for(var o=null,a=0;a<r.length;++a){var l=tt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw f.headerType=l.type,f}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=tt.util.createBuffer(l.body);o===null&&(o=tt.asn1.fromDer(c.bytes(),!1));var u=tt.util.createBuffer();_o(u,3,c),i.putBuffer(u)}r=tt.pki.certificateFromAsn1(o),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate}})}var d=3+i.length(),g=tt.util.createBuffer();return g.putByte($.HandshakeType.certificate),g.putInt24(d),_o(g,3,i),g};$.createClientKeyExchange=function(e){var t=tt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(tt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,o=tt.util.createBuffer();return o.putByte($.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(t.length),o.putBytes(t),o};$.createServerKeyExchange=function(e){var t=0,r=tt.util.createBuffer();return t>0&&(r.putByte($.HandshakeType.server_key_exchange),r.putInt24(t)),r};$.getClientSignature=function(e,t){var r=tt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,o){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=tt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.internal_error}}):i=a.sign(i,null),o(n,i)},e.getSignature(e,r,t)};$.createCertificateVerify=function(e,t){var r=t.length+2,n=tt.util.createBuffer();return n.putByte($.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};$.createCertificateRequest=function(e){var t=tt.util.createBuffer();t.putByte(1);var r=tt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],o=tt.pki.distinguishedNameToAsn1(i.subject),a=tt.asn1.toDer(o);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),f=tt.util.createBuffer();return f.putByte($.HandshakeType.certificate_request),f.putInt24(l),_o(f,1,t),_o(f,2,r),f};$.createServerHelloDone=function(e){var t=tt.util.createBuffer();return t.putByte($.HandshakeType.server_hello_done),t.putInt24(0),t};$.createChangeCipherSpec=function(){var e=tt.util.createBuffer();return e.putByte(1),e};$.createFinished=function(e){var t=tt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===$.ConnectionEnd.client,n=e.session.sp,i=12,o=Wy,a=r?"client finished":"server finished";t=o(n.master_secret,a,t.getBytes(),i);var l=tt.util.createBuffer();return l.putByte($.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};$.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=tt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),o=Math.max(16,i-r-3);return n.putBytes(tt.random.getBytes(o)),n};$.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===$.ContentType.handshake||t.type===$.ContentType.alert||t.type===$.ContentType.change_cipher_spec))){if(t.type===$.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=$.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>$.MaxFragment;)n.push($.createRecord(e,{type:t.type,data:tt.util.createBuffer(i.slice(0,$.MaxFragment))})),i=i.slice($.MaxFragment);i.length>0&&n.push($.createRecord(e,{type:t.type,data:tt.util.createBuffer(i)}))}for(var o=0;o<n.length&&!e.fail;++o){var a=n[o],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};$.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var RP=s(function(e){switch(e){case!0:return!0;case tt.pki.certificateError.bad_certificate:return $.Alert.Description.bad_certificate;case tt.pki.certificateError.unsupported_certificate:return $.Alert.Description.unsupported_certificate;case tt.pki.certificateError.certificate_revoked:return $.Alert.Description.certificate_revoked;case tt.pki.certificateError.certificate_expired:return $.Alert.Description.certificate_expired;case tt.pki.certificateError.certificate_unknown:return $.Alert.Description.certificate_unknown;case tt.pki.certificateError.unknown_ca:return $.Alert.Description.unknown_ca;default:return $.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),_fe=s(function(e){switch(e){case!0:return!0;case $.Alert.Description.bad_certificate:return tt.pki.certificateError.bad_certificate;case $.Alert.Description.unsupported_certificate:return tt.pki.certificateError.unsupported_certificate;case $.Alert.Description.certificate_revoked:return tt.pki.certificateError.certificate_revoked;case $.Alert.Description.certificate_expired:return tt.pki.certificateError.certificate_expired;case $.Alert.Description.certificate_unknown:return tt.pki.certificateError.certificate_unknown;case $.Alert.Description.unknown_ca:return tt.pki.certificateError.unknown_ca;default:return tt.pki.certificateError.bad_certificate}},"_alertDescToCertError");$.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(o,a,l){var f=RP(o),c=e.verify(e,o,a,l);if(c!==!0){if(typeof c=="object"&&!tt.util.isArray(c)){var u=new Error("The application rejected the certificate.");throw u.send=!0,u.alert={level:$.Alert.Level.fatal,description:$.Alert.Description.bad_certificate},c.message&&(u.message=c.message),c.alert&&(u.alert.description=c.alert),u}c!==o&&(c=_fe(c))}return c},tt.pki.verifyCertificateChain(e.caStore,t,r)}catch(o){var i=o;(typeof i!="object"||tt.util.isArray(i))&&(i={send:!0,alert:{level:$.Alert.Level.fatal,description:RP(o)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:$.Alert.Level.fatal,description:RP(i.error)}),e.error(e,i)}return!e.fail};$.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var o=null,a=null;if(i?a=tt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){o=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return o},r.setSession=function(i,o){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=tt.util.bytesToHex(i);r.order.push(a),r.cache[a]=o}}return r};$.createConnection=function(e){var t=null;e.caStore?tt.util.isArray(e.caStore)?t=tt.pki.createCaStore(e.caStore):t=e.caStore:t=tt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in $.CipherSuites)r.push($.CipherSuites[n])}var i=e.server?$.ConnectionEnd.server:$.ConnectionEnd.client,o=e.sessionCache?$.createSessionCache(e.sessionCache):null,a={version:{major:$.Version.major,minor:$.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(u,d,g,p){return d},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:tt.util.createBuffer(),tlsData:tt.util.createBuffer(),data:tt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(u,d){d.origin=d.origin||(u.entity===$.ConnectionEnd.client?"client":"server"),d.send&&($.queue(u,$.createAlert(u,d.alert)),$.flush(u));var g=d.fatal!==!1;g&&(u.fail=!0),e.error(u,d),g&&u.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(u){a.version={major:$.Version.major,minor:$.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===$.ConnectionEnd.client?ife:ufe,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(u||typeof u>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=$.createConnectionState(a)},a.reset();var l=s(function(u,d){var g=d.type-$.ContentType.change_cipher_spec,p=DP[u.entity][u.expect];g in p?p[g](u,d):$.handleUnexpected(u,d)},"_update"),f=s(function(u){var d=0,g=u.input,p=g.length();if(p<5)d=5-p;else{u.record={type:g.getByte(),version:{major:g.getByte(),minor:g.getByte()},length:g.getInt16(),fragment:tt.util.createBuffer(),ready:!1};var y=u.record.version.major===u.version.major;y&&u.session&&u.session.version&&(y=u.record.version.minor===u.version.minor),y||u.error(u,{message:"Incompatible TLS version.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.protocol_version}})}return d},"_readRecordHeader"),c=s(function(u){var d=0,g=u.input,p=g.length();if(p<u.record.length)d=u.record.length-p;else{u.record.fragment.putBytes(g.getBytes(u.record.length)),g.compact();var y=u.state.current.read;y.update(u,u.record)&&(u.fragmented!==null&&(u.fragmented.type===u.record.type?(u.fragmented.fragment.putBuffer(u.record.fragment),u.record=u.fragmented):u.error(u,{message:"Invalid fragmented record.",send:!0,alert:{level:$.Alert.Level.fatal,description:$.Alert.Description.unexpected_message}})),u.record.ready=!0)}return d},"_readRecord");return a.handshake=function(u){if(a.entity!==$.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,u=u||"";var d=null;u.length>0&&(a.sessionCache&&(d=a.sessionCache.getSession(u)),d===null&&(u="")),u.length===0&&a.sessionCache&&(d=a.sessionCache.getSession(),d!==null&&(u=d.id)),a.session={id:u,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:tt.md.md5.create(),sha1:tt.md.sha1.create()},d&&(a.version=d.version,a.session.sp=d.sp),a.session.sp.client_random=$.createRandom().getBytes(),a.open=!0,$.queue(a,$.createRecord(a,{type:$.ContentType.handshake,data:$.createClientHello(a)})),$.flush(a)}},a.process=function(u){var d=0;return u&&a.input.putBytes(u),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(d=f(a)),!a.fail&&a.record!==null&&!a.record.ready&&(d=c(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),d},a.prepare=function(u){return $.queue(a,$.createRecord(a,{type:$.ContentType.application_data,data:tt.util.createBuffer(u)})),$.flush(a)},a.prepareHeartbeatRequest=function(u,d){return u instanceof tt.util.ByteBuffer&&(u=u.bytes()),typeof d>"u"&&(d=u.length),a.expectedHeartbeatPayload=u,$.queue(a,$.createRecord(a,{type:$.ContentType.heartbeat,data:$.createHeartbeat($.HeartbeatMessageType.heartbeat_request,u,d)})),$.flush(a)},a.close=function(u){if(!a.fail&&a.sessionCache&&a.session){var d={id:a.session.id,version:a.session.version,sp:a.session.sp};d.sp.keys=null,a.sessionCache.setSession(d.id,d)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,$.queue(a,$.createAlert(a,{level:$.Alert.Level.warning,description:$.Alert.Description.close_notify})),$.flush(a)),a.closed(a)),a.reset(u)},a};Lz.exports=tt.tls=tt.tls||{};for(zy in $)typeof $[zy]!="function"&&(tt.tls[zy]=$[zy]);var zy;tt.tls.prf_tls1=Wy;tt.tls.hmac_sha1=tfe;tt.tls.createSessionCache=$.createSessionCache;tt.tls.createConnection=$.createConnection});var Fz=ae((yTe,Oz)=>{var e1=v0();Wc();LP();var bo=Oz.exports=e1.tls;bo.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=bo.BulkCipherAlgorithm.aes,e.cipher_type=bo.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=bo.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Bz};bo.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=bo.BulkCipherAlgorithm.aes,e.cipher_type=bo.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=bo.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Bz};function Bz(e,t,r){var n=t.entity===e1.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:e1.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:e1.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=Efe,e.write.cipherFunction=bfe,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=bo.hmac_sha1}s(Bz,"initConnectionState");function bfe(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===bo.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=e1.random.getBytesSync(16),t.cipherState.init=!0;var o=t.cipherState.cipher;return o.start({iv:i}),e.version.minor>=bo.Versions.TLS_1_1.minor&&o.output.putBytes(i),o.update(e.fragment),o.finish(Cfe)&&(e.fragment=o.output,e.length=e.fragment.length(),r=!0),r}s(bfe,"encrypt_aes_cbc_sha1");function Cfe(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}s(Cfe,"encrypt_aes_cbc_sha1_padding");function Tfe(e,t,r){var n=!0;if(r){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)n=n&&t.at(a)==o;n&&t.truncate(o+1)}return n}s(Tfe,"decrypt_aes_cbc_sha1_padding");function Efe(e,t){var r=!1,n;e.version.minor===bo.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(Tfe);var o=t.macLength,a=e1.random.getBytesSync(o),l=i.output.length();l>=o?(e.fragment=i.output.getBytes(l-o),a=i.output.getBytes(o)):e.fragment=i.output.getBytes(),e.fragment=e1.util.createBuffer(e.fragment),e.length=e.fragment.length();var f=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=Sfe(t.macKey,a,f)&&r,r}s(Efe,"decrypt_aes_cbc_sha1");function Sfe(e,t,r){var n=e1.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}s(Sfe,"compareMacs")});var FP=ae((xTe,jz)=>{var Er=v0();za();G0();var r6=jz.exports=Er.sha512=Er.sha512||{};Er.md.sha512=Er.md.algorithms.sha512=r6;var Uz=Er.sha384=Er.sha512.sha384=Er.sha512.sha384||{};Uz.create=function(){return r6.create("SHA-384")};Er.md.sha384=Er.md.algorithms.sha384=Uz;Er.sha512.sha256=Er.sha512.sha256||{create:function(){return r6.create("SHA-512/256")}};Er.md["sha512/256"]=Er.md.algorithms["sha512/256"]=Er.sha512.sha256;Er.sha512.sha224=Er.sha512.sha224||{create:function(){return r6.create("SHA-512/224")}};Er.md["sha512/224"]=Er.md.algorithms["sha512/224"]=Er.sha512.sha224;r6.create=function(e){if(qz||wfe(),typeof e>"u"&&(e="SHA-512"),!(e in Id))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Id[e],r=null,n=Er.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var f=l.messageLengthSize/4,c=0;c<f;++c)l.fullMessageLength.push(0);n=Er.util.createBuffer(),r=new Array(t.length);for(var c=0;c<t.length;++c)r[c]=t[c].slice(0);return l},l.start(),l.update=function(f,c){c==="utf8"&&(f=Er.util.encodeUtf8(f));var u=f.length;l.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var d=l.fullMessageLength.length-1;d>=0;--d)l.fullMessageLength[d]+=u[1],u[1]=u[0]+(l.fullMessageLength[d]/4294967296>>>0),l.fullMessageLength[d]=l.fullMessageLength[d]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),Mz(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var f=Er.util.createBuffer();f.putBytes(n.bytes());var c=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,u=c&l.blockLength-1;f.putBytes(BP.substr(0,l.blockLength-u));for(var d,g,p=l.fullMessageLength[0]*8,y=0;y<l.fullMessageLength.length-1;++y)d=l.fullMessageLength[y+1]*8,g=d/4294967296>>>0,p+=g,f.putInt32(p>>>0),p=d>>>0;f.putInt32(p);for(var _=new Array(r.length),y=0;y<r.length;++y)_[y]=r[y].slice(0);Mz(_,i,f);var S=Er.util.createBuffer(),T;e==="SHA-512"?T=_.length:e==="SHA-384"?T=_.length-2:T=_.length-4;for(var y=0;y<T;++y)S.putInt32(_[y][0]),(y!==T-1||e!=="SHA-512/224")&&S.putInt32(_[y][1]);return S},l};var BP=null,qz=!1,OP=null,Id=null;function wfe(){BP="\x80",BP+=Er.util.fillString("\0",128),OP=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Id={},Id["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Id["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Id["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Id["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],qz=!0}s(wfe,"_init");function Mz(e,t,r){for(var n,i,o,a,l,f,c,u,d,g,p,y,_,S,T,I,P,U,k,L,Q,te,Ce,De,pe,Ie,ie,Z,_e,Ae,be,ze,ce,ve,le,Ee=r.length();Ee>=128;){for(_e=0;_e<16;++_e)t[_e][0]=r.getInt32()>>>0,t[_e][1]=r.getInt32()>>>0;for(;_e<80;++_e)ze=t[_e-2],Ae=ze[0],be=ze[1],n=((Ae>>>19|be<<13)^(be>>>29|Ae<<3)^Ae>>>6)>>>0,i=((Ae<<13|be>>>19)^(be<<3|Ae>>>29)^(Ae<<26|be>>>6))>>>0,ve=t[_e-15],Ae=ve[0],be=ve[1],o=((Ae>>>1|be<<31)^(Ae>>>8|be<<24)^Ae>>>7)>>>0,a=((Ae<<31|be>>>1)^(Ae<<24|be>>>8)^(Ae<<25|be>>>7))>>>0,ce=t[_e-7],le=t[_e-16],be=i+ce[1]+a+le[1],t[_e][0]=n+ce[0]+o+le[0]+(be/4294967296>>>0)>>>0,t[_e][1]=be>>>0;for(_=e[0][0],S=e[0][1],T=e[1][0],I=e[1][1],P=e[2][0],U=e[2][1],k=e[3][0],L=e[3][1],Q=e[4][0],te=e[4][1],Ce=e[5][0],De=e[5][1],pe=e[6][0],Ie=e[6][1],ie=e[7][0],Z=e[7][1],_e=0;_e<80;++_e)c=((Q>>>14|te<<18)^(Q>>>18|te<<14)^(te>>>9|Q<<23))>>>0,u=((Q<<18|te>>>14)^(Q<<14|te>>>18)^(te<<23|Q>>>9))>>>0,d=(pe^Q&(Ce^pe))>>>0,g=(Ie^te&(De^Ie))>>>0,l=((_>>>28|S<<4)^(S>>>2|_<<30)^(S>>>7|_<<25))>>>0,f=((_<<4|S>>>28)^(S<<30|_>>>2)^(S<<25|_>>>7))>>>0,p=(_&T|P&(_^T))>>>0,y=(S&I|U&(S^I))>>>0,be=Z+u+g+OP[_e][1]+t[_e][1],n=ie+c+d+OP[_e][0]+t[_e][0]+(be/4294967296>>>0)>>>0,i=be>>>0,be=f+y,o=l+p+(be/4294967296>>>0)>>>0,a=be>>>0,ie=pe,Z=Ie,pe=Ce,Ie=De,Ce=Q,De=te,be=L+i,Q=k+n+(be/4294967296>>>0)>>>0,te=be>>>0,k=P,L=U,P=T,U=I,T=_,I=S,be=i+a,_=n+o+(be/4294967296>>>0)>>>0,S=be>>>0;be=e[0][1]+S,e[0][0]=e[0][0]+_+(be/4294967296>>>0)>>>0,e[0][1]=be>>>0,be=e[1][1]+I,e[1][0]=e[1][0]+T+(be/4294967296>>>0)>>>0,e[1][1]=be>>>0,be=e[2][1]+U,e[2][0]=e[2][0]+P+(be/4294967296>>>0)>>>0,e[2][1]=be>>>0,be=e[3][1]+L,e[3][0]=e[3][0]+k+(be/4294967296>>>0)>>>0,e[3][1]=be>>>0,be=e[4][1]+te,e[4][0]=e[4][0]+Q+(be/4294967296>>>0)>>>0,e[4][1]=be>>>0,be=e[5][1]+De,e[5][0]=e[5][0]+Ce+(be/4294967296>>>0)>>>0,e[5][1]=be>>>0,be=e[6][1]+Ie,e[6][0]=e[6][0]+pe+(be/4294967296>>>0)>>>0,e[6][1]=be>>>0,be=e[7][1]+Z,e[7][0]=e[7][0]+ie+(be/4294967296>>>0)>>>0,e[7][1]=be>>>0,Ee-=128}}s(Mz,"_update")});var $z=ae(MP=>{var Ife=v0();Zo();var On=Ife.asn1;MP.privateKeyValidator={name:"PrivateKeyInfo",tagClass:On.Class.UNIVERSAL,type:On.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:On.Class.UNIVERSAL,type:On.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:On.Class.UNIVERSAL,type:On.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:On.Class.UNIVERSAL,type:On.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:On.Class.UNIVERSAL,type:On.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};MP.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:On.Class.UNIVERSAL,type:On.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:On.Class.UNIVERSAL,type:On.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:On.Class.UNIVERSAL,type:On.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:On.Class.UNIVERSAL,type:On.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var tK=ae((CTe,eK)=>{var oi=v0();Q8();po();FP();G0();var Gz=$z(),Afe=Gz.publicKeyValidator,Pfe=Gz.privateKeyValidator;typeof Hz>"u"&&(Hz=oi.jsbn.BigInteger);var Hz,jP=oi.util.ByteBuffer,us=typeof Buffer>"u"?Uint8Array:Buffer;oi.pki=oi.pki||{};eK.exports=oi.pki.ed25519=oi.ed25519=oi.ed25519||{};var k0=oi.ed25519;k0.constants={};k0.constants.PUBLIC_KEY_BYTE_LENGTH=32;k0.constants.PRIVATE_KEY_BYTE_LENGTH=64;k0.constants.SEED_BYTE_LENGTH=32;k0.constants.SIGN_BYTE_LENGTH=64;k0.constants.HASH_BYTE_LENGTH=64;k0.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=oi.random.getBytesSync(k0.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==k0.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+k0.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=cf({message:t,encoding:"binary"});for(var r=new us(k0.constants.PUBLIC_KEY_BYTE_LENGTH),n=new us(k0.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return Dfe(r,n),{publicKey:r,privateKey:n}};k0.privateKeyFromAsn1=function(e){var t={},r=[],n=oi.asn1.validate(e,Pfe,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=oi.asn1.derToOid(t.privateKeyOid),a=oi.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.privateKey,f=cf({message:oi.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:f}};k0.publicKeyFromAsn1=function(e){var t={},r=[],n=oi.asn1.validate(e,Afe,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=oi.asn1.derToOid(t.publicKeyOid),a=oi.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==k0.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return cf({message:l,encoding:"binary"})};k0.publicKeyFromPrivateKey=function(e){e=e||{};var t=cf({message:e.privateKey,encoding:"binary"});if(t.length!==k0.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+k0.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new us(k0.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};k0.sign=function(e){e=e||{};var t=cf(e),r=cf({message:e.privateKey,encoding:"binary"});if(r.length===k0.constants.SEED_BYTE_LENGTH){var n=k0.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==k0.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+k0.constants.SEED_BYTE_LENGTH+" or "+k0.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new us(k0.constants.SIGN_BYTE_LENGTH+t.length);Lfe(i,t,t.length,r);for(var o=new us(k0.constants.SIGN_BYTE_LENGTH),a=0;a<o.length;++a)o[a]=i[a];return o};k0.verify=function(e){e=e||{};var t=cf(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=cf({message:e.signature,encoding:"binary"});if(r.length!==k0.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+k0.constants.SIGN_BYTE_LENGTH);var n=cf({message:e.publicKey,encoding:"binary"});if(n.length!==k0.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+k0.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new us(k0.constants.SIGN_BYTE_LENGTH+t.length),o=new us(k0.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<k0.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+k0.constants.SIGN_BYTE_LENGTH]=t[a];return Bfe(o,i,i.length,n)>=0};function cf(e){var t=e.message;if(t instanceof Uint8Array||t instanceof us)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new jP(t,r)}else if(!(t instanceof jP))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new us(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}s(cf,"messageToNativeBuffer");var $P=Yt(),Gy=Yt([1]),Rfe=Yt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),kfe=Yt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Vz=Yt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),zz=Yt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),UP=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Nfe=Yt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n6(e,t){var r=oi.md.sha512.create(),n=new jP(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var o=new us(k0.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)o[a]=i.charCodeAt(a);return o}s(n6,"sha512");function Dfe(e,t){var r=[Yt(),Yt(),Yt(),Yt()],n,i=n6(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,KP(r,i),zP(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}s(Dfe,"crypto_sign_keypair");function Lfe(e,t,r,n){var i,o,a=new Float64Array(64),l=[Yt(),Yt(),Yt(),Yt()],f=n6(n,32);f[0]&=248,f[31]&=127,f[31]|=64;var c=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=f[32+i];var u=n6(e.subarray(32),r+32);for(HP(u),KP(l,u),zP(e,l),i=32;i<64;++i)e[i]=n[i];var d=n6(e,r+64);for(HP(d),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=u[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=d[i]*f[o];return Yz(e.subarray(32),a),c}s(Lfe,"crypto_sign");function Bfe(e,t,r,n){var i,o,a=new us(32),l=[Yt(),Yt(),Yt(),Yt()],f=[Yt(),Yt(),Yt(),Yt()];if(o=-1,r<64||Ofe(f,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var c=n6(e,r);if(HP(c),Qz(l,f,c),KP(f,t.subarray(32)),VP(l,f),zP(a,l),r-=64,Jz(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return o=r,o}s(Bfe,"crypto_sign_open");function Yz(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*UP[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*UP[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*UP[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}s(Yz,"modL");function HP(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;Yz(e,t)}s(HP,"reduce");function VP(e,t){var r=Yt(),n=Yt(),i=Yt(),o=Yt(),a=Yt(),l=Yt(),f=Yt(),c=Yt(),u=Yt();E2(r,e[1],e[0]),E2(u,t[1],t[0]),gr(r,r,u),T2(n,e[0],e[1]),T2(u,t[0],t[1]),gr(n,n,u),gr(i,e[3],t[3]),gr(i,i,kfe),gr(o,e[2],t[2]),T2(o,o,o),E2(a,n,r),E2(l,o,i),T2(f,o,i),T2(c,n,r),gr(e[0],a,l),gr(e[1],c,f),gr(e[2],f,l),gr(e[3],a,c)}s(VP,"add");function Kz(e,t,r){for(var n=0;n<4;++n)Zz(e[n],t[n],r)}s(Kz,"cswap");function zP(e,t){var r=Yt(),n=Yt(),i=Yt();qfe(i,t[2]),gr(r,t[0],i),gr(n,t[1],i),Yy(e,n),e[31]^=Xz(r)<<7}s(zP,"pack");function Yy(e,t){var r,n,i,o=Yt(),a=Yt();for(r=0;r<16;++r)a[r]=t[r];for(qP(a),qP(a),qP(a),n=0;n<2;++n){for(o[0]=a[0]-65517,r=1;r<15;++r)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,Zz(a,o,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}s(Yy,"pack25519");function Ofe(e,t){var r=Yt(),n=Yt(),i=Yt(),o=Yt(),a=Yt(),l=Yt(),f=Yt();return t1(e[2],Gy),Ffe(e[1],t),Ad(i,e[1]),gr(o,i,Rfe),E2(i,i,e[2]),T2(o,e[2],o),Ad(a,o),Ad(l,a),gr(f,l,a),gr(r,f,i),gr(r,r,o),Mfe(r,r),gr(r,r,i),gr(r,r,o),gr(r,r,o),gr(e[0],r,o),Ad(n,e[0]),gr(n,n,o),Wz(n,i)&&gr(e[0],e[0],Nfe),Ad(n,e[0]),gr(n,n,o),Wz(n,i)?-1:(Xz(e[0])===t[31]>>7&&E2(e[0],$P,e[0]),gr(e[3],e[0],e[1]),0)}s(Ofe,"unpackneg");function Ffe(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}s(Ffe,"unpack25519");function Mfe(e,t){var r=Yt(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Ad(r,r),n!==1&&gr(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(Mfe,"pow2523");function Wz(e,t){var r=new us(32),n=new us(32);return Yy(r,e),Yy(n,t),Jz(r,0,n,0)}s(Wz,"neq25519");function Jz(e,t,r,n){return Ufe(e,t,r,n,32)}s(Jz,"crypto_verify_32");function Ufe(e,t,r,n,i){var o,a=0;for(o=0;o<i;++o)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}s(Ufe,"vn");function Xz(e){var t=new us(32);return Yy(t,e),t[0]&1}s(Xz,"par25519");function Qz(e,t,r){var n,i;for(t1(e[0],$P),t1(e[1],Gy),t1(e[2],Gy),t1(e[3],$P),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,Kz(e,t,n),VP(t,e),VP(e,e),Kz(e,t,n)}s(Qz,"scalarmult");function KP(e,t){var r=[Yt(),Yt(),Yt(),Yt()];t1(r[0],Vz),t1(r[1],zz),t1(r[2],Gy),gr(r[3],Vz,zz),Qz(e,r,t)}s(KP,"scalarbase");function t1(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}s(t1,"set25519");function qfe(e,t){var r=Yt(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Ad(r,r),n!==2&&n!==4&&gr(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(qfe,"inv25519");function qP(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}s(qP,"car25519");function Zz(e,t,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}s(Zz,"sel25519");function Yt(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}s(Yt,"gf");function T2(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}s(T2,"A");function E2(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}s(E2,"Z");function Ad(e,t){gr(e,t,t)}s(Ad,"S");function gr(e,t,r){var n,i,o=0,a=0,l=0,f=0,c=0,u=0,d=0,g=0,p=0,y=0,_=0,S=0,T=0,I=0,P=0,U=0,k=0,L=0,Q=0,te=0,Ce=0,De=0,pe=0,Ie=0,ie=0,Z=0,_e=0,Ae=0,be=0,ze=0,ce=0,ve=r[0],le=r[1],Ee=r[2],mt=r[3],Et=r[4],dt=r[5],Ve=r[6],n0=r[7],W=r[8],Xe=r[9],he=r[10],Je=r[11],He=r[12],nt=r[13],wt=r[14],Mt=r[15];n=t[0],o+=n*ve,a+=n*le,l+=n*Ee,f+=n*mt,c+=n*Et,u+=n*dt,d+=n*Ve,g+=n*n0,p+=n*W,y+=n*Xe,_+=n*he,S+=n*Je,T+=n*He,I+=n*nt,P+=n*wt,U+=n*Mt,n=t[1],a+=n*ve,l+=n*le,f+=n*Ee,c+=n*mt,u+=n*Et,d+=n*dt,g+=n*Ve,p+=n*n0,y+=n*W,_+=n*Xe,S+=n*he,T+=n*Je,I+=n*He,P+=n*nt,U+=n*wt,k+=n*Mt,n=t[2],l+=n*ve,f+=n*le,c+=n*Ee,u+=n*mt,d+=n*Et,g+=n*dt,p+=n*Ve,y+=n*n0,_+=n*W,S+=n*Xe,T+=n*he,I+=n*Je,P+=n*He,U+=n*nt,k+=n*wt,L+=n*Mt,n=t[3],f+=n*ve,c+=n*le,u+=n*Ee,d+=n*mt,g+=n*Et,p+=n*dt,y+=n*Ve,_+=n*n0,S+=n*W,T+=n*Xe,I+=n*he,P+=n*Je,U+=n*He,k+=n*nt,L+=n*wt,Q+=n*Mt,n=t[4],c+=n*ve,u+=n*le,d+=n*Ee,g+=n*mt,p+=n*Et,y+=n*dt,_+=n*Ve,S+=n*n0,T+=n*W,I+=n*Xe,P+=n*he,U+=n*Je,k+=n*He,L+=n*nt,Q+=n*wt,te+=n*Mt,n=t[5],u+=n*ve,d+=n*le,g+=n*Ee,p+=n*mt,y+=n*Et,_+=n*dt,S+=n*Ve,T+=n*n0,I+=n*W,P+=n*Xe,U+=n*he,k+=n*Je,L+=n*He,Q+=n*nt,te+=n*wt,Ce+=n*Mt,n=t[6],d+=n*ve,g+=n*le,p+=n*Ee,y+=n*mt,_+=n*Et,S+=n*dt,T+=n*Ve,I+=n*n0,P+=n*W,U+=n*Xe,k+=n*he,L+=n*Je,Q+=n*He,te+=n*nt,Ce+=n*wt,De+=n*Mt,n=t[7],g+=n*ve,p+=n*le,y+=n*Ee,_+=n*mt,S+=n*Et,T+=n*dt,I+=n*Ve,P+=n*n0,U+=n*W,k+=n*Xe,L+=n*he,Q+=n*Je,te+=n*He,Ce+=n*nt,De+=n*wt,pe+=n*Mt,n=t[8],p+=n*ve,y+=n*le,_+=n*Ee,S+=n*mt,T+=n*Et,I+=n*dt,P+=n*Ve,U+=n*n0,k+=n*W,L+=n*Xe,Q+=n*he,te+=n*Je,Ce+=n*He,De+=n*nt,pe+=n*wt,Ie+=n*Mt,n=t[9],y+=n*ve,_+=n*le,S+=n*Ee,T+=n*mt,I+=n*Et,P+=n*dt,U+=n*Ve,k+=n*n0,L+=n*W,Q+=n*Xe,te+=n*he,Ce+=n*Je,De+=n*He,pe+=n*nt,Ie+=n*wt,ie+=n*Mt,n=t[10],_+=n*ve,S+=n*le,T+=n*Ee,I+=n*mt,P+=n*Et,U+=n*dt,k+=n*Ve,L+=n*n0,Q+=n*W,te+=n*Xe,Ce+=n*he,De+=n*Je,pe+=n*He,Ie+=n*nt,ie+=n*wt,Z+=n*Mt,n=t[11],S+=n*ve,T+=n*le,I+=n*Ee,P+=n*mt,U+=n*Et,k+=n*dt,L+=n*Ve,Q+=n*n0,te+=n*W,Ce+=n*Xe,De+=n*he,pe+=n*Je,Ie+=n*He,ie+=n*nt,Z+=n*wt,_e+=n*Mt,n=t[12],T+=n*ve,I+=n*le,P+=n*Ee,U+=n*mt,k+=n*Et,L+=n*dt,Q+=n*Ve,te+=n*n0,Ce+=n*W,De+=n*Xe,pe+=n*he,Ie+=n*Je,ie+=n*He,Z+=n*nt,_e+=n*wt,Ae+=n*Mt,n=t[13],I+=n*ve,P+=n*le,U+=n*Ee,k+=n*mt,L+=n*Et,Q+=n*dt,te+=n*Ve,Ce+=n*n0,De+=n*W,pe+=n*Xe,Ie+=n*he,ie+=n*Je,Z+=n*He,_e+=n*nt,Ae+=n*wt,be+=n*Mt,n=t[14],P+=n*ve,U+=n*le,k+=n*Ee,L+=n*mt,Q+=n*Et,te+=n*dt,Ce+=n*Ve,De+=n*n0,pe+=n*W,Ie+=n*Xe,ie+=n*he,Z+=n*Je,_e+=n*He,Ae+=n*nt,be+=n*wt,ze+=n*Mt,n=t[15],U+=n*ve,k+=n*le,L+=n*Ee,Q+=n*mt,te+=n*Et,Ce+=n*dt,De+=n*Ve,pe+=n*n0,Ie+=n*W,ie+=n*Xe,Z+=n*he,_e+=n*Je,Ae+=n*He,be+=n*nt,ze+=n*wt,ce+=n*Mt,o+=38*k,a+=38*L,l+=38*Q,f+=38*te,c+=38*Ce,u+=38*De,d+=38*pe,g+=38*Ie,p+=38*ie,y+=38*Z,_+=38*_e,S+=38*Ae,T+=38*be,I+=38*ze,P+=38*ce,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=I+i+65535,i=Math.floor(n/65536),I=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=l,e[3]=f,e[4]=c,e[5]=u,e[6]=d,e[7]=g,e[8]=p,e[9]=y,e[10]=_,e[11]=S,e[12]=T,e[13]=I,e[14]=P,e[15]=U}s(gr,"M")});var sK=ae((ETe,iK)=>{var Fs=v0();G0();po();Q8();iK.exports=Fs.kem=Fs.kem||{};var rK=Fs.jsbn.BigInteger;Fs.kem.rsa={};Fs.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||Fs.random,n={};return n.encrypt=function(i,o){var a=Math.ceil(i.n.bitLength()/8),l;do l=new rK(Fs.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(rK.ONE)<=0);l=Fs.util.hexToBytes(l.toString(16));var f=a-l.length;f>0&&(l=Fs.util.fillString("\0",f)+l);var c=i.encrypt(l,"NONE"),u=e.generate(l,o);return{encapsulation:c,key:u}},n.decrypt=function(i,o,a){var l=i.decrypt(o,"NONE");return e.generate(l,a)},n};Fs.kem.kdf1=function(e,t){nK(this,e,0,t||e.digestLength)};Fs.kem.kdf2=function(e,t){nK(this,e,1,t||e.digestLength)};function nK(e,t,r,n){e.generate=function(i,o){for(var a=new Fs.util.ByteBuffer,l=Math.ceil(o/n)+r,f=new Fs.util.ByteBuffer,c=r;c<l;++c){f.putInt32(c),t.start(),t.update(i+f.getBytes());var u=t.digest();a.putBytes(u.getBytes(n))}return a.truncate(a.length()-o),a.getBytes()}}s(nK,"_createKDF")});var fK=ae((wTe,lK)=>{var O0=v0();G0();lK.exports=O0.log=O0.log||{};O0.log.levels=["none","error","warning","info","debug","verbose","max"];var Jy={},YP=[],s6=null;O0.log.LEVEL_LOCKED=2;O0.log.NO_LEVEL_CHECK=4;O0.log.INTERPOLATE=8;for(Za=0;Za<O0.log.levels.length;++Za)WP=O0.log.levels[Za],Jy[WP]={index:Za,name:WP.toUpperCase()};var WP,Za;O0.log.logMessage=function(e){for(var t=Jy[e.level].index,r=0;r<YP.length;++r){var n=YP[r];if(n.flags&O0.log.NO_LEVEL_CHECK)n.f(e);else{var i=Jy[n.level].index;t<=i&&n.f(n,e)}}};O0.log.prepareStandard=function(e){"standard"in e||(e.standard=Jy[e.level].name+" ["+e.category+"] "+e.message)};O0.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=O0.util.format.apply(this,t)}};O0.log.prepareStandardFull=function(e){"standardFull"in e||(O0.log.prepareStandard(e),e.standardFull=e.standard)};for(GP=["error","warning","info","debug","verbose"],Za=0;Za<GP.length;++Za)(function(t){O0.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:r,message:n,arguments:i};O0.log.logMessage(o)}})(GP[Za]);var GP,Za;O0.log.makeLogger=function(e){var t={flags:0,f:e};return O0.log.setLevel(t,"none"),t};O0.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&O0.log.LEVEL_LOCKED))for(var n=0;n<O0.log.levels.length;++n){var i=O0.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};O0.log.lock=function(e,t){typeof t>"u"||t?e.flags|=O0.log.LEVEL_LOCKED:e.flags&=~O0.log.LEVEL_LOCKED};O0.log.addLogger=function(e){YP.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(oK={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},o6=s(function(e,t){O0.log.prepareStandard(t);var r=oK[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),S2=O0.log.makeLogger(o6)):(o6=s(function(t,r){O0.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),S2=O0.log.makeLogger(o6)),O0.log.setLevel(S2,"debug"),O0.log.addLogger(S2),s6=S2):console={log:function(){}};var S2,oK,o6;s6!==null&&typeof window<"u"&&window.location&&(i6=new URL(window.location.href).searchParams,i6.has("console.level")&&O0.log.setLevel(s6,i6.get("console.level").slice(-1)[0]),i6.has("console.lock")&&(aK=i6.get("console.lock").slice(-1)[0],aK=="true"&&O0.log.lock(s6)));var i6,aK;O0.log.consoleLogger=s6});var uK=ae((ATe,cK)=>{cK.exports=za();Py();v2();lP();FP()});var mK=ae((PTe,hK)=>{var ut=v0();Wc();Zo();J8();Gc();bd();CP();po();G0();Hy();var de=ut.asn1,qi=hK.exports=ut.pkcs7=ut.pkcs7||{};qi.messageFromPem=function(e){var t=ut.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=de.fromDer(t.body);return qi.messageFromAsn1(n)};qi.messageToPem=function(e,t){var r={type:"PKCS7",body:de.toDer(e.toAsn1()).getBytes()};return ut.pem.encode(r,{maxline:t})};qi.messageFromAsn1=function(e){var t={},r=[];if(!de.validate(e,qi.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=de.derToOid(t.contentType),o;switch(i){case ut.pki.oids.envelopedData:o=qi.createEnvelopedData();break;case ut.pki.oids.encryptedData:o=qi.createEncryptedData();break;case ut.pki.oids.signedData:o=qi.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o};qi.createSignedData=function(){var e=null;return e={type:ut.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(XP(e,n,qi.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,o=0;o<i.length;++o)e.certificates.push(ut.pki.certificateFromAsn1(i[o]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(ut.pki.certificateToAsn1(e.certificates[i]));var o=[],a=de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(de.create(de.Class.CONTEXT_SPECIFIC,0,!0,n)),o.length>0&&a.value[0].value.push(de.create(de.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(de.create(de.Class.UNIVERSAL,de.Type.SET,!0,e.signerInfos)),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),a])},addSigner:function(n){var i=n.issuer,o=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=ut.pki.certificateFromPem(a)),i=a.issuer.attributes,o=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=ut.pki.privateKeyFromPem(l));var f=n.digestAlgorithm||ut.pki.oids.sha1;switch(f){case ut.pki.oids.sha1:case ut.pki.oids.sha256:case ut.pki.oids.sha384:case ut.pki.oids.sha512:case ut.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+f)}var c=n.authenticatedAttributes||[];if(c.length>0){for(var u=!1,d=!1,g=0;g<c.length;++g){var p=c[g];if(!u&&p.type===ut.pki.oids.contentType){if(u=!0,d)break;continue}if(!d&&p.type===ut.pki.oids.messageDigest){if(d=!0,u)break;continue}}if(!u||!d)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:o,digestAlgorithm:f,signatureAlgorithm:ut.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(ut.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof ut.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=ut.util.encodeUtf8(e.content)),n.detached?e.detachedContent=de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var o=t();r(o)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=ut.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var o=e.signers[i],a=o.digestAlgorithm;a in n||(n[a]=ut.md[ut.pki.oids[a]].create()),o.authenticatedAttributes.length===0?o.md=n[a]:o.md=ut.md[ut.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(a).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]));return n}s(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=de.derToOid(e.contentInfo.value[0].value),a=de.toDer(i);a.getByte(),de.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var f=new Date,c=0;c<e.signers.length;++c){var u=e.signers[c];if(u.authenticatedAttributes.length===0){if(o!==ut.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{u.authenticatedAttributesAsn1=de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=de.create(de.Class.UNIVERSAL,de.Type.SET,!0,[]),g=0;g<u.authenticatedAttributes.length;++g){var p=u.authenticatedAttributes[g];p.type===ut.pki.oids.messageDigest?p.value=n[u.digestAlgorithm].digest():p.type===ut.pki.oids.signingTime&&(p.value||(p.value=f)),d.value.push(JP(p)),u.authenticatedAttributesAsn1.value.push(JP(p))}a=de.toDer(d).getBytes(),u.md.start().update(a)}u.signature=u.key.sign(u.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=Kfe(e.signers)}s(r,"addSignerInfos")};qi.createEncryptedData=function(){var e=null;return e={type:ut.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:ut.pki.oids["aes256-CBC"]},fromAsn1:function(t){XP(e,t,qi.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),dK(e)}},e};qi.createEnvelopedData=function(){var e=null;return e={type:ut.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:ut.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=XP(e,t,qi.asn1.envelopedDataValidator);e.recipients=Hfe(r.recipientInfos.value)},toAsn1:function(){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,Vfe(e.recipients)),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,Wfe(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(o[l].type!==r[l].type||o[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case ut.pki.oids.rsaEncryption:case ut.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=ut.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}dK(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:ut.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,o;switch(r){case ut.pki.oids["aes128-CBC"]:n=16,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["aes192-CBC"]:n=24,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["aes256-CBC"]:n=32,i=16,o=ut.aes.createEncryptionCipher;break;case ut.pki.oids["des-EDE3-CBC"]:n=24,i=8,o=ut.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=ut.util.createBuffer(ut.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=ut.util.createBuffer(ut.random.getBytes(i));var a=o(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var f=e.recipients[l];if(f.encryptedContent.content===void 0)switch(f.encryptedContent.algorithm){case ut.pki.oids.rsaEncryption:f.encryptedContent.content=f.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+f.encryptedContent.algorithm)}}}},e};function jfe(e){var t={},r=[];if(!de.validate(e,qi.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:ut.pki.RDNAttributesAsArray(t.issuer),serialNumber:ut.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:de.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}s(jfe,"_recipientFromAsn1");function $fe(e){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[ut.pki.distinguishedNameToAsn1({attributes:e.issuer}),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,ut.util.hexToBytes(e.serialNumber))]),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.encryptedContent.algorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]),de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.encryptedContent.content)])}s($fe,"_recipientToAsn1");function Hfe(e){for(var t=[],r=0;r<e.length;++r)t.push(jfe(e[r]));return t}s(Hfe,"_recipientsFromAsn1");function Vfe(e){for(var t=[],r=0;r<e.length;++r)t.push($fe(e[r]));return t}s(Vfe,"_recipientsToAsn1");function zfe(e){var t=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(e.version).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[ut.pki.distinguishedNameToAsn1({attributes:e.issuer}),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,ut.util.hexToBytes(e.serialNumber))]),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.digestAlgorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.signatureAlgorithm).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")])),t.value.push(de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=de.create(de.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(JP(i))}t.value.push(r)}return t}s(zfe,"_signerToAsn1");function Kfe(e){for(var t=[],r=0;r<e.length;++r)t.push(zfe(e[r]));return t}s(Kfe,"_signersToAsn1");function JP(e){var t;if(e.type===ut.pki.oids.contentType)t=de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.value).getBytes());else if(e.type===ut.pki.oids.messageDigest)t=de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===ut.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var o=Date.parse(i);isNaN(o)?i.length===13?i=de.utcTimeToDate(i):i=de.generalizedTimeToDate(i):i=new Date(o)}i>=r&&i<n?t=de.create(de.Class.UNIVERSAL,de.Type.UTCTIME,!1,de.dateToUtcTime(i)):t=de.create(de.Class.UNIVERSAL,de.Type.GENERALIZEDTIME,!1,de.dateToGeneralizedTime(i))}return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.type).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SET,!0,[t])])}s(JP,"_attributeToAsn1");function Wfe(e){return[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(ut.pki.oids.data).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(e.algorithm).getBytes()),e.parameter?de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),de.create(de.Class.CONTEXT_SPECIFIC,0,!0,[de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,e.content.getBytes())])]}s(Wfe,"_encryptedContentToAsn1");function XP(e,t,r){var n={},i=[];if(!de.validate(t,r,n,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}var a=de.derToOid(n.contentType);if(a!==ut.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(ut.util.isArray(n.encryptedContent))for(var f=0;f<n.encryptedContent.length;++f){if(n.encryptedContent[f].type!==de.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[f].value}else l=n.encryptedContent;e.encryptedContent={algorithm:de.derToOid(n.encAlgorithm),parameter:ut.util.createBuffer(n.encParameter.value),content:ut.util.createBuffer(l)}}if(n.content){var l="";if(ut.util.isArray(n.content))for(var f=0;f<n.content.length;++f){if(n.content[f].type!==de.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[f].value}else l=n.content;e.content=ut.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}s(XP,"_fromAsn1");function dK(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case ut.pki.oids["aes128-CBC"]:case ut.pki.oids["aes192-CBC"]:case ut.pki.oids["aes256-CBC"]:t=ut.aes.createDecryptionCipher(e.encryptedContent.key);break;case ut.pki.oids.desCBC:case ut.pki.oids["des-EDE3-CBC"]:t=ut.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s(dK,"_decryptContent")});var pK=ae((kTe,gK)=>{var dn=v0();Wc();m2();Py();v2();G0();var Qy=gK.exports=dn.ssh=dn.ssh||{};Qy.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",o="PuTTY-User-Key-File-2: "+n+`\r
`;o+="Encryption: "+i+`\r
`,o+="Comment: "+r+`\r
`;var a=dn.util.createBuffer();w2(a,n),el(a,e.e),el(a,e.n);var l=dn.util.encode64(a.bytes(),64),f=Math.floor(l.length/66)+1;o+="Public-Lines: "+f+`\r
`,o+=l;var c=dn.util.createBuffer();el(c,e.d),el(c,e.p),el(c,e.q),el(c,e.qInv);var u;if(!t)u=dn.util.encode64(c.bytes(),64);else{var d=c.length()+16-1;d-=d%16;var g=Xy(c.bytes());g.truncate(g.length()-d+c.length()),c.putBuffer(g);var p=dn.util.createBuffer();p.putBuffer(Xy("\0\0\0\0",t)),p.putBuffer(Xy("\0\0\0",t));var y=dn.aes.createEncryptionCipher(p.truncate(8),"CBC");y.start(dn.util.createBuffer().fillWithByte(0,16)),y.update(c.copy()),y.finish();var _=y.output;_.truncate(16),u=dn.util.encode64(_.bytes(),64)}f=Math.floor(u.length/66)+1,o+=`\r
Private-Lines: `+f+`\r
`,o+=u;var S=Xy("putty-private-key-file-mac-key",t),T=dn.util.createBuffer();w2(T,n),w2(T,i),w2(T,r),T.putInt32(a.length()),T.putBuffer(a),T.putInt32(c.length()),T.putBuffer(c);var I=dn.hmac.create();return I.start("sha1",S),I.update(T.bytes()),o+=`\r
Private-MAC: `+I.digest().toHex()+`\r
`,o};Qy.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=dn.util.createBuffer();return w2(n,r),el(n,e.e),el(n,e.n),r+" "+dn.util.encode64(n.bytes())+" "+t};Qy.privateKeyToOpenSSH=function(e,t){return t?dn.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):dn.pki.privateKeyToPem(e)};Qy.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||dn.md.md5.create(),n="ssh-rsa",i=dn.util.createBuffer();w2(i,n),el(i,e.e),el(i,e.n),r.start(),r.update(i.getBytes());var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};function el(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=dn.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}s(el,"_addBigIntegerToBuffer");function w2(e,t){e.putInt32(t.length),e.putString(t)}s(w2,"_addStringToBuffer");function Xy(){for(var e=dn.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}s(Xy,"_sha1")});var vK=ae((DTe,yK)=>{yK.exports=v0();Wc();Fz();Zo();Cy();J8();tK();m2();sK();fK();uK();TP();Dy();bd();yP();wP();mK();AP();xP();fP();qy();po();dP();pK();LP();G0()});var xK=ae((LTe,Gfe)=>{Gfe.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var CK=ae((BTe,QP)=>{var ev=vK(),_K=xK(),Zy=QP.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function bK(e){let t=ev.pki.pemToDer(e),r=ev.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],o=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(o);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}s(bK,"myASN");function Yfe(e){let t=bK(e),r=new Date,n=t.subject.value.map(a=>a.value[0].value[1].value).join("/"),i=t.valid.value.map(a=>a.value).join(" - "),o=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${i}`,`Saved	${r.toLocaleDateString()} ${o} by ${_K.name}@${_K.version}`,String(e)].join(`
`)}s(Yfe,"txtFormat");QP.exports.transform=function(e){return function(t){try{switch(e){case Zy.der:return ev.pki.pemToDer(t);case Zy.pem:return t;case Zy.txt:return Yfe(t);case Zy.asn1:return bK(t);default:return ev.pki.certificateFromPem(t)}}catch{return}}}});var TK=ae((FTe,I2)=>{var ZP=require("https"),eR=CK();if(process.platform!=="darwin")I2.exports.all=()=>[],I2.exports.each=()=>{};else{let l=function(c,u,d){return d.indexOf(c)===u};Jfe=l,s(l,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],i=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),o=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);ZP.globalAgent.options.ca=ZP.globalAgent.options.ca||[];let a=ZP.globalAgent.options.ca,f=i.concat(o);f.filter(l).forEach(c=>a.push(c)),I2.exports.der2=eR.validFormats,I2.exports.all=function(c){return f.map(eR.transform(c)).filter(u=>u)},I2.exports.each=function(c,u){return typeof c=="function"&&(u=c,c=void 0),f.map(eR.transform(c)).filter(d=>d).forEach(u)}}var Jfe});var EK=ae((UTe,tR)=>{function Xfe(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],o=new n.Crypt32;try{let a;for(;a=o.next();){let l=new e(a);i.push(l.toString())}}finally{o.done()}return Array.from(new Set(i))}s(Xfe,"all");process.platform!=="win32"?tR.exports.all=()=>[]:tR.exports.all=Xfe});var RK=ae((VTe,PK)=>{var rv=require("path").sep||"/";PK.exports=Zfe;function Zfe(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),i=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=rv+rv+n),i=i.replace(/^(.+)\|/,"$1:"),rv=="\\"&&(i=i.replace(/\//g,"\\")),/^.+\:/.test(i)||(i=rv+i),n+i}s(Zfe,"fileUriToPath")});var BK=ae((sv,LK)=>{var xR=require("fs"),iv=require("path"),ece=RK(),nv=iv.join,DK=iv.dirname,kK=xR.accessSync&&function(e){try{xR.accessSync(e)}catch{return!1}return!0}||xR.existsSync||iv.existsSync,NK={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function tce(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(NK).map(function(f){f in e||(e[f]=NK[f])}),e.module_root||(e.module_root=DK(__filename)),iv.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,o,a,l;n<i;n++){o=nv.apply(null,e.try[n].map(function(f){return e[f]||f})),r.push(o);try{return a=e.path?t.resolve(o):t(o),e.path||(a.path=o),a}catch(f){if(f.code!=="MODULE_NOT_FOUND"&&f.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(f.message))throw f}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(f){return e.arrow+f}).join(`
`)),l.tries=r,l}s(tce,"bindings");LK.exports=sv=tce;sv.getFileName=s(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,i={},o;Error.stackTraceLimit=10,Error.prepareStackTrace=function(l,f){for(var c=0,u=f.length;c<u;c++)if(o=f[c].getFileName(),o!==__filename)if(t){if(o!==t)return}else return},Error.captureStackTrace(i),new Error(i.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var a="file://";return o.indexOf(a)===0&&(o=ece(o)),o},"getFileName");sv.getRoot=s(function(t){for(var r=DK(t),n;;){if(r==="."&&(r=process.cwd()),kK(nv(r,"package.json"))||kK(nv(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=nv(r,"..")}},"getRoot")});var MK=ae((WTe,FK)=>{"use strict";function OK(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(o=>o.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}s(OK,"validateParameter");function rce(e,t){return Object.prototype.hasOwnProperty.call(e,t)}s(rce,"hasOwnProperty");function nce(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let o=0,a=0;o<t.length;++o,++a){let l=t[o],f=r[a];rce(l,"default")&&f==null&&(f=l.default),l.type==="object"&&l.default!=null&&(f=Object.assign({},l.default,f)),l.name==="options"&&(typeof f=="function"||f==null)&&(f={}),OK(f,t,o)?n.push(f):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((o,a)=>{n.push((l,f)=>{if(l)return a(l);o(f)}),e.apply(this,n)});e.apply(this,n)}}s(nce,"defineOperation");FK.exports={defineOperation:nce,validateParameter:OK}});var _R=ae((YTe,jK)=>{"use strict";var P2=BK()("kerberos"),A2=P2.KerberosClient,UK=P2.KerberosServer,r1=MK().defineOperation,ice=1,sce=2,oce=4,ace=8,lce=16,fce=32,cce=64,uce=128,dce=256,qK=0,hce=9,mce=6;A2.prototype.step=r1(A2.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);A2.prototype.wrap=r1(A2.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);A2.prototype.unwrap=r1(A2.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);UK.prototype.step=r1(UK.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var gce=r1(P2.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),pce=r1(P2.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),yce=r1(P2.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:qK}},{name:"callback",type:"function",required:!1}]),vce=r1(P2.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);jK.exports={initializeClient:yce,initializeServer:vce,principalDetails:pce,checkPassword:gce,GSS_C_DELEG_FLAG:ice,GSS_C_MUTUAL_FLAG:sce,GSS_C_REPLAY_FLAG:oce,GSS_C_SEQUENCE_FLAG:ace,GSS_C_CONF_FLAG:lce,GSS_C_INTEG_FLAG:fce,GSS_C_ANON_FLAG:cce,GSS_C_PROT_READY_FLAG:uce,GSS_C_TRANS_FLAG:dce,GSS_C_NO_OID:qK,GSS_MECH_OID_KRB5:hce,GSS_MECH_OID_SPNEGO:mce}});var $K=ae((JTe,xce)=>{xce.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var VK=ae((XTe,HK)=>{"use strict";var _ce=require("dns"),bce=_R(),CR=class CR{constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=Cce(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function o(a,l,f){if(!a)return f();_ce.resolveCname(l,(c,u)=>{if(c)return f(c);Array.isArray(u)&&u.length>0&&(i.host=u[0]),f()})}s(o,"performGssapiCanonicalizeHostName"),o(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let f=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;bce.initializeClient(f,l,(c,u)=>{if(c)return n(c,null);i.client=u,n(null,u)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};s(CR,"MongoAuthProcess");var bR=CR;function Cce(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=Tce(e),r(null,i)})}}s(Cce,"firstTransition");function Tce(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=Ece(e),r(null,i||"")})}}s(Tce,"secondTransition");function Ece(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(o,a)=>{if(o)return r(o,!1);e._transition=Sce(e),r(null,a)})})}}s(Ece,"thirdTransition");function Sce(e){return(t,r)=>{e._transition=null,r(null,!0)}}s(Sce,"fourthTransition");HK.exports={MongoAuthProcess:bR}});var KK=ae((ZTe,a6)=>{"use strict";var zK=_R();a6.exports=zK;a6.exports.Kerberos=zK;a6.exports.version=$K().version;a6.exports.processes={MongoAuthProcess:VK().MongoAuthProcess}});var Jl=U0(ws()),Lw=U0(eN()),up=U0(Ch());var lD=U0(require("crypto"));var Kg=new Uint8Array(256),zg=Kg.length;function w_(){return zg>Kg.length-16&&(lD.default.randomFillSync(Kg),zg=0),Kg.slice(zg,zg+=16)}s(w_,"rng");var Xn=[];for(let e=0;e<256;++e)Xn.push((e+256).toString(16).slice(1));function fD(e,t=0){return Xn[e[t+0]]+Xn[e[t+1]]+Xn[e[t+2]]+Xn[e[t+3]]+"-"+Xn[e[t+4]]+Xn[e[t+5]]+"-"+Xn[e[t+6]]+Xn[e[t+7]]+"-"+Xn[e[t+8]]+Xn[e[t+9]]+"-"+Xn[e[t+10]]+Xn[e[t+11]]+Xn[e[t+12]]+Xn[e[t+13]]+Xn[e[t+14]]+Xn[e[t+15]]}s(fD,"unsafeStringify");var cD=U0(require("crypto")),I_={randomUUID:cD.default.randomUUID};function TJ(e,t,r){if(I_.randomUUID&&!t&&!e)return I_.randomUUID();e=e||{};let n=e.random||(e.rng||w_)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return fD(n)}s(TJ,"v4");var Ru=TJ;var dp=U0(qO());var rT=class rT extends Error{constructor(r,n){super(r);this.cause=n;this.name="CopilotAuthError"}};s(rT,"CopilotAuthError");var Ou=rT;Nh();var Dh="github.copilot";wc();var EE=class EE{now(){return new Date}};s(EE,"Clock");var Yu=EE;var DM=U0(Ch());var SE=class SE{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?(this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&this.valueMap.delete(t),!0):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};s(SE,"LRUCacheMap");var Lr=SE;var bq=require("events");var p7=class p7{constructor(t){this.flags=t}static fromEnvironment(t,r=process.argv,n=process.env){return new p7({debug:BM(r,n),verboseLogging:TZ(r,n),testMode:t,simulation:CZ(n)})}};s(p7,"RuntimeMode");var Ju=p7;function Xu(e){return e.get(Ju).flags.testMode}s(Xu,"isRunningInTest");function Yh(e){return Xu(e)}s(Yh,"shouldFailForDebugPurposes");function LM(e){return e.get(Ju).flags.verboseLogging}s(LM,"isVerboseLoggingEnabled");function BM(e,t){return e.includes("--debug")||wE(t,"DEBUG")}s(BM,"determineDebugFlag");function CZ(e){return wE(e,"SIMULATION")}s(CZ,"determineSimulationFlag");function TZ(e,t){var r;return t.COPILOT_AGENT_VERBOSE==="1"||((r=t.COPILOT_AGENT_VERBOSE)==null?void 0:r.toLowerCase())==="true"||wE(t,"VERBOSE")||BM(e,t)}s(TZ,"determineVerboseLoggingEnabled");function wE(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||(n==null?void 0:n.toLowerCase())==="true"}return!1}s(wE,"determineEnvFlagEnabled");var fn=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(fn||{});function OM(e){return LM(e)}s(OM,"verboseLogging");var IE=class IE{shouldLog(t,r){}};s(IE,"LogTarget");var P3=IE,AE=class AE extends P3{constructor(r){super();this.console=r}logIt(r,n,i,...o){n==1?this.console.error(i,...o):(n==2||OM(r))&&this.console.warn(i,...o)}};s(AE,"ConsoleLog");var y7=AE;var PE=class PE{constructor(t,r){this.maxLoggedLevel=t;this.context=r}setLevel(t){this.maxLoggedLevel=t}stringToLevel(t){return fn[t]}log(t,r,...n){let i=t.get(P3),o=i.shouldLog(t,r);if(o===!1||o===void 0&&!this.shouldLog(t,r,this.context))return;let a=`[${this.context}]`;i.logIt(t,r,a,...n)}sendErrorTelemetry(t,r,n){Xh(t,r,cr.createAndMarkAsIssued({context:this.context,level:fn[1],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var l,f;if(OM(t))return!0;let i=Pc(t,$r.DebugFilterLogCategories);if(i.length>0&&!i.includes(n))return!1;if(Jh(t))return r<=this.maxLoggedLevel;let o=Pc(t,$r.DebugOverrideLogLevels),a=(f=(l=this.stringToLevel(o["*"]))!=null?l:this.stringToLevel(o[this.context]))!=null?f:this.maxLoggedLevel;return r<=a}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.context}${n}`),Rc(t,r,n);let o=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,1,`${i}:`,o)}};s(PE,"Logger");var I0=PE;var R3=new I0(3,"default");var kE=class kE{async showWarningMessageOnlyOnce(t,...r){return this.showWarningMessage(t,...r)}};s(kE,"NotificationSender");var Qu=kE;var Nhe=JM(),UE=class UE{};s(UE,"UrlOpener");var Qh=UE;var BZ=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],XM="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",QM="https://gh.io/copilot-network-errors",qE=class qE{constructor(){this.notifiedErrorCodes=[]}async notifyUser(t,r){BZ.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){new I0(1,"certificates").error(t,`${XM} Please visit ${QM} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t)}showCertificateWarningMessage(t){let r={title:"Learn more"};t.get(Qu).showWarningMessage(XM,r).then(n=>{(n==null?void 0:n.title)===r.title&&t.get(Qh).open(QM)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};s(qE,"UserErrorNotifier");var Zu=qE;var jE=class jE{};s(jE,"NetworkConfiguration");var ss=jE;var U3=U0(hq(),1),M8e={ALPN_HTTP2:U3.default.ALPN_HTTP2,ALPN_HTTP2C:U3.default.ALPN_HTTP2C,ALPN_HTTP1_1:U3.default.ALPN_HTTP1_1,ALPN_HTTP1_0:U3.default.ALPN_HTTP1_0},{fetch:U8e,context:mq,reset:q8e,noCache:j8e,h1:$8e,keepAlive:H8e,h1NoCache:V8e,keepAliveNoCache:z8e,cacheStats:K8e,clearCache:W8e,offPush:G8e,onPush:Y8e,createUrl:J8e,timeoutSignal:X8e,Body:Q8e,Headers:Z8e,Request:e6e,Response:t6e,AbortController:gq,AbortError:pq,AbortSignal:r6e,FetchBaseError:n6e,FetchError:d8,ALPN_HTTP2:i6e,ALPN_HTTP2C:s6e,ALPN_HTTP1_1:o6e,ALPN_HTTP1_0:a6e}=U3.default;var vq=U0(require("util")),xq=require("util");var NS=class NS{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};s(NS,"HeaderContributors");var Lc=NS;var h8,BS=class BS{constructor(){H0(this,h8,void 0)}set rejectUnauthorized(t){L0(this,h8,t)}get rejectUnauthorized(){return We(this,h8)}};h8=new WeakMap,s(BS,"Fetcher");var ti=BS;function DS(e){return!e||typeof e!="object"?!1:e instanceof pq||"name"in e&&e.name==="AbortError"||e instanceof d8&&e.code==="ABORT_ERR"}s(DS,"isAbortError");var OS=class OS extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};s(OS,"JsonParseError");var q3=OS,MS=class MS extends Error{constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}};s(MS,"FetchResponseError");var j3=MS,w0e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function LS(e,t=!0){var r;return t&&(e!=null&&e.cause)&&LS(e.cause,!1)?!0:e instanceof d8||e instanceof Error&&e.name==="EditorFetcherError"||e instanceof Error&&e.name==="FetchError"||e instanceof q3||e instanceof j3||((r=e==null?void 0:e.message)==null?void 0:r.startsWith("net::"))||e instanceof Error&&w0e.has(e.code)}s(LS,"isNetworkError");var US=class US{constructor(t,r,n,i,o,a){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=o;this.getJson=a;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new q3(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let o=new xq.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new q3(`Response body truncated: actualLength=${o}`,"Truncated"):new q3(`Response body truncated: actualLength=${o}, headerLength=${a}`,"Truncated")}}throw n}}async body(){return this.getBody()}};s(US,"Response");var z7=US,I0e=30*1e3;function _q(e,t,r,n,i,o,a,l){let f={...l,Authorization:vq.format("Bearer %s",r),"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(Pn).sessionId,"VScode-MachineId":e.get(Pn).machineId,...K7(e)};e.get(Lc).contributeHeaders(t,f),n&&(f["OpenAI-Intent"]=n);let c={method:"POST",headers:f,json:o,timeout:I0e},u=e.get(ti);if(a){let g=u.makeAbortController();a.onCancellationRequested(()=>{A0(e,"networking.cancelRequest",cr.createAndMarkAsIssued({headerRequestId:i})),g.abort()}),c.signal=g.signal}return u.fetch(t,c).catch(g=>{if(g.code=="ECONNRESET"||g.code=="ETIMEDOUT"||g.code=="ERR_HTTP2_INVALID_SESSION"||g.message=="ERR_HTTP2_GOAWAY_SESSION")return A0(e,"networking.disconnectAll"),u.disconnectAll().then(()=>u.fetch(t,c));throw g})}s(_q,"postRequest");var qS="copilot-codex",A0e=new I0(4,"customModels"),jS=class jS{async getModels(t){let r=await t.get(Di).getCopilotToken(t);return new W7(r)}logModelsForToken(t,r){let i=new W7(r).getModelIds();i.length>1&&i.forEach(o=>A0e.info(t,`Available model: ${o}`))}};s(jS,"AvailableModelManager");var od=jS,$S=class $S{constructor(t){this.token=t}getModelIds(){var r,n;return[...(n=(r=this.token.getTokenValue("cml"))==null?void 0:r.split(","))!=null?n:[],qS]}async getModelForResource(t,r,n=void 0){let i=Pc(t,$r.DebugOverrideEngine);if(i)return new m8(i,qS===i);if(n){let a=t.get(cn).customEngine(n);if(a)return new m8(a,qS===a)}let o=this.getModelIds();return new m8(o[0])}};s($S,"AvailableModels");var W7=$S,HS=class HS{constructor(t,r=!1){this.modelId=t;this.forceBaseModel=r}get path(){return`/v1/engines/${encodeURIComponent(this.modelId)}`}get headers(){return this.forceBaseModel?{"X-Custom-Model":"disable"}:{}}};s(HS,"ModelRequestInfo");var m8=HS;var P0e=require("events"),VS=class VS extends P0e{constructor(){super(),this.setMaxListeners(14)}emit(t,r){return super.emit(t,r)}};s(VS,"CopilotTokenNotifier");var Li=VS;var R0e=new I0(3,"auth");var KS=class KS{constructor(){this.tokenRefreshEventEmitter=new bq.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};s(KS,"CopilotTokenManager");var Di=KS;var k0e=new I0(4,"chat");var Uq=U0(Bq()),v8=require("path"),x8=U0(ad());var XS=require("os"),G7=require("path"),$3=U0(ad());function p8(e){return Oq(e)}s(p8,"isSupportedUriScheme");function Oq(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}s(Oq,"isFsScheme");function Fq(e){return Oq(e.scheme)&&(!e.authority||(0,XS.platform)()=="win32")}s(Fq,"isFsUri");function Mq(e){if(Fq(e))if((0,XS.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,G7.normalize)(t)}else return e.authority?void 0:e.path}s(Mq,"getFsPath");function y8(e,t){return Fq(e)?$3.URI.file((0,G7.resolve)(Mq(e),t)):$3.Utils.resolvePath(e,W0e(t))}s(y8,"resolveFilePath");function W0e(e){return G0e(e)?e.replaceAll("\\","/"):e}s(W0e,"pathToURIPath");function G0e(e){return/^[^/\\]*\\/.test(e)}s(G0e,"isWinPath");function Y7(e){return["notebook","vscode-notebook","vscode-notebook-cell"].includes(e.scheme)?$3.Utils.dirname(e).with({scheme:"file",fragment:""}):$3.Utils.dirname(e)}s(Y7,"dirname");var QS=class QS{};s(QS,"FileSystem");var oo=QS;async function qq(e){var i,o;let r=(i=(await e.get(Di).getCopilotToken(e,!1)).organization_list)!=null?i:[];return(o=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(a=>r.includes(a)))!=null?o:""}s(qq,"getUserKind");async function jq(e){var r;return(r=(await e.get(Di).getCopilotToken(e,!1)).getTokenValue("ft"))!=null?r:""}s(jq,"getFtFlag");function $q(e){var n;if(e===void 0||e===0)return"";let t=_8(e);if(t==="github/github")return t;let r=(n=Y0e(e))==null?void 0:n.toLowerCase();return r!==void 0?r:""}s($q,"getDogFood");function _8(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}s(_8,"tryGetGitHubNWO");function Y0e(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}s(Y0e,"tryGetADONWO");function ew(e,t){let r=x8.Utils.dirname(t);return J0e(e,r)}s(ew,"extractRepoInfoInBackground");var J0e=tre(X0e,1e4);async function X0e(e,t){var f;if(!p8(t.scheme))return;let r=await Z0e(e,t.fsPath);if(!r)return;let n=e.get(oo),i=(0,v8.join)(r,".git","config"),o;try{o=await n.readFileString(x8.URI.file(i))}catch{return}let a=(f=ere(o))!=null?f:"",l=Q0e(a);return l===void 0?{baseFolder:r,url:a,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:a,...l}}s(X0e,"extractRepoInfo");function Q0e(e){let t={};try{if(t=(0,Uq.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}s(Q0e,"parseRepoUrl");async function Z0e(e,t){let r=t+"_add_to_make_longer",n=e.get(oo);for(;t.length>1&&t.length<r.length;){let i=(0,v8.join)(t,".git","config"),o=!1;try{await n.stat(x8.URI.file(i)),o=!0}catch{o=!1}if(o)return t;r=t,t=(0,v8.dirname)(t)}}s(Z0e,"getRepoBaseFolder");function ere(e){var f;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,o,a,l=!1;for(let c of e.split(`
`))if(l&&o!==void 0){if(o+=c,c.endsWith("\\"))o=o.substring(0,o.length-1);else if(l=!1,a==="origin")return o}else{let u=(f=c.match(t))!=null?f:c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(o&&a!=="origin")continue;{let d=c.match(n);if(d){if(o=d[1],o.endsWith("\\"))o=o.substring(0,o.length-1),l=!0;else if(a==="origin")return o}}}}return o}s(ere,"getRepoUrlFromConfigText");var tw=class tw{constructor(t){this.result=t}};s(tw,"CompletedComputation");var ZS=tw;function tre(e,t){let r=new Lr(t),n=new Set;return(i,...o)=>{let a=JSON.stringify(o),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let f=e(i,...o);return n.add(a),f.then(c=>{r.set(a,new ZS(c)),n.delete(a)}),0}}s(tre,"computeInBackgroundAndMemoize");var J7=class J7{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return Hq(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new J7({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};s(J7,"ExpConfig");var Yo=J7;var rw=class rw{};s(rw,"ExpConfigMaker");var ld=rw,nre="https://default.exp-tas.com",nw=class nw extends ld{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var c;let i=r.get(ti),o;try{o=await i.fetch(nre+this.expPath,{method:"GET",headers:n,timeout:5e3})}catch(u){return Yo.createFallbackConfig(r,`Error fetching ExP config: ${u}`)}if(!o.ok)return Yo.createFallbackConfig(r,`ExP responded with ${o.status}`);let a;try{a=await o.json()}catch(u){if(u instanceof SyntaxError)return Rc(r,u,"fetchExperiments"),Yo.createFallbackConfig(r,"ExP responded with invalid JSON");throw u}let l=(c=a.Configs.find(u=>u.Id==="vscode"))!=null?c:{Id:"vscode",Parameters:{}},f=Object.entries(l.Parameters).map(([u,d])=>u+(d?"":"cf"));return new Yo(l.Parameters,a.AssignmentContext,f.join(";"))}};s(nw,"ExpConfigFromTAS");var X7=nw;var ire={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Q7=class Q7{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=ire[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new Q7({...this.filters,[t]:r})}};s(Q7,"FilterSettings");var fd=Q7;var sw=class sw{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};s(sw,"GranularityImplementation");var Z7=sw,ow=class ow extends Z7{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};s(ow,"ConstantGranularity");var iw=ow,Vq=s(e=>new iw(e),"DEFAULT_GRANULARITY"),aw=class aw extends Z7{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),o=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of o)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};s(aw,"TimeBucketGranularity");var ep=aw;var zq="X-Copilot-ClientTimeBucket",lw=class lw{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=Vq(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new ep(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(zq,n),otherFilterSettingsToPrefetch:i.map(o=>t.withChange(zq,o))}}};s(lw,"GranularityDirectory");var tp=lw;var uw=class uw{constructor(t){this.ctx=t;this.cache=new Lr(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new cw(()=>this.ctx.get(ld).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};s(uw,"FilterSettingsToExpConfigs");var fw=uw,dw=class dw{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};s(dw,"Task");var cw=dw;function lre(e){return"uri"in e}s(lre,"isCompletionsFiltersInfo");var Yl=class Yl{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new fw(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r,n=cr.createAndMarkAsIssued()){var P,U,k,L,Q;if(n instanceof b8)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let i=r&&lre(r)?ew(t,r.uri):void 0,o=(P=_8(i))!=null?P:"",a=(U=$q(i))!=null?U:"",l=await qq(t),f=await jq(t),c=(k=r==null?void 0:r.languageId)!=null?k:"",u={"X-Copilot-Repository":o,"X-Copilot-FileType":c,"X-Copilot-UserKind":l,"X-Copilot-Dogfood":a,"X-Copilot-CustomModel":f},d=this.getGranularityDirectory(),g=this.makeFilterSettings(u),p=d.extendFilters(g),y=await this.getExpConfig(p.newFilterSettings);d.update(g,+((L=y.variables.copilotbycallbuckets)!=null?L:NaN),+((Q=y.variables.copilottimeperiodsizeinh)!=null?Q:NaN));let _=d.extendFilters(g),S=_.newFilterSettings,T=await this.getExpConfig(S),I=new Promise(te=>setTimeout(te,Yl.upcomingDynamicFilterCheckDelayMs));for(let te of _.otherFilterSettingsToPrefetch)I=I.then(async()=>{await new Promise(Ce=>setTimeout(Ce,Yl.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(te)});return this.prepareForUpcomingFilters(S),new b8(n.properties,n.measurements,n.issuedTime,{filters:S,exp:T})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(Pn).machineId;this.granularityDirectory=new tp(t,this.ctx.get(Yu))}return this.granularityDirectory}makeFilterSettings(t){return new fd({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return Yo.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-Yl.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,Yl.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new fd({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:$F}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:jF}numberOfSnippets(t){var r;return(r=t.filtersAndExp.exp.variables.copilotnumberofsnippets)!=null?r:qF}similarFilesOption(t){switch(t.filtersAndExp.exp.variables.copilotneighboringtabs){case"none":return"none";case"conservative":return"conservative";case"medium":return"medium";case"eager":return"eager";case"eagerbutlittle":return"eagerButLittle";case"eagerbutmedium":return"eagerButMedium";case"eagerbutmuch":return"eagerButMuch";default:return"eager"}}cppHeaders(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcppheaders)!=null?r:!1}relatedFiles(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrelatedfiles)!=null?r:!1}cacheReferenceTokens(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcachereferencetokens)!=null?r:!1}maxPromptCompletionTokens(t){var r;return(r=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?r:UF+Hh}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideChatGpt4MaxTokens(t){var r;return(r=t.filtersAndExp.exp.variables.idechatgpt4maxtokens)!=null?r:-1}ideChatGpt4MaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.idechatgpt4maxrequesttokens)!=null?r:-1}ideChatExpModelFamily(t){switch(t.filtersAndExp.exp.variables.idechatexpmodelfamily){case"gpt-4":return"gpt-4";case"gpt-4-turbo":return"gpt-4-turbo";case"gpt-4o":return"gpt-4o";case"gpt-3.5-turbo":return"gpt-3.5-turbo"}}ideChatExpModelId(t){var r;return(r=t.filtersAndExp.exp.variables.idechatexpmodelid)!=null?r:""}ideChatEnableProjectMetadata(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableprojectmetadata)!=null?r:!1}ideChatMetaPromptVersion(t){var r;return(r=t.filtersAndExp.exp.variables.idechatmetapromptversion)!=null?r:""}ideChatIntentModel(t){var r;return(r=t.filtersAndExp.exp.variables.idechatintentmodel)!=null?r:""}ideChatIntentThresholdPercent(t){var r;return(r=t.filtersAndExp.exp.variables.idechatintentthresholdpercent)!=null?r:0}ideChatIntentTokenizer(t){var r;return(r=t.filtersAndExp.exp.variables.idechatintenttokenizer)!=null?r:""}ideChatEnableProjectContext(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableprojectcontext)!=null?r:!1}ideChatEnableInline(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableinline)!=null?r:!1}ideChatEnableExtensibilityPlatform(t){var r;return(r=t.filtersAndExp.exp.variables.idechatenableextensibilityplatform)!=null?r:!1}};s(Yl,"Features"),Yl.upcomingDynamicFilterCheckDelayMs=20,Yl.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var cn=Yl;var Wq=hw(),$r={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",DebugOverrideRelatedFiles:"advanced.debug.overrideRelatedFiles",DebugOverrideCapiUrl:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"advanced.debug.overrideEngine",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher"};var mw=class mw{};s(mw,"BlockModeConfig");var V3=mw,gw=class gw extends V3{async forLanguage(t,r,n){let i=t.get(cn).overrideBlockMode(n);return i?cre(i,r):r=="ruby"?"parsing":Fu(r)?"parsingandserver":"server"}};s(gw,"ConfigBlockModeConfig");var rp=gw;function cre(e,t){switch(e){case"parsing":return Fu(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return Fu(t)?"parsingandserver":"server"}}s(cre,"toApplicableBlockMode");var pw=class pw{};s(pw,"ConfigProvider");var cd=pw,yw=class yw extends cd{getConfig(t){return dre(t)}getOptionalConfig(t){return hre(t)}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};s(yw,"DefaultsOnlyConfigProvider");var np=yw;function ure(e){return(e==null?void 0:e.type)==="object"&&"properties"in e}s(ure,"isContributesObject");function dre(e){if(H3.has(e))return H3.get(e);throw new Error(`Missing config default value: ${Dh}.${e}`)}s(dre,"getConfigDefaultForKey");function hre(e){return H3.get(e)}s(hre,"getOptionalConfigDefaultForKey");var H3=new Map([[$r.DebugOverrideCppHeaders,!1],[$r.DebugOverrideRelatedFiles,!1],[$r.DebugUseEditorFetcher,null],[$r.DebugUseElectronFetcher,null],[$r.DebugOverrideLogLevels,{}],[$r.DebugSnippyOverrideUrl,""],[$r.FetchStrategy,"auto"],[$r.ShowEditorCompletions,void 0],[$r.DelayCompletions,void 0],[$r.FilterCompletions,void 0]]);for(let e of Object.values($r)){let t=Wq.contributes.configuration[0],r=[],n=`${Dh}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(ure(i))r.length=0,t=i;else if(n.length==0&&(i==null?void 0:i.default)!==void 0){if(H3.has(e))throw new Error(`Duplicate config default value ${Dh}.${e}`);H3.set(e,i.default)}}if(!H3.has(e))throw new Error(`Missing config default value ${Dh}.${e}`)}function Pc(e,t){return e.get(cd).getConfig(t)}s(Pc,"getConfig");function Gq(e){return e.get(cd).dumpForTelemetry()}s(Gq,"dumpForTelemetry");var vw=class vw{constructor(){this.packageJson=Wq}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};s(vw,"BuildInfo");var Bi=vw;function Jh(e){return e.get(Bi).isProduction()}s(Jh,"isProduction");function zS(e){return e.get(Bi).getBuildType()}s(zS,"getBuildType");function Yq(e){return e.get(Bi).getBuild()}s(Yq,"getBuild");function Jq(e){return e.get(Bi).getVersion()}s(Jq,"getVersion");var xw=class xw{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}};s(xw,"EditorSession");var Pn=xw;function ja({name:e,version:t}){return`${e}/${t}`}s(ja,"formatNameAndVersion");var _w=class _w{};s(_w,"EditorAndPluginInfo");var Ei=_w;function K7(e){let t=e.get(Ei);return{"Editor-Version":ja(t.getEditorInfo()),"Editor-Plugin-Version":ja(t.getEditorPluginInfo())}}s(K7,"editorVersionHeaders");var Kq="Iv1.b507a08c87ecfe98",bw=class bw{findAppIdToAuthenticate(){var t;return(t=this.githubAppId)!=null?t:Kq}fallbackAppId(){return Kq}};s(bw,"GitHubAppInfo");var C8=bw;var ip=U0(Ch()),sp=U0(require("os"));var Cw=class Cw{constructor(t,r,n,i){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=i!=null?i:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(Li).on("onCopilotToken",r=>{var c;let n=r.getTokenValue("rt")==="1",i=(c=r.getTokenValue("ft"))!=null?c:"",o=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,f=r.getTokenValue("sku");o!==void 0&&(this.trackingId=o,this.organizationsList=a==null?void 0:a.toString(),this.enterpriseList=l==null?void 0:l.toString(),this.sku=f,this.optedIn=n,this.ftFlag=i)})}};s(Cw,"TelemetryUserConfig");var os=Cw;var mre=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function gre(e){var n,i,o,a,l,f;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let c of r.slice(e.toString().length+1).split(/\n/).reverse()){let u=c.match(mre),d={filename:"",function:""};u&&(d.function=(a=(o=(i=u[2])==null?void 0:i.trim())==null?void 0:o.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?a:d.function,d.filename=(f=(l=u[4])==null?void 0:l.trim())!=null?f:d.filename,u[5]&&u[5]!==":0"&&(d.lineno=u[5].slice(1)),u[6]&&u[5]!==":0"&&(d.colno=u[6].slice(1)),d.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(d.filename)),t.stacktrace.push(d)}}return t}s(gre,"buildExceptionDetail");function pre(e,t){var a,l;let r=e.get(Ei),n=r.getEditorInfo(),i=e.get(os),o={"#editor":(a=n.devName)!=null?a:n.name,"#editor_version":ja({name:(l=n.devName)!=null?l:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":ja(r.getEditorPluginInfo()),"#session_id":e.get(Pn).sessionId,"#machine_id":e.get(Pn).machineId,"#architecture":sp.arch(),"#os_platform":sp.platform(),...t};return i.trackingId&&(o.user=i.trackingId,o["#tracking_id"]=i.trackingId),o}s(pre,"buildContext");function Xq(e,t){var c,u,d,g;let r=e.get(Bi),n=e.get(Ei).getEditorInfo(),i={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:pre(e,{"#node_version":process.versions.node}),sensitive_context:{}},o=[];i.exception_detail=[];let a=0,l=t;for(;l instanceof Error&&a<10;){let p=gre(l);i.exception_detail.unshift(p),o.unshift([l,p]),a+=1,l=l.cause}let f=[];for(let[p,y]of o)if(y.stacktrace&&y.stacktrace.length>0){f.push(`${y.type}: ${(c=p.code)!=null?c:""}`);let _=[...y.stacktrace].reverse();for(let S of _)if((u=S.filename)!=null&&u.startsWith("./dist/"))return i;for(let S of _)if(S.in_app){f.push(`${(d=S.filename)==null?void 0:d.replace(/^\.\//,"")}:${S.lineno}:${S.colno}`);break}f.push(`${(g=_[0].filename)==null?void 0:g.replace(/^\.\//,"")}`)}else return i;return i.exception_detail.length>0&&(i.rollup_id=(0,ip.SHA256)(ip.enc.Utf16.parse(f.join(`
`))).toString()),i}s(Xq,"buildPayload");var Tw=class Tw{constructor(t=5){this.perMinute=t;this.cache=new Lr}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perMinute).fill(0);return r-n[0]<6e4?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};s(Tw,"ExceptionRateLimiter");var ud=Tw;var rj=U0(Zq()),nj=U0(tj()),$a=U0(require("os"));var Ew=class Ew{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=s(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var o;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(o=t.headers)!=null?o:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(ti).fetch(t.urlString,i).then(a=>a.text().then(l=>{r(a.status,a.headers,l)})).catch(a=>{R3.errorWithoutTelemetry(this.ctx,"Error sending telemetry",a),r(0,{})})}};this.client=new nj.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(ss).getTelemetryUrl(),extensionConfig:{[rj.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=vre(t),this.commonProperties=xre(t),t.get(Li).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(Li).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};s(Ew,"AppInsightsReporter");var z3=Ew;function vre(e){let t={},r=e.get(Pn);t["ai.session.id"]=r.sessionId;let n=e.get(os);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${$a.type()} ${$a.release()}`,t["ai.device.osArchitecture"]=$a.arch(),t["ai.device.osPlatform"]=$a.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Bi).getVersion(),t}s(vre,"getTags");function xre(e){let t={};t.common_os=$a.platform(),t.common_platformversion=$a.release();let r=e.get(Pn);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}s(xre,"getCommonProperties");var ij="7d7048df-6dd0-4048-bb23-b716c1461f8f",sj="3fdd7f28-937a-48c8-9a21-ba337db23bd1",_re="f0000000-0000-0000-0000-000000000000",ww=class ww{constructor(){this._initialized=!1}get isInitialized(){return this._initialized}async initialize(t,r,n){let i=t.get(ao).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let o=t.get(ao);o.setReporter(new z3(t,r,ij)),o.setRestrictedReporter(new z3(t,r,sj)),o.setFTReporter(new z3(t,r,_re,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};s(ww,"TelemetryInitialization");var Bc=ww;function Sw(e,t,r){return e.get(Bc).initialize(e,t,r)}s(Sw,"setupTelemetryReporters");var Iw=class Iw{constructor(){this.promises=new Set}async register(t){return this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};s(Iw,"PromiseQueue");var Oi=Iw;var Aw=class Aw extends Oi{async awaitPromises(){await Promise.all(this.promises)}};s(Aw,"TestPromiseQueue");var lp=Aw;var Pw=class Pw{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};s(Pw,"FailingTelemetryReporter");var T8=Pw;var lj=require("os"),fj=U0(require("path"));function E8(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}s(E8,"redactPaths");var bre=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Cre=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function kw(e){if(bre.has(e))return e;for(let t of Cre)if(t.test(e))return e;return E8(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}s(kw,"redactMessage");function fp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(fp,"escapeForRegExp");var Tre=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+fp((0,lj.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function Rw(e){return e.replace(Tre,"~")}s(Rw,"redactHomeDir");var cj="[\\\\/]?([^:)]*)(?=:\\d)",oj=new RegExp(fp(fj.sep),"g"),aj=new RegExp(fp(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+cj,"gi");function Nw(e,t,r=!1,n=[]){var l;let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let o=(l=e.stack)==null?void 0:l.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let f of[e.toString(),`${e.name}: ${e.message}`])if(o!=null&&o.startsWith(f+`
`)){a=o.slice(f.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let f of a)if(aj.test(f))i.stack+=`
${E8(f.replace(aj,(c,u)=>"./"+u.replace(oj,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(f))i.stack+=`
${E8(f)}`;else{let c=!1;for(let{prefix:u,path:d}of n){let g=new RegExp(fp(d.replace(/[\\/]$/,""))+cj,"gi");if(g.test(f)){i.stack+=`
${E8(f.replace(g,(p,y)=>u+y.replace(oj,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${Rw(f)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&o&&(i.stack=Rw(o));return e.cause instanceof Error&&(i.cause=Nw(e.cause,t,r,n)),i}s(Nw,"cloneError");function uj(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}s(uj,"errorMessageWithoutPath");function dj(e,t){return Nw(e,s(function(n){return Rw(uj(n))},"prepareMessage"),!0,t)}s(dj,"prepareErrorForRestrictedTelemetry");function Dw(e,t,r=!1){return Nw(e,s(function(i){if(r)return kw(uj(i));let o="[redacted]";return i.syscall&&i.code!==void 0?o=`${E8(i.syscall.toString())} ${i.code} ${o}`:i instanceof d8&&i.erroredSysCall&&i.code!==void 0?o=`${i.erroredSysCall} ${i.code} ${o}`:i.code!==void 0&&(o=`${i.code} ${o}`),o},"prepareMessage"),!1,t)}s(Dw,"redactError");function K3(e){return e===1}s(K3,"isRestricted");var Ere=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var Fw=class Fw{getReporter(t,r=0){return K3(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(hp(t))return this.reporterRestricted;if(Yh(t))return new T8}getFTReporter(t){if(hj(t))return this.reporterFT;if(Yh(t))return new T8}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};s(Fw,"TelemetryReporters");var ao=Fw,Sre=Jl.Type.Object({},{additionalProperties:Jl.Type.String()}),wre=Jl.Type.Object({meanLogProb:Jl.Type.Optional(Jl.Type.Number()),meanAlternativeLogProb:Jl.Type.Optional(Jl.Type.Number())},{additionalProperties:Jl.Type.Number()}),Ire=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Are(e){var t;return Ire.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}s(Are,"isOomError");function Pre(e){return LS(e)?"network":Are(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}s(Pre,"getErrorType");var vn=class vn{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new vn(t||{},r||{},Xl())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new vn(n,i,this.issuedTime);return o.displayedTime=this.displayedTime,o}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Xl())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(cn).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=ja(t.get(Ei).getEditorInfo()),this.properties.editor_plugin_version=ja(t.get(Ei).getEditorPluginInfo());let r=t.get(Pn);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${Jq(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(Ei);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=ja(n.getEditorInfo());let i=t.get(ti);this.properties.fetcher=i.name;let o=i.proxySettings;this.properties.proxy_enabled=o?"true":"false",this.properties.proxy_auth=o!=null&&o.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=o!=null&&o.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=Gq(t);r["copilot.build"]=Yq(t),r["copilot.buildType"]=zS(t);let n=t.get(os);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(K3(t))return r;let n={};for(let i in r)vn.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=vn.sanitizeKeys(this.properties),this.measurements=vn.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=vn.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}updateMeasurements(){let t=Xl()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=Xl()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}this.measurements.current_time===void 0&&(this.measurements.current_time=Nre())}validateData(t,r){var i;let n;if(vn.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...vn.validateTelemetryProperties.Errors(this.properties)])}),!vn.validateTelemetryMeasurements.Check(this.measurements)){let o=JSON.stringify([...vn.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:o}:(n.problem="both",n.error+=`; ${o}`)}if(n===void 0)return!0;if(Yh(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return Xh(t,"invalidTelemetryData",vn.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),K3(r)&&Xh(t,"invalidTelemetryData_in_secure",vn.createAndMarkAsIssued({problem:n.problem,requestId:(i=this.properties.requestId)!=null?i:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Bre(t,this.properties)}};s(vn,"TelemetryData"),vn.validateTelemetryProperties=Lw.TypeCompiler.Compile(Sre),vn.validateTelemetryMeasurements=Lw.TypeCompiler.Compile(wre),vn.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],vn.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var cr=vn,S8=class S8 extends cr{constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new S8(n,i,this.issuedTime,this.filtersAndExp);return o.displayedTime=this.displayedTime,o}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new S8({},{},0,{filters:new fd({}),exp:Yo.createEmptyConfig()})}};s(S8,"TelemetryWithExp");var b8=S8;function cp(e,t,r,n){var i;(i=e.get(ao).getReporter(e,t))==null||i.sendTelemetryEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(cp,"sendTelemetryEvent");function Rre(e,t,r,n){var i;(i=e.get(ao).getReporter(e,t))==null||i.sendTelemetryErrorEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(Rre,"sendTelemetryErrorEvent");function kre(e,t,r,n){var i;(i=e.get(ao).getFTReporter(e))==null||i.sendTelemetryEvent(r,cr.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(kre,"sendFTTelemetryEvent");function Ow(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}s(Ow,"telemetrizePromptLength");function Xl(){return Date.now()}s(Xl,"now");function Nre(){return Math.floor(Xl()/1e3)}s(Nre,"nowSeconds");function hp(e){return e.get(os).optedIn}s(hp,"shouldSendRestricted");function hj(e){return e.get(os).ftFlag!==""}s(hj,"shouldSendFinetuningTelemetry");async function A0(e,t,r,n){await e.get(Oi).register(Dre(e,t,r,n))}s(A0,"telemetry");async function Dre(e,t,r,n=0){let i=r||cr.createAndMarkAsIssued({},{});await i.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!K3(n)||hp(e))&&cp(e,n,t,i),K3(n)&&Ere.includes(t)&&hj(e)&&kre(e,n,t,i)}s(Dre,"_telemetry");async function Hq(e,t){await e.get(Oi).register(Lre(e,t))}s(Hq,"telemetryExpProblem");async function Lre(e,t){let r="expProblem",n=cr.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),cp(e,0,r,n)}s(Lre,"_telemetryExpProblem");function Bre(e,t){t.unique_id=Ru();let r=e.get(Ei);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=ja(r.getEditorInfo())}s(Bre,"addRequiredProperties");var Mw=class Mw extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError",this.code=(0,up.SHA256)(up.enc.Utf16.parse(this.message)).toString().slice(0,16)}};s(Mw,"CopilotNonError");var Bw=Mw;async function Rc(e,t,r,n,i){var a;let o;if(t instanceof Error){if(o=t,o.name==="Canceled"&&o.message==="Canceled"||o.name==="CodeExpectedError"||o instanceof Ou||o instanceof dp.ConnectionError||o instanceof dp.ResponseError)return}else{if(o=new Bw(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if((a=o.stack)!=null&&a.startsWith(`${o}
`)){let l=o.stack.slice(`${o}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(l[0])&&l.shift(),o.stack=`${o}
${l.join(`
`)}`}}await e.get(Oi).register(Ore(e,o,r,n,i))}s(Rc,"telemetryException");async function Ore(e,t,r,n,i){var p,y,_;let o=e.get(Ei).getEditorInfo(),a;o.root&&(a=[{prefix:`${o.name}:`,path:o.root}]);let l=Dw(t,a),f=hp(e),c=Pre(t),u=c==="exception",d=cr.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(p=t.code)!=null?p:""}`,reason:l.stack||l.toString(),message:l.message,...n});if(await d.makeReadyForSending(e,0,"IncludeExp"),i!=null&&i.exception_detail)for(let S of i.exception_detail)S.value&&(f?S.value=kw(S.value):S.value="[redacted]");if(i!=null||(i=Xq(e,Dw(t,a,f))),i.context={...i.context,"copilot_event.unique_id":d.properties.unique_id,"#restricted_telemetry":f?"true":"false"},r&&(i.context["#origin"]=r,i.transaction=r),i.rollup_id!=="auto"&&(d.properties.errno=i.rollup_id),i.created_at=new Date(d.issuedTime).toISOString(),f){let S=dj(t,a),T=cr.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(y=t.code)!=null?y:""}`,reason:S.stack||S.toString(),message:S.message,...n});i.rollup_id!=="auto"&&(T.properties.errno=i.rollup_id),await T.makeReadyForSending(e,1,"IncludeExp"),T.properties.unique_id=d.properties.unique_id,d.properties.restricted_unique_id=T.properties.unique_id,cp(e,1,`error.${c}`,T)}let g=i.rollup_id==="auto"?(_=t.stack)!=null?_:"":i.rollup_id;u&&!e.get(ud).isThrottled(g)&&(d.properties.failbot_payload=JSON.stringify(i)),cp(e,0,`error.${c}`,d)}s(Ore,"_telemetryException");async function Xh(e,t,r,n){await e.get(Oi).register(Fre(e,t,r,n))}s(Xh,"telemetryError");async function Fre(e,t,r,n=0){if(K3(n)&&!hp(e))return;let i=r||cr.createAndMarkAsIssued({},{});await i.makeReadyForSending(e,n,"IncludeExp"),Rre(e,n,t,i)}s(Fre,"_telemetryError");async function mj(e,t,r,n,i){var a;let o=cr.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[l,f]of Object.entries(r.logprobs))o.properties["logprobs_"+l]=(a=JSON.stringify(f))!=null?a:"unset";o.extendWithRequestId(n),await A0(e,"engine.completion",o,1)}s(mj,"logEngineCompletion");async function gj(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let i=r.extendedBy(n);await A0(e,"engine.prompt",i,1)}s(gj,"logEnginePrompt");var Uw=class Uw{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?A0(t,"installed.reinstall"):A0(t,"installed.new")}async handleUpgrade(t){A0(t,"installed.upgrade")}async handleUninstall(t){A0(t,"uninstalled")}};s(Uw,"InstallationManager");var mp=Uw;var qw=class qw extends mp{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};s(qw,"VsCodeUninstallationManager");var gp=qw;var uW=require("child_process");t7();var jw=class jw{constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};s(jw,"Context");var pp=jw;var $w=class $w{constructor(){this._cache=new Lr(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};s($w,"CompletionsCache");var W3=$w;var Hw=class Hw{constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};s(Hw,"ContextualFilterManager");var G3=Hw;var uoe=U0(Ch());Nh();var Vw=class Vw{async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};s(Vw,"Debouncer");var yp=Vw;async function*pj(e,t){for await(let r of e)yield t(r)}s(pj,"asyncIterableMap");async function*yj(e,t){for await(let r of e)await t(r)&&(yield r)}s(yj,"asyncIterableFilter");var Cj=U0(require("util"));var zw=class zw{};s(zw,"StatusReporter");var Ql=zw;wc();function vj(e,t,r,n,i,o,a,l){return mj(e,t,r,i,n),{completionText:t,meanLogProb:Ure(e,r),meanAlternativeLogProb:qre(e,r),choiceIndex:n,requestId:i,modelInfo:l,blockFinished:o,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a}}s(vj,"convertToAPIChoice");function Ure(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,i=0,o=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&o>0;a++,o--)n+=t.logprobs.token_logprobs[a],i+=1;return i>0?n/i:void 0}catch(n){R3.exception(e,n,"Error calculating mean prob")}}s(Ure,"calculateMeanLogProb");function qre(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,i=0,o=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&o>0;a++,o--){let l={...t.logprobs.top_logprobs[a]};delete l[t.logprobs.tokens[a]],n+=Math.max(...Object.values(l)),i+=1}return i>0?n/i:void 0}catch(n){R3.exception(e,n,"Error calculating mean prob")}}s(qre,"calculateMeanAlternativeLogProb");function Kw(e,t){return Xu(e)||t<=1?0:t<10?.2:t<20?.4:.8}s(Kw,"getTemperatureForSamples");var jre={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function xj(e,t){var r;return(r=jre[t!=null?t:""])!=null?r:[`


`,"\n```"]}s(xj,"getStops");function _j(e){return 1}s(_j,"getTopP");function Ww(e){return Hh}s(Ww,"getMaxSolutionTokens");var as=new I0(3,"streamChoices"),eI=class eI{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new Xw;this.tool_calls=[];this.function_call=new Jw;this.copilot_references=[]}append(t){var r,n,i,o,a,l,f,c;if(t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((i=t.logprobs.text_offset)!=null?i:[]),this.logprobs.push((o=t.logprobs.token_logprobs)!=null?o:[]),this.top_logprobs.push((a=t.logprobs.top_logprobs)!=null?a:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(l=t.delta)!=null&&l.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),(f=t.delta)!=null&&f.tool_calls&&t.delta.tool_calls.length>0)for(let u of t.delta.tool_calls){let d=u.index;this.tool_calls[d]||(this.tool_calls[d]=new Yw),this.tool_calls[d].update(u)}(c=t.delta)!=null&&c.function_call&&this.function_call.update(t.delta.function_call)}};s(eI,"APIJsonDataStreaming");var Gw=eI;function Hre(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}s(Hre,"splitChunk");var tI=class tI{constructor(){this.arguments=[]}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}};s(tI,"StreamingToolCall");var Yw=tI,rI=class rI{constructor(){this.arguments=[]}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}};s(rI,"StreamingFunctionCall");var Jw=rI,nI=class nI{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(o=>o.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};s(nI,"StreamCopilotAnnotations");var Xw=nI,xp=class xp{constructor(t,r,n,i,o,a,l,f){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=o;this.dropCompletionReasons=a;this.fastCancellation=l;this.cancellationToken=f;this.requestId=w8(this.response);this.stats=new Qw(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,i,o,a){let l=await n.body();l.setEncoding("utf8");let f=t.get(cn).fastCancellation(i);return new xp(t,r,n,l,i,o!=null?o:["content_filter"],f,a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),as.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),as.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var n,i,o,a,l,f;let r="";e:for await(let c of this.body){if(this.maybeCancel("after awaiting body chunk"))return;as.debug(this.ctx,"chunk",c.toString());let[u,d]=Hre(r+c.toString());r=d;for(let g of u){let p=g.slice(5).trim();if(p=="[DONE]"){yield*this.finishSolutions();return}let y;try{y=JSON.parse(p)}catch{as.error(this.ctx,"Error parsing JSON stream data",g);continue}if(y.copilot_confirmation&&zre(y.copilot_confirmation)&&await t("",{text:"",copilotConfirmation:y.copilot_confirmation}),y.copilot_references&&await t("",{text:"",copilotReferences:y.copilot_references}),y.choices===void 0){!y.copilot_references&&!y.copilot_confirmation&&(y.error!==void 0?as.error(this.ctx,"Error in response:",y.error.message):as.error(this.ctx,"Unexpected response with no choices or error: "+p)),y.copilot_errors&&await t("",{text:"",copilotErrors:y.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=w8(this.response,y),this.requestId.created===0&&((n=y.choices)!=null&&n.length)&&as.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),this.allSolutionsDone()&&this.fastCancellation)break e;for(let _=0;_<((i=y.choices)==null?void 0:i.length);_++){let S=y.choices[_];as.debug(this.ctx,"choice",S),this.stats.add(S.index),S.index in this.solutions||(this.solutions[S.index]=new Gw);let T=this.solutions[S.index];if(T==null)continue;T.append(S);let I,P=((o=S.text)==null?void 0:o.indexOf(`
`))>-1||((l=(a=S.delta)==null?void 0:a.content)==null?void 0:l.indexOf(`
`))>-1;if(S.finish_reason||P){let L=T.text.join("");if(I=await t(L,{text:L,annotations:T.copilot_annotations,copilotReferences:T.copilot_references}),this.maybeCancel("after awaiting finishedCb"))return}if(!(S.finish_reason||I!==void 0))continue;let k=(f=S.finish_reason)!=null?f:"client-trimmed";if(A0(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:k})),this.dropCompletionReasons.includes(S.finish_reason)?this.solutions[S.index]=null:(this.stats.markYielded(S.index),yield{solution:T,finishOffset:I,reason:S.finish_reason,requestId:this.requestId,index:S.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[S.index]=null}}}for(let[c,u]of Object.entries(this.solutions)){let d=Number(c);if(u!=null&&(this.stats.markYielded(d),yield{solution:u,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:d},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let c=JSON.parse(r);c.error!==void 0&&as.error(this.ctx,`Error in response: ${c.error.message}`,c.error)}catch{as.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(){for(let[t,r]of Object.entries(this.solutions)){let n=Number(t);if(r!=null&&(this.stats.markYielded(n),A0(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"DONE"})),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(as.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};s(xp,"SSEProcessor");var vp=xp;function bj(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(as.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),as.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),as.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let o=Vre(t.solution);return vj(e,n,o,t.index,t.requestId,i,r)}s(bj,"prepareSolutionForReturn");function Vre(e){let t=e.text.join(""),r=Kre(e),n=Wre(e),i={text:t,tokens:e.text,tool_calls:r,function_call:n};if(e.logprobs.length===0)return i;let o=e.logprobs.reduce((c,u)=>c.concat(u),[]),a=e.top_logprobs.reduce((c,u)=>c.concat(u),[]),l=e.text_offset.reduce((c,u)=>c.concat(u),[]),f=e.tokens.reduce((c,u)=>c.concat(u),[]);return{...i,logprobs:{token_logprobs:o,top_logprobs:a,text_offset:l,tokens:f}}}s(Vre,"convertToAPIJsonData");function zre(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}s(zre,"isCopilotConfirmation");function Kre(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):[];t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}s(Kre,"extractToolCalls");function Wre(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):[];return{name:e.function_call.name,arguments:t}}}s(Wre,"extractFunctionCall");var iI=class iI{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new Zw)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};s(iI,"ChunkStats");var Qw=iI,sI=class sI{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};s(sI,"ChoiceStats");var Zw=sI;var Ns=new I0(3,"fetchCompletions");function w8(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}s(w8,"getRequestId");function Gre(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}s(Gre,"getProcessingTime");function oI(e,t){let r=t.split("/").pop();return r||(Ns.error(e,"Malformed engine URL: "+t),t)}s(oI,"extractEngineName");function Yre(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}s(Yre,"uiKindToIntent");var aI=class aI{};s(aI,"OpenAIFetcher");var dd=aI;function Jre(e,t,r,n,i,o,a,l,f,c,u){var S;let d=e.get(Ql),g=Cj.format("%s/%s",r,n);if(!a){Ns.error(e,`Failed to send request to ${g} due to missing key`);return}let p=cr.createAndMarkAsIssued({endpoint:n,engineName:oI(e,r),uiKind:l},Ow(t));c&&(p=p.extendedBy(c));for(let[T,I]of Object.entries(o))T=="prompt"||T=="suffix"||(p.properties[`request.option.${T}`]=(S=JSON.stringify(I))!=null?S:"undefined");p.properties.headerRequestId=i,A0(e,"request.sent",p);let y=Xl(),_=Yre(l);return _q(e,g,a,_,i,o,f,u).then(T=>{let I=w8(T,void 0);p.extendWithRequestId(I);let P=Xl()-y;return p.measurements.totalTimeMs=P,Ns.info(e,`request.response: [${g}] took ${P} ms`),Ns.debug(e,"request.response properties",p.properties),Ns.debug(e,"request.response measurements",p.measurements),Ns.debug(e,"prompt:",t),A0(e,"request.response",p),T}).catch(T=>{var U,k,L,Q;if(DS(T))throw T;d.setWarning(T.message);let I=p.extendedBy({error:"Network exception"});A0(e,"request.shownWarning",I),p.properties.message=String((U=T.name)!=null?U:""),p.properties.code=String((k=T.code)!=null?k:""),p.properties.errno=String((L=T.errno)!=null?L:""),p.properties.type=String((Q=T.type)!=null?Q:"");let P=Xl()-y;throw p.measurements.totalTimeMs=P,Ns.debug(e,`request.response: [${g}] took ${P} ms`),Ns.debug(e,"request.error properties",p.properties),Ns.debug(e,"request.error measurements",p.measurements),A0(e,"request.error",p),T}).finally(()=>{gj(e,t,p)})}s(Jre,"fetchWithInstrumentation");function Xre(e){return yj(e,async t=>t.completionText.trim().length>0)}s(Xre,"postProcessChoices");var lI=class lI extends dd{async fetchAndStreamCompletions(t,r,n,i,o,a){let l=t.get(Ql),f="completions",c=await this.fetchWithParameters(t,f,r,n,o,a);if(c==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o!=null&&o.isCancellationRequested){let y=await c.body();try{y.destroy()}catch(_){Ns.exception(t,_,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(c===void 0){let y=this.createTelemetryData(f,t,r);return l.setWarning(),y.properties.error="Response was undefined",A0(t,"request.shownWarning",y),{type:"failed",reason:"fetch response was undefined"}}if(c.status!==200){let y=this.createTelemetryData(f,t,r);return this.handleError(t,l,y,c)}let u=t.get(cn).dropCompletionReasons(n),g=(await vp.create(t,r.count,c,n,u,o)).processSSE(i),p=pj(g,async y=>bj(t,y,n));return{type:"success",choices:Xre(p),getProcessingTime:()=>Gre(c)}}createTelemetryData(t,r,n){return cr.createAndMarkAsIssued({endpoint:t,engineName:oI(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,o,a){let l=t.get(cn).disableLogProb(i),f={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:Ww(t),temperature:Kw(t,n.count),top_p:_j(t),n:n.count,stop:xj(t,n.languageId)};(n.requestLogProbs||!l)&&(f.logprobs=2);let c=_8(n.repoInfo);return c!==void 0&&(f.nwo=c),n.postOptions&&Object.assign(f,n.postOptions),await new Promise((d,g)=>{setImmediate(d)}),o!=null&&o.isCancellationRequested?"not-sent":await Jre(t,n.prompt,n.engineUrl,r,n.ourRequestId,f,(await t.get(Di).getCopilotToken(t)).token,n.uiKind,o,a,n.headers)}async handleError(t,r,n,i){if(r.setWarning(),n.properties.error=`Response status was ${i.status}`,n.properties.status=String(i.status),A0(t,"request.shownWarning",n),i.status===401||i.status===403)return t.get(Di).resetCopilotToken(t,i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`};if(i.status===499)return Ns.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let o=await i.text();return i.status===466?(r.setError(o),Ns.info(t,o),{type:"failed",reason:`client not supported: ${o}`}):(Ns.error(t,"Unhandled status from server:",i.status,o),{type:"failed",reason:`unhandled status from server: ${i.status} ${o}`})}};s(lI,"LiveOpenAIFetcher");var I8=lI;var A8=class A8{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(A8.isIncremental(n)){let i=Ej(n.range),o=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),f=Math.max(i.end.line,0),c=this._lineOffsets,u=Tj(n.text,!1,o);if(f-l===u.length)for(let g=0,p=u.length;g<p;g++)c[g+l+1]=u[g];else u.length<1e4?c.splice(l+1,f-l,...u):this._lineOffsets=c=c.slice(0,l+1).concat(u,c.slice(f+1));let d=n.text.length-(a-o);if(d!==0)for(let g=l+1+u.length,p=c.length;g<p;g++)c[g]=c[g]+d}else if(A8.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Tj(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return{line:o,character:t-r[o]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};s(A8,"FullTextDocument");var _p=A8,fI;(function(e){function t(i,o,a,l){return new _p(i,o,a,l)}s(t,"create"),e.create=t;function r(i,o,a){if(i instanceof _p)return i.update(o,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),e.update=r;function n(i,o){let a=i.getText(),l=cI(o.map(Qre),(u,d)=>{let g=u.range.start.line-d.range.start.line;return g===0?u.range.start.character-d.range.start.character:g}),f=0,c=[];for(let u of l){let d=i.offsetAt(u.range.start);if(d<f)throw new Error("Overlapping edit");d>f&&c.push(a.substring(f,d)),u.newText.length&&c.push(u.newText),f=i.offsetAt(u.range.end)}return c.push(a.substr(f)),c.join("")}s(n,"applyEdits"),e.applyEdits=n})(fI||(fI={}));function cI(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);cI(n,t),cI(i,t);let o=0,a=0,l=0;for(;o<n.length&&a<i.length;)t(n[o],i[a])<=0?e[l++]=n[o++]:e[l++]=i[a++];for(;o<n.length;)e[l++]=n[o++];for(;a<i.length;)e[l++]=i[a++];return e}s(cI,"mergeSort");function Tj(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);(o===13||o===10)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}s(Tj,"computeLineOffsets");function Ej(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}s(Ej,"getWellformedRange");function Qre(e){let t=Ej(e.range);return t!==e.range?{newText:e.newText,range:t}:e}s(Qre,"getWellformedEdit");var Sj;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(Sj||(Sj={}));var uI;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(uI||(uI={}));var wj;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(wj||(wj={}));var bp;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(bp||(bp={}));var lo;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=bp.MAX_VALUE),i===Number.MAX_VALUE&&(i=bp.MAX_VALUE),{line:n,character:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.uinteger(i.line)&&Re.uinteger(i.character)}s(r,"is"),e.is=r})(lo||(lo={}));var Hr;(function(e){function t(n,i,o,a){if(Re.uinteger(n)&&Re.uinteger(i)&&Re.uinteger(o)&&Re.uinteger(a))return{start:lo.create(n,i),end:lo.create(o,a)};if(lo.is(n)&&lo.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${a}]`)}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&lo.is(i.start)&&lo.is(i.end)}s(r,"is"),e.is=r})(Hr||(Hr={}));var Cp;(function(e){function t(n,i){return{uri:n,range:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Hr.is(i.range)&&(Re.string(i.uri)||Re.undefined(i.uri))}s(r,"is"),e.is=r})(Cp||(Cp={}));var Ij;(function(e){function t(n,i,o,a){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Hr.is(i.targetRange)&&Re.string(i.targetUri)&&Hr.is(i.targetSelectionRange)&&(Hr.is(i.originSelectionRange)||Re.undefined(i.originSelectionRange))}s(r,"is"),e.is=r})(Ij||(Ij={}));var dI;(function(e){function t(n,i,o,a){return{red:n,green:i,blue:o,alpha:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.numberRange(i.red,0,1)&&Re.numberRange(i.green,0,1)&&Re.numberRange(i.blue,0,1)&&Re.numberRange(i.alpha,0,1)}s(r,"is"),e.is=r})(dI||(dI={}));var Aj;(function(e){function t(n,i){return{range:n,color:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Hr.is(i.range)&&dI.is(i.color)}s(r,"is"),e.is=r})(Aj||(Aj={}));var Pj;(function(e){function t(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.string(i.label)&&(Re.undefined(i.textEdit)||J3.is(i))&&(Re.undefined(i.additionalTextEdits)||Re.typedArray(i.additionalTextEdits,J3.is))}s(r,"is"),e.is=r})(Pj||(Pj={}));var Rj;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Rj||(Rj={}));var kj;(function(e){function t(n,i,o,a,l,f){let c={startLine:n,endLine:i};return Re.defined(o)&&(c.startCharacter=o),Re.defined(a)&&(c.endCharacter=a),Re.defined(l)&&(c.kind=l),Re.defined(f)&&(c.collapsedText=f),c}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.uinteger(i.startLine)&&Re.uinteger(i.startLine)&&(Re.undefined(i.startCharacter)||Re.uinteger(i.startCharacter))&&(Re.undefined(i.endCharacter)||Re.uinteger(i.endCharacter))&&(Re.undefined(i.kind)||Re.string(i.kind))}s(r,"is"),e.is=r})(kj||(kj={}));var hI;(function(e){function t(n,i){return{location:n,message:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Cp.is(i.location)&&Re.string(i.message)}s(r,"is"),e.is=r})(hI||(hI={}));var Nj;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Nj||(Nj={}));var Dj;(function(e){e.Unnecessary=1,e.Deprecated=2})(Dj||(Dj={}));var Lj;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&Re.string(n.href)}s(t,"is"),e.is=t})(Lj||(Lj={}));var Tp;(function(e){function t(n,i,o,a,l,f){let c={range:n,message:i};return Re.defined(o)&&(c.severity=o),Re.defined(a)&&(c.code=a),Re.defined(l)&&(c.source=l),Re.defined(f)&&(c.relatedInformation=f),c}s(t,"create"),e.create=t;function r(n){var i;let o=n;return Re.defined(o)&&Hr.is(o.range)&&Re.string(o.message)&&(Re.number(o.severity)||Re.undefined(o.severity))&&(Re.integer(o.code)||Re.string(o.code)||Re.undefined(o.code))&&(Re.undefined(o.codeDescription)||Re.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(Re.string(o.source)||Re.undefined(o.source))&&(Re.undefined(o.relatedInformation)||Re.typedArray(o.relatedInformation,hI.is))}s(r,"is"),e.is=r})(Tp||(Tp={}));var Y3;(function(e){function t(n,i,...o){let a={title:n,command:i};return Re.defined(o)&&o.length>0&&(a.arguments=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.title)&&Re.string(i.command)}s(r,"is"),e.is=r})(Y3||(Y3={}));var J3;(function(e){function t(o,a){return{range:o,newText:a}}s(t,"replace"),e.replace=t;function r(o,a){return{range:{start:o,end:o},newText:a}}s(r,"insert"),e.insert=r;function n(o){return{range:o,newText:""}}s(n,"del"),e.del=n;function i(o){let a=o;return Re.objectLiteral(a)&&Re.string(a.newText)&&Hr.is(a.range)}s(i,"is"),e.is=i})(J3||(J3={}));var mI;(function(e){function t(n,i,o){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Re.string(i.label)&&(Re.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Re.string(i.description)||i.description===void 0)}s(r,"is"),e.is=r})(mI||(mI={}));var X3;(function(e){function t(r){let n=r;return Re.string(n)}s(t,"is"),e.is=t})(X3||(X3={}));var Bj;(function(e){function t(o,a,l){return{range:o,newText:a,annotationId:l}}s(t,"replace"),e.replace=t;function r(o,a,l){return{range:{start:o,end:o},newText:a,annotationId:l}}s(r,"insert"),e.insert=r;function n(o,a){return{range:o,newText:"",annotationId:a}}s(n,"del"),e.del=n;function i(o){let a=o;return J3.is(a)&&(mI.is(a.annotationId)||X3.is(a.annotationId))}s(i,"is"),e.is=i})(Bj||(Bj={}));var gI;(function(e){function t(n,i){return{textDocument:n,edits:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&_I.is(i.textDocument)&&Array.isArray(i.edits)}s(r,"is"),e.is=r})(gI||(gI={}));var pI;(function(e){function t(n,i,o){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Re.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Re.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Re.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||X3.is(i.annotationId))}s(r,"is"),e.is=r})(pI||(pI={}));var yI;(function(e){function t(n,i,o,a){let l={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(l.options=o),a!==void 0&&(l.annotationId=a),l}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Re.string(i.oldUri)&&Re.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Re.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Re.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||X3.is(i.annotationId))}s(r,"is"),e.is=r})(yI||(yI={}));var vI;(function(e){function t(n,i,o){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Re.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Re.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Re.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||X3.is(i.annotationId))}s(r,"is"),e.is=r})(vI||(vI={}));var xI;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Re.string(i.kind)?pI.is(i)||yI.is(i)||vI.is(i):gI.is(i)))}s(t,"is"),e.is=t})(xI||(xI={}));var Oj;(function(e){function t(n){return{uri:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)}s(r,"is"),e.is=r})(Oj||(Oj={}));var Fj;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&Re.integer(i.version)}s(r,"is"),e.is=r})(Fj||(Fj={}));var _I;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&(i.version===null||Re.integer(i.version))}s(r,"is"),e.is=r})(_I||(_I={}));var Mj;(function(e){function t(n,i,o,a){return{uri:n,languageId:i,version:o,text:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.string(i.uri)&&Re.string(i.languageId)&&Re.integer(i.version)&&Re.string(i.text)}s(r,"is"),e.is=r})(Mj||(Mj={}));var bI;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}s(t,"is"),e.is=t})(bI||(bI={}));var P8;(function(e){function t(r){let n=r;return Re.objectLiteral(r)&&bI.is(n.kind)&&Re.string(n.value)}s(t,"is"),e.is=t})(P8||(P8={}));var Uj;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Uj||(Uj={}));var qj;(function(e){e.PlainText=1,e.Snippet=2})(qj||(qj={}));var jj;(function(e){e.Deprecated=1})(jj||(jj={}));var $j;(function(e){function t(n,i,o){return{newText:n,insert:i,replace:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.newText)&&Hr.is(i.insert)&&Hr.is(i.replace)}s(r,"is"),e.is=r})($j||($j={}));var Hj;(function(e){e.asIs=1,e.adjustIndentation=2})(Hj||(Hj={}));var Vj;(function(e){function t(r){let n=r;return n&&(Re.string(n.detail)||n.detail===void 0)&&(Re.string(n.description)||n.description===void 0)}s(t,"is"),e.is=t})(Vj||(Vj={}));var zj;(function(e){function t(r){return{label:r}}s(t,"create"),e.create=t})(zj||(zj={}));var Kj;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}s(t,"create"),e.create=t})(Kj||(Kj={}));var Ep;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Re.string(i)||Re.objectLiteral(i)&&Re.string(i.language)&&Re.string(i.value)}s(r,"is"),e.is=r})(Ep||(Ep={}));var Wj;(function(e){function t(r){let n=r;return!!n&&Re.objectLiteral(n)&&(P8.is(n.contents)||Ep.is(n.contents)||Re.typedArray(n.contents,Ep.is))&&(r.range===void 0||Hr.is(r.range))}s(t,"is"),e.is=t})(Wj||(Wj={}));var Gj;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}s(t,"create"),e.create=t})(Gj||(Gj={}));var Yj;(function(e){function t(r,n,...i){let o={label:r};return Re.defined(n)&&(o.documentation=n),Re.defined(i)?o.parameters=i:o.parameters=[],o}s(t,"create"),e.create=t})(Yj||(Yj={}));var Jj;(function(e){e.Text=1,e.Read=2,e.Write=3})(Jj||(Jj={}));var Xj;(function(e){function t(r,n){let i={range:r};return Re.number(n)&&(i.kind=n),i}s(t,"create"),e.create=t})(Xj||(Xj={}));var Qj;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Qj||(Qj={}));var Zj;(function(e){e.Deprecated=1})(Zj||(Zj={}));var e$;(function(e){function t(r,n,i,o,a){let l={name:r,kind:n,location:{uri:o,range:i}};return a&&(l.containerName=a),l}s(t,"create"),e.create=t})(e$||(e$={}));var t$;(function(e){function t(r,n,i,o){return o!==void 0?{name:r,kind:n,location:{uri:i,range:o}}:{name:r,kind:n,location:{uri:i}}}s(t,"create"),e.create=t})(t$||(t$={}));var r$;(function(e){function t(n,i,o,a,l,f){let c={name:n,detail:i,kind:o,range:a,selectionRange:l};return f!==void 0&&(c.children=f),c}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.name)&&Re.number(i.kind)&&Hr.is(i.range)&&Hr.is(i.selectionRange)&&(i.detail===void 0||Re.string(i.detail))&&(i.deprecated===void 0||Re.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}s(r,"is"),e.is=r})(r$||(r$={}));var n$;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(n$||(n$={}));var Sp;(function(e){e.Invoked=1,e.Automatic=2})(Sp||(Sp={}));var i$;(function(e){function t(n,i,o){let a={diagnostics:n};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.typedArray(i.diagnostics,Tp.is)&&(i.only===void 0||Re.typedArray(i.only,Re.string))&&(i.triggerKind===void 0||i.triggerKind===Sp.Invoked||i.triggerKind===Sp.Automatic)}s(r,"is"),e.is=r})(i$||(i$={}));var s$;(function(e){function t(n,i,o){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):Y3.is(i)?a.command=i:a.edit=i,l&&o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Re.string(i.title)&&(i.diagnostics===void 0||Re.typedArray(i.diagnostics,Tp.is))&&(i.kind===void 0||Re.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Y3.is(i.command))&&(i.isPreferred===void 0||Re.boolean(i.isPreferred))&&(i.edit===void 0||xI.is(i.edit))}s(r,"is"),e.is=r})(s$||(s$={}));var o$;(function(e){function t(n,i){let o={range:n};return Re.defined(i)&&(o.data=i),o}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Hr.is(i.range)&&(Re.undefined(i.command)||Y3.is(i.command))}s(r,"is"),e.is=r})(o$||(o$={}));var a$;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Re.uinteger(i.tabSize)&&Re.boolean(i.insertSpaces)}s(r,"is"),e.is=r})(a$||(a$={}));var l$;(function(e){function t(n,i,o){return{range:n,target:i,data:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Hr.is(i.range)&&(Re.undefined(i.target)||Re.string(i.target))}s(r,"is"),e.is=r})(l$||(l$={}));var f$;(function(e){function t(n,i){return{range:n,parent:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&Hr.is(i.range)&&(i.parent===void 0||e.is(i.parent))}s(r,"is"),e.is=r})(f$||(f$={}));var c$;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(c$||(c$={}));var u$;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(u$||(u$={}));var d$;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(t,"is"),e.is=t})(d$||(d$={}));var h$;(function(e){function t(n,i){return{range:n,text:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Hr.is(i.range)&&Re.string(i.text)}s(r,"is"),e.is=r})(h$||(h$={}));var m$;(function(e){function t(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Hr.is(i.range)&&Re.boolean(i.caseSensitiveLookup)&&(Re.string(i.variableName)||i.variableName===void 0)}s(r,"is"),e.is=r})(m$||(m$={}));var g$;(function(e){function t(n,i){return{range:n,expression:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Hr.is(i.range)&&(Re.string(i.expression)||i.expression===void 0)}s(r,"is"),e.is=r})(g$||(g$={}));var p$;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.defined(i)&&Hr.is(n.stoppedLocation)}s(r,"is"),e.is=r})(p$||(p$={}));var CI;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(CI||(CI={}));var TI;(function(e){function t(n){return{value:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&(i.tooltip===void 0||Re.string(i.tooltip)||P8.is(i.tooltip))&&(i.location===void 0||Cp.is(i.location))&&(i.command===void 0||Y3.is(i.command))}s(r,"is"),e.is=r})(TI||(TI={}));var y$;(function(e){function t(n,i,o){let a={position:n,label:i};return o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Re.objectLiteral(i)&&lo.is(i.position)&&(Re.string(i.label)||Re.typedArray(i.label,TI.is))&&(i.kind===void 0||CI.is(i.kind))&&i.textEdits===void 0||Re.typedArray(i.textEdits,J3.is)&&(i.tooltip===void 0||Re.string(i.tooltip)||P8.is(i.tooltip))&&(i.paddingLeft===void 0||Re.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Re.boolean(i.paddingRight))}s(r,"is"),e.is=r})(y$||(y$={}));var v$;(function(e){function t(r){return{kind:"snippet",value:r}}s(t,"createSnippet"),e.createSnippet=t})(v$||(v$={}));var x$;(function(e){function t(r,n,i,o){return{insertText:r,filterText:n,range:i,command:o}}s(t,"create"),e.create=t})(x$||(x$={}));var _$;(function(e){function t(r){return{items:r}}s(t,"create"),e.create=t})(_$||(_$={}));var b$;(function(e){e.Invoked=0,e.Automatic=1})(b$||(b$={}));var C$;(function(e){function t(r,n){return{range:r,text:n}}s(t,"create"),e.create=t})(C$||(C$={}));var T$;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(t,"create"),e.create=t})(T$||(T$={}));var E$;(function(e){function t(r){let n=r;return Re.objectLiteral(n)&&uI.is(n.uri)&&Re.string(n.name)}s(t,"is"),e.is=t})(E$||(E$={}));var S$;(function(e){function t(o,a,l,f){return new EI(o,a,l,f)}s(t,"create"),e.create=t;function r(o){let a=o;return!!(Re.defined(a)&&Re.string(a.uri)&&(Re.undefined(a.languageId)||Re.string(a.languageId))&&Re.uinteger(a.lineCount)&&Re.func(a.getText)&&Re.func(a.positionAt)&&Re.func(a.offsetAt))}s(r,"is"),e.is=r;function n(o,a){let l=o.getText(),f=i(a,(u,d)=>{let g=u.range.start.line-d.range.start.line;return g===0?u.range.start.character-d.range.start.character:g}),c=l.length;for(let u=f.length-1;u>=0;u--){let d=f[u],g=o.offsetAt(d.range.start),p=o.offsetAt(d.range.end);if(p<=c)l=l.substring(0,g)+d.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");c=g}return l}s(n,"applyEdits"),e.applyEdits=n;function i(o,a){if(o.length<=1)return o;let l=o.length/2|0,f=o.slice(0,l),c=o.slice(l);i(f,a),i(c,a);let u=0,d=0,g=0;for(;u<f.length&&d<c.length;)a(f[u],c[d])<=0?o[g++]=f[u++]:o[g++]=c[d++];for(;u<f.length;)o[g++]=f[u++];for(;d<c.length;)o[g++]=c[d++];return o}s(i,"mergeSort")})(S$||(S$={}));var SI=class SI{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return lo.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return lo.create(o,t-r[o])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};s(SI,"FullTextDocument");var EI=SI,Re;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}s(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}s(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}s(i,"boolean"),e.boolean=i;function o(p){return t.call(p)==="[object String]"}s(o,"string"),e.string=o;function a(p){return t.call(p)==="[object Number]"}s(a,"number"),e.number=a;function l(p,y,_){return t.call(p)==="[object Number]"&&y<=p&&p<=_}s(l,"numberRange"),e.numberRange=l;function f(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}s(f,"integer"),e.integer=f;function c(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}s(c,"uinteger"),e.uinteger=c;function u(p){return t.call(p)==="[object Function]"}s(u,"func"),e.func=u;function d(p){return p!==null&&typeof p=="object"}s(d,"objectLiteral"),e.objectLiteral=d;function g(p,y){return Array.isArray(p)&&p.every(y)}s(g,"typedArray"),e.typedArray=g})(Re||(Re={}));wc();var Zre=["isEmptyBlockStart","isBlockBodyFinished","getNodeStart"],ene=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],upe=[...Zre,...ene];var rne=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),vpe=new RegExp(`^(${rne.join("|")})`);wc();function nne(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}s(nne,"isDocumentTooLarge");async function wp(e,t){var n;if(nne(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(hd).evaluate(t.vscodeUri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}s(wp,"isDocumentValid");var ine=require("path"),wI=class wI{constructor(t){this.ctx=t}async textDocuments(){let t=this.getOpenTextDocuments(),r=[];for(let n of t)(await wp(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return t?wp(this.ctx,t).catch(()=>this.notFoundResult(r)):this.notFoundResult(r)}async getTextDocumentWithValidation(t){try{let n=this.getOpenTextDocuments().find(i=>i.vscodeUri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):wp(this.ctx,n)}catch{return await this.notFoundResult(t)}}getOpenTextDocumentWithValidation(t){let n=this.getOpenTextDocuments().find(i=>i.vscodeUri.toString()==t.toString());if(n){let i;return{then:(o,a)=>(i!=null||(i=this.validateTextDocument(n,t)),i.then(o,a))}}else return this.notFoundResult(t)}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.vscodeUri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.vscodeUri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return ine.basename(t.vscodeUri.fsPath)}}};s(wI,"TextDocumentManager");var Ds=wI;var R8={isBlocked:!1,reason:"VALID_FILE"},Ip={isBlocked:!1,reason:"NO_MATCHING_POLICY"},I$={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var II=new I0(3,"contentExclusion");var AI=class AI{};s(AI,"PolicyEvaluator");var Ap=AI;var Nn=U0(ws());var Pp=new WeakMap;function Rp(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,o=Object.prototype.toString.call(e);if(o!=="[object RegExp]"&&o!=="[object Date]"&&Pp.has(e))return Pp.get(e);switch(Pp.set(e,"~"+ ++t),o){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=Rp(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+Rp(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+Rp(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return Pp.set(e,n),n}s(Rp,"t");function kp(e){return Rp(e,0)}s(kp,"r");var PI=new WeakMap;function A$(e,t,r=kp(t)){let n,i,o=PI.get(e);o||(PI.set(e,o=[[],i=[],n=[]]),queueMicrotask(function(){let c,u=0;function d(g){for(;c=n[u++];c.r(g));}s(d,"o"),PI.delete(e),e(i).then(function(g){if(g.length!==n.length)return d(new Error("loader value length mismatch"));for(;c=g[u++],u<=g.length;c instanceof Error?n[u-1].r(c):n[u-1].s(c));},d)}));let a=o[0].indexOf(r);if(~a)return o[2][a].p;let l=o[0].push(r)-1,f=o[2][l]={};return o[1][l]=t,f.p=new Promise(function(c,u){f.s=c,f.r=u})}s(A$,"n");var P$=new WeakMap;function sne(e,t,r,n=kp(r)){if(t||(t=P$.get(e)),t||P$.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=A$(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}s(sne,"n");function R$(e,t){return function(r,n){return sne(e,t,r,n)}}s(R$,"o");var Z$=U0(H$(),1);var N8=s(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var hne={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},D8=s(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),mne=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),V$=s(e=>e.join(""),"rangesToString"),z$=s((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=r+1,a=!1,l=!1,f=!1,c=!1,u=r,d="";e:for(;o<e.length;){let _=e.charAt(o);if((_==="!"||_==="^")&&o===r+1){c=!0,o++;continue}if(_==="]"&&a&&!f){u=o+1;break}if(a=!0,_==="\\"&&!f){f=!0,o++;continue}if(_==="["&&!f){for(let[S,[T,I,P]]of Object.entries(hne))if(e.startsWith(S,o)){if(d)return["$.",!1,e.length-r,!0];o+=S.length,P?i.push(T):n.push(T),l=l||I;continue e}}if(f=!1,d){_>d?n.push(D8(d)+"-"+D8(_)):_===d&&n.push(D8(_)),d="",o++;continue}if(e.startsWith("-]",o+1)){n.push(D8(_+"-")),o+=2;continue}if(e.startsWith("-",o+1)){d=_,o+=2;continue}n.push(D8(_)),o++}if(u<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let _=n[0].length===2?n[0].slice(-1):n[0];return[mne(_),!1,u-r,!1]}let g="["+(c?"^":"")+V$(n)+"]",p="["+(c?"":"^")+V$(i)+"]";return[n.length&&i.length?"("+g+"|"+p+")":n.length?g:p,l,u-r,!0]},"parseClass");var Oc=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var gne=new Set(["!","?","+","*","@"]),K$=s(e=>gne.has(e),"isExtglobType"),pne="(?!(?:^|/)\\.\\.?(?:$|/))",Np="(?!\\.)",yne=new Set(["[","."]),vne=new Set(["..","."]),xne=new Set("().*{}+?[]^$\\!"),_ne=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),DI="[^/]",W$=DI+"*?",G$=DI+"+?",xn,Rn,Zl,Pr,un,Fc,md,Mc,ef,gd,L8,Lp,Y$,Q3,Dp,B8,NI,Bp,J$,ri=class ri{constructor(t,r,n={}){H0(this,Lp);H0(this,B8);tn(this,"type");H0(this,xn,void 0);H0(this,Rn,void 0);H0(this,Zl,!1);H0(this,Pr,[]);H0(this,un,void 0);H0(this,Fc,void 0);H0(this,md,void 0);H0(this,Mc,!1);H0(this,ef,void 0);H0(this,gd,void 0);H0(this,L8,!1);this.type=t,t&&L0(this,Rn,!0),L0(this,un,r),L0(this,xn,We(this,un)?We(We(this,un),xn):this),L0(this,ef,We(this,xn)===this?n:We(We(this,xn),ef)),L0(this,md,We(this,xn)===this?[]:We(We(this,xn),md)),t==="!"&&!We(We(this,xn),Mc)&&We(this,md).push(this),L0(this,Fc,We(this,un)?We(We(this,un),Pr).length:0)}get hasMagic(){if(We(this,Rn)!==void 0)return We(this,Rn);for(let t of We(this,Pr))if(typeof t!="string"&&(t.type||t.hasMagic))return L0(this,Rn,!0);return We(this,Rn)}toString(){return We(this,gd)!==void 0?We(this,gd):this.type?L0(this,gd,this.type+"("+We(this,Pr).map(t=>String(t)).join("|")+")"):L0(this,gd,We(this,Pr).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof ri&&We(r,un)===this))throw new Error("invalid part: "+r);We(this,Pr).push(r)}}toJSON(){var r;let t=this.type===null?We(this,Pr).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...We(this,Pr).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===We(this,xn)||We(We(this,xn),Mc)&&((r=We(this,un))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(We(this,xn)===this)return!0;if(!((r=We(this,un))!=null&&r.isStart()))return!1;if(We(this,Fc)===0)return!0;let t=We(this,un);for(let n=0;n<We(this,Fc);n++){let i=We(t,Pr)[n];if(!(i instanceof ri&&i.type==="!"))return!1}return!0}isEnd(){var r,n,i;if(We(this,xn)===this||((r=We(this,un))==null?void 0:r.type)==="!")return!0;if(!((n=We(this,un))!=null&&n.isEnd()))return!1;if(!this.type)return(i=We(this,un))==null?void 0:i.isEnd();let t=We(this,un)?We(We(this,un),Pr).length:0;return We(this,Fc)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new ri(this.type,t);for(let n of We(this,Pr))r.copyIn(n);return r}static fromGlob(t,r={}){var i;let n=new ri(null,void 0,r);return Xi(i=ri,Q3,Dp).call(i,t,n,0,r),n}toMMPattern(){if(this!==We(this,xn))return We(this,xn).toMMPattern();let t=this.toString(),[r,n,i,o]=this.toRegExpSource();if(!(i||We(this,Rn)||We(this,ef).nocase&&!We(this,ef).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(We(this,ef).nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}toRegExpSource(t){var f;let r=t!=null?t:!!We(this,ef).dot;if(We(this,xn)===this&&Xi(this,Lp,Y$).call(this),!this.type){let c=this.isStart()&&this.isEnd(),u=We(this,Pr).map(y=>{var P;let[_,S,T,I]=typeof y=="string"?Xi(P=ri,Bp,J$).call(P,y,We(this,Rn),c):y.toRegExpSource(t);return L0(this,Rn,We(this,Rn)||T),L0(this,Zl,We(this,Zl)||I),_}).join(""),d="";if(this.isStart()&&typeof We(this,Pr)[0]=="string"&&!(We(this,Pr).length===1&&vne.has(We(this,Pr)[0]))){let _=yne,S=r&&_.has(u.charAt(0))||u.startsWith("\\.")&&_.has(u.charAt(2))||u.startsWith("\\.\\.")&&_.has(u.charAt(4)),T=!r&&!t&&_.has(u.charAt(0));d=S?pne:T?Np:""}let g="";return this.isEnd()&&We(We(this,xn),Mc)&&((f=We(this,un))==null?void 0:f.type)==="!"&&(g="(?:$|\\/)"),[d+u+g,Oc(u),L0(this,Rn,!!We(this,Rn)),We(this,Zl)]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=Xi(this,B8,NI).call(this,r);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return L0(this,Pr,[c]),this.type=null,L0(this,Rn,void 0),[c,Oc(this.toString()),!1,!1]}let a=!n||t||r||!Np?"":Xi(this,B8,NI).call(this,!0);a===o&&(a=""),a&&(o=`(?:${o})(?:${a})*?`);let l="";if(this.type==="!"&&We(this,L8))l=(this.isStart()&&!r?Np:"")+G$;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?Np:"")+W$+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+o+c}return[l,Oc(o),L0(this,Rn,!!We(this,Rn)),We(this,Zl)]}};xn=new WeakMap,Rn=new WeakMap,Zl=new WeakMap,Pr=new WeakMap,un=new WeakMap,Fc=new WeakMap,md=new WeakMap,Mc=new WeakMap,ef=new WeakMap,gd=new WeakMap,L8=new WeakMap,Lp=new WeakSet,Y$=s(function(){if(this!==We(this,xn))throw new Error("should only call on root");if(We(this,Mc))return this;this.toString(),L0(this,Mc,!0);let t;for(;t=We(this,md).pop();){if(t.type!=="!")continue;let r=t,n=We(r,un);for(;n;){for(let i=We(r,Fc)+1;!n.type&&i<We(n,Pr).length;i++)for(let o of We(t,Pr)){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(We(n,Pr)[i])}r=n,n=We(r,un)}}return this},"#fillNegs"),Q3=new WeakSet,Dp=s(function(t,r,n,i){var p,y;let o=!1,a=!1,l=-1,f=!1;if(r.type===null){let _=n,S="";for(;_<t.length;){let T=t.charAt(_++);if(o||T==="\\"){o=!o,S+=T;continue}if(a){_===l+1?(T==="^"||T==="!")&&(f=!0):T==="]"&&!(_===l+2&&f)&&(a=!1),S+=T;continue}else if(T==="["){a=!0,l=_,f=!1,S+=T;continue}if(!i.noext&&K$(T)&&t.charAt(_)==="("){r.push(S),S="";let I=new ri(T,r);_=Xi(p=ri,Q3,Dp).call(p,t,I,_,i),r.push(I);continue}S+=T}return r.push(S),_}let c=n+1,u=new ri(null,r),d=[],g="";for(;c<t.length;){let _=t.charAt(c++);if(o||_==="\\"){o=!o,g+=_;continue}if(a){c===l+1?(_==="^"||_==="!")&&(f=!0):_==="]"&&!(c===l+2&&f)&&(a=!1),g+=_;continue}else if(_==="["){a=!0,l=c,f=!1,g+=_;continue}if(K$(_)&&t.charAt(c)==="("){u.push(g),g="";let S=new ri(_,u);u.push(S),c=Xi(y=ri,Q3,Dp).call(y,t,S,c,i);continue}if(_==="|"){u.push(g),g="",d.push(u),u=new ri(null,r);continue}if(_===")")return g===""&&We(r,Pr).length===0&&L0(r,L8,!0),u.push(g),g="",r.push(...d,u),c;g+=_}return r.type=null,L0(r,Rn,void 0),L0(r,Pr,[t.substring(n-1)]),c},"#parseAST"),B8=new WeakSet,NI=s(function(t){return We(this,Pr).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,o,a]=r.toRegExpSource(t);return L0(this,Zl,We(this,Zl)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),Bp=new WeakSet,J$=s(function(t,r,n=!1){let i=!1,o="",a=!1;for(let l=0;l<t.length;l++){let f=t.charAt(l);if(i){i=!1,o+=(xne.has(f)?"\\":"")+f;continue}if(f==="\\"){l===t.length-1?o+="\\\\":i=!0;continue}if(f==="["){let[c,u,d,g]=z$(t,l);if(d){o+=c,a=a||u,l+=d-1,r=r||g;continue}}if(f==="*"){n&&t==="*"?o+=G$:o+=W$,r=!0;continue}if(f==="?"){o+=DI,r=!0;continue}o+=_ne(f)}return[o,Oc(t),!!r,a]},"#parseGlob"),H0(ri,Q3),H0(ri,Bp),s(ri,"AST");var Z3=ri;var LI=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ni=s((e,t,r={})=>(N8(t),!r.nocomment&&t.charAt(0)==="#"?!1:new e2(t,r).match(e)),"minimatch"),bne=/^\*+([^+@!?\*\[\(]*)$/,Cne=s(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),Tne=s(e=>t=>t.endsWith(e),"starDotExtTestDot"),Ene=s(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),Sne=s(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),wne=/^\*+\.\*+$/,Ine=s(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Ane=s(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),Pne=/^\.\*+$/,Rne=s(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),kne=/^\*+$/,Nne=s(e=>e.length!==0&&!e.startsWith("."),"starTest"),Dne=s(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),Lne=/^\?+([^+@!?\*\[\(]*)?$/,Bne=s(([e,t=""])=>{let r=eH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),One=s(([e,t=""])=>{let r=tH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),Fne=s(([e,t=""])=>{let r=tH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),Mne=s(([e,t=""])=>{let r=eH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),eH=s(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),tH=s(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),rH=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",X$={win32:{sep:"\\"},posix:{sep:"/"}},Une=rH==="win32"?X$.win32.sep:X$.posix.sep;ni.sep=Une;var co=Symbol("globstar **");ni.GLOBSTAR=co;var qne="[^/]",jne=qne+"*?",$ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Hne="(?:(?!(?:\\/|^)\\.).)*?",Vne=s((e,t={})=>r=>ni(r,e,t),"filter");ni.filter=Vne;var fo=s((e,t={})=>Object.assign({},e,t),"ext"),zne=s(e=>{var n,i;if(!e||typeof e!="object"||!Object.keys(e).length)return ni;let t=ni;return Object.assign(s((o,a,l={})=>t(o,a,fo(e,l)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(a,l={}){super(a,fo(e,l))}static defaults(a){return t.defaults(fo(e,a)).Minimatch}},s(n,"Minimatch"),n),AST:(i=class extends t.AST{constructor(a,l,f={}){super(a,l,fo(e,f))}static fromGlob(a,l={}){return t.AST.fromGlob(a,fo(e,l))}},s(i,"AST"),i),unescape:(o,a={})=>t.unescape(o,fo(e,a)),escape:(o,a={})=>t.escape(o,fo(e,a)),filter:(o,a={})=>t.filter(o,fo(e,a)),defaults:o=>t.defaults(fo(e,o)),makeRe:(o,a={})=>t.makeRe(o,fo(e,a)),braceExpand:(o,a={})=>t.braceExpand(o,fo(e,a)),match:(o,a,l={})=>t.match(o,a,fo(e,l)),sep:t.sep,GLOBSTAR:co})},"defaults");ni.defaults=zne;var nH=s((e,t={})=>(N8(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,Z$.default)(e)),"braceExpand");ni.braceExpand=nH;var Kne=s((e,t={})=>new e2(e,t).makeRe(),"makeRe");ni.makeRe=Kne;var Wne=s((e,t,r={})=>{let n=new e2(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");ni.match=Wne;var Q$=/[?*]|[+@!]\(.*?\)|\[|\]/,Gne=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),BI=class BI{constructor(t,r={}){tn(this,"options");tn(this,"set");tn(this,"pattern");tn(this,"windowsPathsNoEscape");tn(this,"nonegate");tn(this,"negate");tn(this,"comment");tn(this,"empty");tn(this,"preserveMultipleSlashes");tn(this,"partial");tn(this,"globSet");tn(this,"globParts");tn(this,"nocase");tn(this,"isWindows");tn(this,"platform");tn(this,"windowsNoMagicRoot");tn(this,"regexp");N8(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||rH,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let f=o[0]===""&&o[1]===""&&(o[2]==="?"||!Q$.test(o[2]))&&!Q$.test(o[3]),c=/^[a-z]:/i.test(o[0]);if(f)return[...o.slice(0,4),...o.slice(4).map(u=>this.parse(u))];if(c)return[o[0],...o.slice(1).map(u=>this.parse(u))]}return o.map(f=>this.parse(f))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let a=this.set[o];a[0]===""&&a[1]===""&&this.globParts[o][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let o=t[i];i===1&&o===""&&t[0]===""||(o==="."||o==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],f=n[i+2],c=n[i+3];if(l!==".."||!f||f==="."||f===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let u=n.slice(0);u[i]="**",t.push(u),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let a=n[o-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let f=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...f),n.length===0&&n.push(""),o-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);i&&(t[r]=i,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,o=0,a=[],l="";for(;i<t.length&&o<r.length;)if(t[i]===r[o])a.push(l==="b"?r[o]:t[i]),i++,o++;else if(n&&t[i]==="**"&&r[o]===t[i+1])a.push(t[i]),i++;else if(n&&r[o]==="**"&&t[i]===r[o+1])a.push(r[o]),o++;else if(t[i]==="*"&&r[o]&&(this.options.dot||!r[o].startsWith("."))&&r[o]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,o++}else if(r[o]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[o]),i++,o++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let _=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),S=!_&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),T=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),I=!T&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),P=S?3:_?0:void 0,U=I?3:T?0:void 0;if(typeof P=="number"&&typeof U=="number"){let[k,L]=[t[P],r[U]];k.toLowerCase()===L.toLowerCase()&&(r[U]=k,U>P?r=r.slice(U):P>U&&(t=t.slice(P)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,f=t.length,c=r.length;a<f&&l<c;a++,l++){this.debug("matchOne loop");var u=r[l],d=t[a];if(this.debug(r,u,d),u===!1)return!1;if(u===co){this.debug("GLOBSTAR",[r,u,d]);var g=a,p=l+1;if(p===c){for(this.debug("** at the end");a<f;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;g<f;){var y=t[g];if(this.debug(`
globstar while`,t,g,r,p,y),this.matchOne(t.slice(g),r.slice(p),n))return this.debug("globstar found match!",g,f,y),!0;if(y==="."||y===".."||!i.dot&&y.charAt(0)==="."){this.debug("dot detected!",t,g,r,p);break}this.debug("globstar swallow a segment, and continue"),g++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,g,r,p),g===f))}let _;if(typeof u=="string"?(_=d===u,this.debug("string match",u,d,_)):(_=u.test(d),this.debug("pattern match",u,d,_)),!_)return!1}if(a===f&&l===c)return!0;if(a===f)return n;if(l===c)return a===f-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return nH(this.pattern,this.options)}parse(t){N8(t);let r=this.options;if(t==="**")return co;if(t==="")return"";let n,i=null;(n=t.match(kne))?i=r.dot?Dne:Nne:(n=t.match(bne))?i=(r.nocase?r.dot?Sne:Ene:r.dot?Tne:Cne)(n[1]):(n=t.match(Lne))?i=(r.nocase?r.dot?One:Bne:r.dot?Fne:Mne)(n):(n=t.match(wne))?i=r.dot?Ane:Ine:(n=t.match(Pne))&&(i=Rne);let o=Z3.fromGlob(t,this.options).toMMPattern();return i?Object.assign(o,{test:i}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?jne:r.dot?$ne:Hne,i=new Set(r.nocase?["i"]:[]),o=t.map(f=>{let c=f.map(u=>{if(u instanceof RegExp)for(let d of u.flags.split(""))i.add(d);return typeof u=="string"?Gne(u):u===co?co:u._src});return c.forEach((u,d)=>{let g=c[d+1],p=c[d-1];u!==co||p===co||(p===void 0?g!==void 0&&g!==co?c[d+1]="(?:\\/|"+n+"\\/)?"+g:c[d]=n:g===void 0?c[d-1]=p+"(?:\\/|"+n+")?":g!==co&&(c[d-1]=p+"(?:\\/|\\/"+n+"\\/)"+g,c[d+1]=co))}),c.filter(u=>u!==co).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];o="^"+a+o+l+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<o.length;l++){let f=o[l],c=i;if(n.matchBase&&f.length===1&&(c=[a]),this.matchOne(c,f,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return ni.defaults(t).Minimatch}};s(BI,"Minimatch");var e2=BI;ni.AST=Z3;ni.Minimatch=e2;ni.escape=LI;ni.unescape=Oc;var pd=U0(ad());var iH=require("child_process");var Yne=new I0(3,"repository"),Mp=class Mp{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(o=>o.startsWith(n)&&o.endsWith(i)).map(o=>o.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(o=>r.add(n,o)),r),new Mp)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}};s(Mp,"GitConfigData");var t2=Mp,OI=class OI{};s(OI,"GitConfigLoader");var Ha=OI,FI=class FI extends Ha{runCommand(t,r,n){return new Promise((i,o)=>{(0,iH.execFile)(r,n,{cwd:t},(a,l)=>{a?o(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(o){Yne.info(t,`Failed to run command '${n}' in ${r}: ${o}`);return}}async getConfig(t,r){let n=await this.tryRunCommand(t,r.fsPath,"git",["config","--list","--null",...this.extraArgs()]);return n?this.extractConfig(n):void 0}extractConfig(t){let r=new t2;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],o=n.slice(i.length+1);r.add(i,o)}return r}extraArgs(){return[]}};s(FI,"GitCLIConfigLoader");var Op=FI,MI=class MI extends Ha{constructor(r){super();this.loaders=r}async getConfig(r,n){for(let i of this.loaders){let o=await i.getConfig(r,n);if(o)return o}}};s(MI,"GitFallbackConfigLoader");var Fp=MI;var sH=require("os"),UI=U0(ad());var qI=class qI{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){var t;return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test((t=this.hostname)!=null?t:"")}isADO(){var t;return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test((t=this.hostname)!=null?t:"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return UI.URI.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=UI.URI.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){var r,n,i,o,a;let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,sH.platform)()!=="win32"||((i=(n=(r=t.groups)==null?void 0:r.host)==null?void 0:n.length)!=null?i:0)>1)){let l=(a=(o=t.groups)==null?void 0:o.host)!=null?a:"";return this._scheme="ssh",this.setAuthority(l),this.setPath(this.url.substring(l.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};s(qI,"GitRemoteUrl");var Up=qI;var jI=class jI{async resolveRemote(t,r){var a,l,f,c;let n=await t.get(Ha).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),o=i.filter(u=>u.url.isGitHub());if(o.length)return(l=(a=o.find(u=>u.name==="origin"))==null?void 0:a.url)!=null?l:o[0].url;if(i.length)return(c=(f=i.find(u=>u.name==="origin"))==null?void 0:f.url)!=null?c:i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>{var i;return{name:n,url:new Up(this.applyInsteadOfRules(r,(i=t.get(`remote.${n}.url`))!=null?i:""))}}).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};s(jI,"GitRemoteResolver");var qp=jI;var Jne=100,HI=class HI{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){var t,r;return(r=(t=this.remote)==null?void 0:t.isGitHub())!=null?r:!1}isADO(){var t,r;return(r=(t=this.remote)==null?void 0:t.isADO())!=null?r:!1}setNWO(){var r,n,i,o,a,l,f,c,u,d;let t=(n=(r=this.remote)==null?void 0:r.path)==null?void 0:n.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t==null?void 0:t[0],this._name=(i=t==null?void 0:t[1])==null?void 0:i.replace(/\.git$/,"");let g=/^(?<tenant>[^.]+)\.ghe\.com$/.exec((a=(o=this.remote)==null?void 0:o.hostname)!=null?a:"");g&&(this._tenant=(l=g.groups)==null?void 0:l.tenant)}else if(this.isADO()&&(t==null?void 0:t.length)===4){if(((f=this.remote)==null?void 0:f.scheme)==="ssh"){this._adoOrganization=t==null?void 0:t[1],this._owner=t==null?void 0:t[2],this._name=t==null?void 0:t[3];return}let g=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec((u=(c=this.remote)==null?void 0:c.hostname)!=null?u:"");g?(this._adoOrganization=(d=g.groups)==null?void 0:d.org,this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3]):(this._adoOrganization=t==null?void 0:t[0],this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3])}}};s(HI,"GitRepository");var $I=HI,jp=class jp{constructor(t){this.ctx=t;this.remoteResolver=new qp;this.cache=new Lr(Jne)}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let o=this.cache.get(t.toString());return this.updateCache(n,o),o}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=Y7(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new $I(t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await jp.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(oo),i=pd.Utils.joinPath(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=pd.Utils.joinPath(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let o=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!o)return;let a=y8(r,o[1]),l=pd.Utils.joinPath(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let f=pd.Utils.joinPath(a,"config.worktree");if(await this.tryStat(t,f)!==void 0)return f;let c=pd.Utils.joinPath(a,"commondir");a=y8(a,(await t.readFileString(c)).trimEnd());let u=pd.Utils.joinPath(a,"config");return await t.stat(u),u}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};s(jp,"RepositoryManager");var tf=jp;var yA=U0(DH());var LH=s((e,t)=>{if(yA.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[...yA.Value.Errors(e,t)].map(i=>`${i.path} ${i.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var vA="contentExclusion",mo,vd,s2,my,OH,q8,j8,_A,bA=class bA extends Ap{constructor(r){super();H0(this,my);H0(this,j8);H0(this,mo,void 0);H0(this,vd,new Lr(1e4));H0(this,s2,new Lr(200));H0(this,q8,R$(async r=>{let n=await We(this,mo).get(Di).getGitHubSession(We(this,mo));if(!n)throw new Ou("No token found");let i=We(this,mo).get(ss).getContentRestrictionsUrl(n),o=new URL(i),a=r.includes("all");r.filter(u=>u!=="all").length>0&&o.searchParams.set("repos",r.filter(u=>u!=="all").join(",")),o.searchParams.set("scope",a?"all":"repo");let f=await We(this,mo).get(ti).fetch(o.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),c=await f.json();if(!f.ok){if(f.status===404)return Array.from(r,()=>[]);throw Xi(this,j8,_A).call(this,"fetch.error",{message:c.message}),new j3(f)}return Xi(this,j8,_A).call(this,"fetch.success"),LH(roe,c).map(u=>u.rules)},We(this,s2)));L0(this,mo,r)}async evaluate(r,n){var i,o,a;try{let l=await this.getGitRepo(r),f=await Xi(this,my,OH).call(this,(i=l==null?void 0:l.url)!=null?i:"all");if(!f)return Ip;let c=(a=(o=l==null?void 0:l.baseFolder)==null?void 0:o.path)!=null?a:"",u=await this.evaluateFilePathRules(r,c,f);if(u.isBlocked)return u;let d=await this.evaluateTextBasedRules(f,n);if(d.isBlocked)return d}catch(l){return Rc(We(this,mo),l,`${vA}.evaluate`),I$}return R8}async evaluateFilePathRules(r,n,i){let o=r.fsPath;if(We(this,vd).has(o))return We(this,vd).get(o);let a=R8,l=r.path.replace(n,"");e:for(let f of i)for(let c of f.paths)if(ni(l,c,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){a=xA(f,"FILE_BLOCKED_PATH");break e}return We(this,vd).set(o,a),a}async evaluateTextBasedRules(r,n){let i=r.filter(a=>a.ifAnyMatch),o=r.filter(a=>a.ifNoneMatch);return!n||i.length===0&&o.length===0?R8:this.evaluateFileContent(i,o,n)}async evaluateFileContent(r,n,i){for(let o of r)if(o.ifAnyMatch&&o.ifAnyMatch.length>0&&o.ifAnyMatch.map(l=>BH(l)).some(l=>l.test(i)))return xA(o,"FILE_BLOCKED_TEXT_BASED");for(let o of n)if(o.ifNoneMatch&&o.ifNoneMatch.length>0&&!o.ifNoneMatch.map(l=>BH(l)).some(l=>l.test(i)))return xA(o,"FILE_BLOCKED_TEXT_BASED");return R8}async refresh(){try{let r=[...We(this,s2).keys()];this.reset(),await Promise.all(r.map(n=>We(this,q8).call(this,n)))}catch(r){Rc(We(this,mo),r,`${vA}.refresh`)}}reset(){We(this,s2).clear(),We(this,vd).clear()}async getGitRepo(r){let i=await We(this,mo).get(tf).getRepo(Y7(r));if(!i||!(i!=null&&i.remote))return;let o=i.remote.getUrlForApi();if(o)return{baseFolder:i.baseFolder,url:o}}};mo=new WeakMap,vd=new WeakMap,s2=new WeakMap,my=new WeakSet,OH=s(async function(r){let n=await We(this,q8).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForScope"),q8=new WeakMap,j8=new WeakSet,_A=s(function(r,n,i){A0(We(this,mo),`${vA}.${r}`,cr.createAndMarkAsIssued(n,i))},"#telemetry"),s(bA,"CopilotContentExclusion");var hy=bA;function BH(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}s(BH,"stringToRegex");function xA(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}s(xA,"fileBlockedEvaluationResult");var Qse=Nn.Type.Object({name:Nn.Type.String(),type:Nn.Type.String()}),Zse=Nn.Type.Object({paths:Nn.Type.Array(Nn.Type.String()),ifNoneMatch:Nn.Type.Optional(Nn.Type.Array(Nn.Type.String())),ifAnyMatch:Nn.Type.Optional(Nn.Type.Array(Nn.Type.String())),source:Qse}),eoe=Nn.Type.Array(Zse),toe=Nn.Type.Object({rules:eoe,last_updated_at:Nn.Type.String(),scope:Nn.Type.String()}),roe=Nn.Type.Array(toe);var Hc,xd,gy,FH,CA=class CA{constructor(t){this.ctx=t;H0(this,gy);H0(this,Hc,!1);H0(this,xd,new hy(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=s(async t=>{if(!We(this,Hc)||!t)return;let r=await this.ctx.get(Ds).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Ds).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(Li).on("onCopilotToken",r=>{var n;L0(this,Hc,(n=r.envelope.copilotignore_enabled)!=null?n:!1),this.evaluateResultCache.clear(),We(this,xd).refresh()})}get enabled(){return We(this,Hc)}async evaluate(t,r,n){var f;if(!We(this,Hc)||!p8(t.scheme))return{isBlocked:!1};let i=[],o=s(async(c,u)=>{let d=Date.now(),g=await u.evaluate(t,r),p=Date.now();return i.push({key:c,result:g,elapsedMs:p-d}),g},"track"),l=(f=(await Promise.all([o("contentExclusion.evaluate",We(this,xd))])).find(c=>c==null?void 0:c.isBlocked))!=null?f:{isBlocked:!1};try{for(let c of i)Xi(this,gy,FH).call(this,c.key,t,c.result,c.elapsedMs)}catch(c){console.log("Error tracking telemetry",c)}return n==="UPDATE"&&this.updateStatusIcon(l.isBlocked,l.message),l}updateStatusIcon(t,r){We(this,Hc)&&(t?this.ctx.get(Ql).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(Ql).forceNormal())}set __contentExclusions(t){L0(this,xd,t)}get __contentExclusions(){return We(this,xd)}};Hc=new WeakMap,xd=new WeakMap,gy=new WeakSet,FH=s(function(t,r,n,i){var c,u;let o=r.path+t;if(this.evaluateResultCache.get(o)===n.reason)return!1;if(this.evaluateResultCache.set(o,(c=n.reason)!=null?c:"UNKNOWN"),n.reason===Ip.reason)return II.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:(u=n.reason)!=null?u:"UNKNOWN"},f={elapsedMs:i};return A0(this.ctx,t,cr.createAndMarkAsIssued(l,f)),A0(this.ctx,t,cr.createAndMarkAsIssued({...l,path:r.path},f),1),II.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),s(CA,"CopilotContentExclusionManager");var hd=CA;var kA=require("path");wc();var MH=new Lr;function UH(e){return[...e].sort((t,r)=>{var o,a;let n=(o=MH.get(t.uri.toString()))!=null?o:0;return((a=MH.get(r.uri.toString()))!=null?a:0)-n})}s(UH,"sortByAccessTimes");var TA=class TA{constructor(t){this.docManager=t}async truncateDocs(t,r,n,i){let o=new Map,a=0;for(let l of t)if(!(a+l.getText().length>$8.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.vscodeUri.scheme==="file"&&r.scheme==="file"&&l.vscodeUri.fsPath!==r.fsPath&&EA(n,l.languageId)&&(o.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:await this.docManager.getRelativePath(l),languageId:l.languageId,source:l.getText()}),a+=l.getText().length),o.size>=i))break;return o}async getNeighborFiles(t,r,n){let i=new Map,o=new Map;return i=await this.truncateDocs(UH(await this.docManager.textDocuments()),t,r,n),o.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:o}}};s(TA,"OpenTabFiles");var py=TA;function ioe(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}s(ioe,"defaultHash");function SA(e,t={}){let{hash:r=ioe,cache:n=new Map}=t;return function(...i){let o=r.apply(this,i);if(n.has(o))return n.get(o);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(o),l})),n.set(o,a),a}}s(SA,"memoize");var jH=U0(ad());function qH(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}s(qH,"shortCircuit");var yy=new Map,PA=class PA extends Lr{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.get(r)&&super.delete(r)}};s(PA,"LRUExpirationCacheMap");var wA=PA,go=new I0(3,"relatedFiles"),soe=1e3,RA=class RA extends Error{constructor(){super("The provider failed providing the list of relatedFiles")}};s(RA,"RelatedFilesProviderFailure");var vy=RA,xy=class xy{constructor(t){this.context=t}async getRelatedFiles(t,r,n){let i=await this.getRelatedFileResponse(t,r,n);if(i==null)return null;let o=new Map;for(let a of i.entries){let l=o.get(a.type);l||(l=new Map,o.set(a.type,l));for(let f of a.uris)try{let c=jH.URI.parse(f);f=c.toString(),go.debug(this.context,`Processing ${f}`);let u=await this.getFileContent(c);if(!u||u.length==0){go.debug(this.context,`Skip ${f} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){go.debug(this.context,`Skip ${f} due content exclusion.`);continue}u=xy.dropBOM(u),l.set(f,u)}catch(c){go.warn(this.context,c)}}return o}async getFileContent(t){try{return this.context.get(oo).readFileString(t)}catch(r){go.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(hd).evaluate(t,r)).isBlocked}catch(n){go.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}};s(xy,"RelatedFilesProvider");var IA=xy,ooe=3,$H=new wA(soe),HH=s(async function(t,r,n,i,o){let a=Date.now(),l;try{l=await o.getRelatedFiles(r,n,i)}catch(c){go.exception(t,c,".getRelatedFiles"),l=null}l==null&&($H.bumpRetryCount(r.uri)>=ooe?l=yy:l=null);let f=Date.now()-a;if(go.debug(t,l!=null?`Fetched ${[...l.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${r.uri}' in ${f}ms.`:`Failing fecthing files for '${r.uri}' in ${f}ms.`),l==null)throw new vy;return l},"getRelatedFiles"),AA=SA(HH,{cache:$H,hash:(e,t,r,n,i)=>`${t.uri}`});AA=qH(AA,200,yy);async function VH(e,t,r,n,i=!1){let o=e.get(IA),a=yy;try{a=i?await HH(e,t,r,n,o):await AA(e,t,r,n,o)}catch(l){a=yy,l instanceof vy&&await A0(e,"getRelatedFilesList",n)}return a}s(VH,"getRelatedFilesList");function EA(e,t){return $l(e)===$l(t)}s(EA,"considerNeighborFile");var Xo=class Xo{static reset(){Xo.instance=void 0}static async getNeighborFiles(t,r,n,i){let o=t.get(Ds);Xo.instance===void 0&&(Xo.instance=new py(o));let a=await Xo.instance.getNeighborFiles(r,n,Xo.MAX_NEIGHBOR_FILES),l=await o.getTextDocument(r);if(!l)return go.debug(t,"neighborFiles.getNeighborFiles","Failed to get the document"),a;let f=await o.getWorkspaceFolder(l),c=f==null?void 0:f.toString();if(f&&c){let u={relativePath:(0,kA.relative)(c,l.uri),uri:l.uri,languageId:l.languageId,source:l.getText()},d=await VH(t,u,f,i);d==null&&(await A0(t,"getNeighborFiles.getRelatedFilesList.nullOrUndefined",i),go.debug(t,".getRelatedFilesList","Failed to get the relatedFiles, it is undefined/null")),d!=null&&d.size&&d.forEach((g,p)=>{let y=[];g.forEach((_,S)=>{if(a.docs.has(S))return;let T={relativePath:(0,kA.relative)(c,S),uri:S,languageId:u.languageId,source:_};y.unshift(T),a.docs.set(S,T)}),y.length>0&&a.neighborSource.set(p,y.map(_=>_.uri.toString()))})}else go.debug(t,"neighborFiles.getNeighborFiles","Failed to get the workspace folder");return a}};s(Xo,"NeighborSource"),Xo.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,Xo.MAX_NEIGHBOR_FILES=20,Xo.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var $8=Xo;var zH=2.98410452738298,KH=-.838732736843507,WH=1.50314646255716,GH=-.237798634012662,YH={python:.314368072478742},JH={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Bxe=new I0(3,"restraint"),loe={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function foe(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),o=t.get(n);return o+(i-o)*(e-n)/(r-n)}s(foe,"linearInterpolation");var DA=class DA{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}};s(DA,"Regressor");var o2=DA,LA=class LA{constructor(t,r,n){this.link=loe;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let o=r[i.name];if(o===void 0)return NaN;n+=i.contribution(o)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return foe(n,this.logitsToQuantiles)}};s(LA,"LogisticRegression");var NA=LA,Oxe=new NA(zH,[new o2("compCharLen",KH,e=>Math.log(1+e)),new o2("meanLogProb",WH),new o2("meanAlternativeLogProb",GH)].concat(Object.entries(YH).map(e=>new o2(e[0],e[1]))),JH);var fbe=new I0(3,"ghostText");var cbe=new yp;var H8=class H8{constructor(t=!1){this.requestMultilineOverride=t}};s(H8,"ForceMultiLine"),H8.default=new H8;var V8=H8;var XH=require("events");var BA=class BA extends XH.EventEmitter{};s(BA,"PostInsertionNotifier");var a2=BA;var Wbe=new I0(3,"postInsertion");var iCe=new I0(3,"ghostText"),l2,f2,c2,OA=class OA{constructor(){H0(this,l2,void 0);H0(this,f2,void 0);H0(this,c2,[])}get position(){return We(this,l2)}get shownCompletions(){return We(this,c2)||[]}get uri(){return We(this,f2)}resetState(){L0(this,f2,void 0),L0(this,l2,void 0),L0(this,c2,[])}setState(t,r){L0(this,f2,t),L0(this,l2,r),L0(this,c2,[])}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};l2=new WeakMap,f2=new WeakMap,c2=new WeakMap,s(OA,"LastGhostText");var z8=OA;var u2={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]}};var QH=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],ZH={".php":[".blade"]},eV=Object.keys(u2).flatMap(e=>u2[e].extensions);var _y=require("path"),$A=class $A{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};s($A,"Language");var Vc=$A,HA=class HA{};s(HA,"LanguageDetection");var of=HA;function rV(e){return new FA(new jA(new qA(new UA)),new MA(e))}s(rV,"getLanguageDetection");var VA=class VA extends of{constructor(r,n){super();this.delegate=r;this.notebookDelegate=n;this.cache=new Lr(100)}detectLanguage(r){let n=_y.basename(r.vscodeUri.path);return tV(n)?this.notebookDelegate.detectLanguage(r):this.detectLanguageForRegularFile(n,r)}detectLanguageForRegularFile(r,n){let i=this.cache.get(r);return i||(i=tV(r)?this.notebookDelegate.detectLanguage(n):this.delegate.detectLanguage(n),i.isGuess||this.cache.set(r,i)),i}};s(VA,"CachingLanguageDetection");var FA=VA;function tV(e){return e.endsWith(".ipynb")}s(tV,"isNotebook");var zA=class zA extends of{constructor(r){super();this.ctx=r}detectLanguage(r){let i=this.ctx.get(Ds).findNotebook(r);return i?this.detectCellLanguage(r,i):new Vc("python",!1,".ipynb")}detectCellLanguage(r,n){let i=n.getCellFor(r);return i?new Vc(i.document.languageId,!1,".ipynb"):new Vc("unknown",!1,".ipynb")}};s(zA,"NotebookLanguageDetection");var MA=zA,KA=class KA extends of{detectLanguage(t){let r=_y.basename(t.vscodeUri.path),n=_y.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),o=this.detectLanguageId(r,i);return new Vc(o.languageId,o.isGuess,this.computeFullyQualifiedExtension(n,i))}extensionWithoutTemplateLanguage(t,r){if(QH.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=_y.extname(n).toLowerCase();if(i.length>0&&eV.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=ZH[t];return!n||n.includes(r)}detectLanguageId(t,r){var o,a;let n=[],i=[];for(let l in u2){let f=u2[l];if(f.filenames){if(f.filenames.includes(t))return{languageId:l,isGuess:!1};f.filenames.some(c=>t.startsWith(c+"."))&&i.push(l)}f.extensions.includes(r)&&n.push(l)}return(a=(o=this.determineLanguageIdByCandidates(n))!=null?o:this.determineLanguageIdByCandidates(i))!=null?a:{languageId:"unknown",isGuess:!0}}determineLanguageIdByCandidates(t){if(t.length===1)return{languageId:t[0],isGuess:!1};if(t.length>1)return{languageId:t[0],isGuess:!0}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}};s(KA,"FilenameAndExensionLanguageDetection");var UA=KA,WA=class WA extends of{constructor(r){super();this.delegate=r}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new Vc("cpp",n.isGuess,n.fileExtension):n}};s(WA,"GroupingLanguageDetection");var qA=WA,GA=class GA extends of{constructor(r){super();this.delegate=r}detectLanguage(r){return r.vscodeUri.scheme==="untitled"?new Vc(r.languageId,!0,""):this.delegate.detectLanguage(r)}};s(GA,"UntitledLanguageDetection");var jA=GA;var SK=U0(require("fs")),wK=require("tls");var tv=new I0(3,"certificates"),cR=class cR{};s(cR,"RootCertificateReader");var ds=cR;function IK(e,t=process.platform){return new nR(e,[new iR,new sR,Qfe(e,t)])}s(IK,"getRootCertificateReader");function Qfe(e,t){switch(t){case"linux":return new oR(e);case"darwin":return new aR(e);case"win32":return new lR(e);default:return new fR}}s(Qfe,"createPlatformReader");var uR=class uR extends ds{constructor(r,n){super();this.ctx=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return tv.warn(this.ctx,`Failed to read root certificates: ${r}`),[]}}};s(uR,"ErrorHandlingCertificateReader");var rR=uR,dR=class dR extends ds{constructor(t,r){super(),this.delegates=r.map(n=>new rR(t,n))}async getAllRootCAs(){return this.certificates||(this.certificates=(await Promise.all(this.delegates.map(t=>t.getAllRootCAs()))).flat()),this.certificates}};s(dR,"CachingRootCertificateReader");var nR=dR,hR=class hR extends ds{async getAllRootCAs(){return wK.rootCertificates}};s(hR,"NodeTlsRootCertificateReader");var iR=hR,mR=class mR extends ds{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await AK(t):[]}};s(mR,"EnvironmentVariableRootCertificateReader");var sR=mR,gR=class gR extends ds{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await AK(n);tv.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}};s(gR,"LinuxRootCertificateReader");var oR=gR,pR=class pR extends ds{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=TK(),n=r.all(r.der2.pem).filter(i=>i!==void 0);return tv.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};s(pR,"MacRootCertificateReader");var aR=pR,yR=class yR extends ds{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=EK().all();return tv.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};s(yR,"WindowsRootCertificateReader");var lR=yR,vR=class vR extends ds{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};s(vR,"UnsupportedPlatformRootCertificateReader");var fR=vR;async function AK(e){try{let n=(await SK.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(o=>o.length>0),i=new Set(n);return Array.from(i)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}s(AK,"readCertsFromFile");var WK=U0(require("http"));var wce=407,ai=new I0(4,"proxySocketFactory"),wR=class wR{};s(wR,"ProxySocketFactory");var n1=wR,IR=class IR extends Error{constructor(t,r,n){var i,o,a;super(t),this.code=r==null?void 0:r.code,this.syscall=r==null?void 0:r.syscall,this.errno=r==null?void 0:r.errno,/^Failed to establish a socket connection to proxies:/.test((i=r==null?void 0:r.message)!=null?i:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((o=r==null?void 0:r.message)!=null?o:"")?this.code="ProxyInitializeSecurityContext":(r==null?void 0:r.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((a=r==null?void 0:r.message)!=null?a:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};s(IR,"ProxySocketError");var Pd=IR;function GK(e){return new TR(e,new ER(e))}s(GK,"getProxySocketFactory");var AR=class AR extends n1{constructor(r,n,i=new SR,o=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=o;this.successfullyAuthorized=new Lr(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(ai.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof Pd&&i.code===`ProxyStatusCode${wce}`){ai.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let o=await this.authorizeAndCreateSocket(r,n);if(o)return ai.debug(this.ctx,"Proxy authorization successful, caching result"),A0(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),o}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(ai.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(ai.debug(this.ctx,"Proxy authorization successful, received token"),i)return ai.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){ai.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),i=this.computeSpn(r);ai.debug(this.ctx,"Initializing kerberos client using spn",i);let o=await n.initializeClient(i);ai.debug(this.ctx,"Perform client side kerberos step");let a=await o.step("");return ai.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return ai.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return ai.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}};s(AR,"KerberosProxySocketFactory");var TR=AR,PR=class PR extends n1{constructor(r){super();this.ctx=r}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((o,a)=>{ai.debug(this.ctx,"Attempting to establish connection to proxy");let l=WK.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(f,c,u)=>{ai.debug(this.ctx,"Socket Connect returned status code",f.statusCode),l.removeAllListeners(),c.removeAllListeners(),f.statusCode!==200?(c.destroy(),a(new Pd(`tunneling socket could not be established, statusCode=${f.statusCode}`,void 0,`ProxyStatusCode${f.statusCode}`))):u.length>0?(c.destroy(),a(new Pd(`got non-empty response body from proxy, length=${u.length}`,void 0,"ProxyNonEmptyResponseBody"))):(ai.debug(this.ctx,"Successfully established tunneling connection to proxy"),o(c))}),l.once("error",f=>{ai.debug(this.ctx,"Proxy socket connection error",f.message),l.removeAllListeners(),a(new Pd(`tunneling socket could not be established, cause=${f.message}`,f))}),l.on("timeout",()=>{ai.debug(this.ctx,"Proxy socket connection timeout"),a(new Pd(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,o={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(o.localAddress=r.localAddress),this.configureProxyAuthorization(o,r),o}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};s(PR,"TunnelingProxySocketFactory");var ER=PR,RR=class RR{load(){return KK()}};s(RR,"KerberosLoader");var SR=RR;var QK=require("os"),ta=U0(ad());var Ice=new I0(3,"repository"),Rd="\\\\",ZK="(?:[#;].*)",R2=`(?:[^"${Rd}]|${Rd}.)`,Ace="[0-9A-Za-z-]",YK=`[A-Za-z]${Ace}*`,eW=`\\s*${ZK}?$`,tW=`(?:[^"${Rd};#]|${Rd}.)`,Pce=`(?:"${R2}*"|"${R2}*(?<strCont>${Rd})$)`,Rce=`(?:${tW}|${Pce})+`,kce=`(?:(?<cont>${Rd})$)`,rW=`(?<value>${Rce})${kce}?${eW}`,JK=new RegExp(`^${rW}`),Nce=new RegExp(`^(?<value>${R2}*(?:(?<strCont>${Rd})$|(?<quote>")))`),Dce=new RegExp(`^\\s*(?:(?<key>${YK})\\s*=\\s*${rW}|(?<soloKey>${YK})${eW})`),Lce=new RegExp(`(?<value>${tW}+)|"(?<string>${R2}*)"`,"g"),XK="[-.0-9A-Za-z]+",Bce=`\\s+"(?<ext>${R2}*)"`,Oce=`\\s+"(?<extOnly>${R2}*)"`,Fce=new RegExp(`^\\s*\\[(?:(?<simple>${XK})${Bce}|${Oce}|(?<simpleOnly>${XK}))\\]`),Mce=new RegExp(`^\\s*${ZK}$`),NR=class NR{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){var r,n;let t=this.line.match(Fce);t&&((r=t.groups)!=null&&r.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):(n=t.groups)!=null&&n.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){var r,n,i,o;let t=this.line.match(Dce);if(t){if((r=t.groups)!=null&&r.key){let a=this.handleContinued(t);(n=this.configValueHandler)==null||n.call(this,this.nameWithSection(t.groups.key.toLowerCase()),a)}else(i=t.groups)!=null&&i.soloKey&&((o=this.configValueHandler)==null||o.call(this,this.nameWithSection(t.groups.soloKey.toLowerCase()),""));this.line=""}}handleContinued(t){var i,o,a;let r=t,n=[this.matchedValue(r)];for(;(i=r==null?void 0:r.groups)!=null&&i.cont||(o=r==null?void 0:r.groups)!=null&&o.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Nce),r?(n.push(this.matchedValue(r)),(a=r.groups)!=null&&a.quote&&(r=this.line.slice(r[0].length).match(JK),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(JK),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(Lce)].map(i=>{var o;return(o=i.groups)!=null&&o.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))}).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){Mce.test(this.line)&&(this.line="")}};s(NR,"GitConfigParser");var kR=NR,DR=class DR extends Ha{async getConfig(t,r){let n=await tf.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new t2)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let o=new kR(i),a=new t2;return o.parse((l,f)=>a.add(l,f)),a}async tryLoadConfig(t,r,n){try{return await t.get(oo).readFileString(r)}catch(i){(n||i.code!=="ENOENT")&&Ice.warn(t,`Failed to load git config from ${r.toString()}: ${i}`);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=ta.Utils.joinPath(this.xdgConfigUri(),"git","config"),o=ta.Utils.joinPath(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,o,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(ta.Utils.basename(r).toLowerCase()!=="config.worktree")return;let n=ta.Utils.dirname(r),i=ta.Utils.joinPath(n,"commondir");try{let o=(await t.get(oo).readFileString(i)).trimEnd();return ta.Utils.joinPath(y8(n,o),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?ta.URI.file(process.env.XDG_CONFIG_HOME):ta.Utils.joinPath(this.homeUri(),".config")}homeUri(){return ta.URI.file((0,QK.homedir)())}};s(DR,"GitParsingConfigLoader");var ov=DR;var iW=U0(require("events"));var nW="onWorkspaceChanged",LR=class LR{constructor(){this.emitter=new iW.default}onChange(t){this.emitter.on(nW,t)}emit(t){this.emitter.emit(nW,t)}};s(LR,"WorkspaceNotifier");var l6=LR;function sW(e){let t=new pp;return t.set(cd,e),t.set(Yu,new Yu),t.set(Bi,new Bi),Uce(t),t.set(W3,new W3),t.set(Li,new Li),t.set(ds,IK(t)),t.set(n1,GK(t)),t.set(of,rV(t)),t.set(cn,new cn(t)),t.set(a2,new a2),t.set(ud,new ud),t.set(os,new os(t)),t.set(ao,new ao),t.set(Bc,new Bc),t.set(Lc,new Lc),t.set(Zu,new Zu),t.set(G3,new G3),t.set(dd,new I8),t.set(V3,new rp),t.set(ld,new X7),t.set(Oi,new Oi),t.set(Gu,new Gu),t.set(z8,new z8),t.set(V8,V8.default),t.set(tf,new tf(t)),t.set(Ha,new Fp([new Op,new ov])),t.set(l6,new l6),t.set(od,new od),t.set(C8,new C8),t}s(sW,"createProductionContext");function Uce(e){e.set(Ju,Ju.fromEnvironment(!1)),e.set(P3,new y7(console))}s(Uce,"setupRudimentaryLogging");var HEe=new I0(4,"context");var aW="github.com",oW=`https://${aW}`,qce="https://api.githubcopilot.com",jce="https://copilot-telemetry.githubusercontent.com/telemetry",$ce="https://copilot-proxy.githubusercontent.com",Hce="https://origin-tracker.githubusercontent.com",BR=class BR extends ss{constructor(r,n=oW,i=process.env){super();this.env=i;this.recalculateUrlDefaults(n),r.get(Li).on("onCopilotToken",o=>this.onCopilotToken(r,o))}onCopilotToken(r,n){n.envelope.endpoints&&this.updateServiceEndpoints(r,n.envelope.endpoints)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getTokenUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.copilotTokenUrl)!=null?i:this.tokenUrl}getNotificationUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.notificationUrl)!=null?i:this.notificationUrl}getContentRestrictionsUrl(r){var n,i;return(i=(n=r.devOverride)==null?void 0:n.contentRestrictionsUrl)!=null?i:this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getUserInfoUrl(){return this.userInfoUrl}getCAPIUrl(r,n){let i=this.urlOrConfigOverride(r,this.capiUrl,$r.DebugOverrideCapiUrl,$r.DebugTestOverrideCapiUrl);return this.join(i,n)}getBlackbirdCodeSearchUrl(r){return this.getCAPIUrl(r,"/search/code")}getBlackbirdDocsSearchUrl(r){return this.getCAPIUrl(r,"/search/docs")}getEmbeddingsUrl(r){return this.getCAPIUrl(r,"/embeddings")}getTelemetryUrl(){return this.telemetryUrl}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getCompletionsUrl(r,n){let i=this.urlOrConfigOverride(r,this.completionsUrl,$r.DebugOverrideProxyUrl,$r.DebugTestOverrideProxyUrl);return this.join(i,n)}getSnippetRetrievalUrl(r,n,i){let o=new URL(this.getCompletionsUrl(r,"v0/retrieval"));return o.search=new URLSearchParams({repo:n,impl:i}).toString(),o.href}getOriginTrackingUrl(r,n){let i=Jh(r)?this.originTrackerUrl:this.urlOrConfigOverride(r,this.originTrackerUrl,$r.DebugSnippyOverrideUrl);return this.join(i,n)}updateBaseUrl(r,n){n||(n=oW);let i=this.baseUrlObject;if(!this.isPermittedUrl(r,n)){r.get(Qu).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`);return}this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(Di).resetCopilotToken(r)})}updateServiceEndpoints(r,n){this.isPermittedUrl(r,n.api)&&(this.capiUrl=n.api),this.isPermittedUrl(r,n.proxy)&&(this.completionsUrl=n.proxy),this.isPermittedUrl(r,n["origin-tracker"])&&(this.originTrackerUrl=n["origin-tracker"]),this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let o=r.get(Bc);o.isInitialized&&o.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==aW,this.apiUrl=i.href,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.capiUrl=this.isEnterprise?this.prefixWith("copilot-api.",this.baseUrlObject).href:qce,this.telemetryUrl=this.isEnterprise?this.join(this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href,"/telemetry"):jce,this.completionsUrl=$ce,this.originTrackerUrl=Hce}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!Jh(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}urlOrConfigOverride(r,n,i,o){if(o&&Xu(r)){let l=Pc(r,o);return l.length==0?n:l}let a=Pc(r,i);return a.length==0?n:a}};s(BR,"DefaultNetworkConfiguration");var av=BR;var lW=require("os");var Vce=require("crypto"),zce=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function Kce(e){let t=e.replace(/-/g,":").toLowerCase();return!zce.has(t)}s(Kce,"validateMacAddress");function Wce(){let e=(0,lW.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(Kce(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}s(Wce,"getMac");var OR;function Gce(){try{let e=Wce();return Vce.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}s(Gce,"getMacMachineId");function fW(){return OR||(OR=Gce()||Ru()),OR}s(fW,"getMachineId");var cW=U0(require("tls"));var FR=class FR{constructor(t){this._certificateReader=t.get(ds)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async applyToRequestOptions(t){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};t.secureContext=cW.createSecureContext(n),t.ca=r,t.cert=r,r.map(i=>{t.secureContext.context.addCACert(i)})}};s(FR,"RootCertificateConfigurator");var lv=FR;var MR=class MR extends ti{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=s((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let o=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,o)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new lv(r),this.proxySocketFactory=r.get(n1)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Bi);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),mq({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){var f,c;let i=n.signal;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>u.abort(),n.timeout),(f=n.signal)==null||f.addEventListener("abort",()=>u.abort()),(c=n.signal)!=null&&c.aborted&&u.abort(),i=u.signal}let o={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(o);let a=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(a);let l=await this.fetchApi.fetch(r,o);return new z7(l.status,l.statusText,l.headers,()=>l.text(),async()=>l.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new gq}};s(MR,"HelixFetcher");var fv=MR;var dW=hw(),Yce=Ru()+Date.now();async function hW(){let e=sW(new np);return e.set(ss,new av(e)),e.set(ti,new fv(e)),e.set(Ei,new UR(await Jce())),e.set(Pn,new Pn(Yce,fW())),e.forceSet(Oi,new lp),await Sw(e,dW.name,!0),e}s(hW,"createUninstallContext");async function Jce(){let e="unknown";try{return await new Promise((t,r)=>{var i;let n=(0,uW.spawn)("code -v",{shell:!0,stdio:"pipe"});(i=n.stdout)==null||i.on("data",o=>{e==="unknown"&&(e=o.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",o=>r(o))})}catch{return e}}s(Jce,"lookupVscodeVersion");var qR=class qR extends Ei{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:dW.version}}};s(qR,"UninstallEditorInfo");var UR=qR;async function Xce(){let e=await hW(),t=new gp;process.argv.includes("--dry-run")||await t.uninstall(e)}s(Xce,"doUninstall");Xce().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
